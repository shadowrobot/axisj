function AXgetId(id){return document.getElementById(id)}function AX_A(iterable){if(!iterable)return[];if("toArray"in Object(iterable))return iterable.toArray();for(var length=iterable.length||0,results=new Array(length);length--;)results[length]=iterable[length];return results}if(!window.AXConfig)var AXConfig={anchorHref:'href="javascript:;"',weekDays:[{label:"일"},{label:"월"},{label:"화"},{label:"수"},{label:"목"},{label:"금"},{label:"토"}],AXReq:{async:!0,okCode:"ok",responseType:"",dataType:"",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataSendMethod:"parameter",crossDomain:!1,resultFormatter:function(){return this}},AXGrid:{passiveMode:!1,passiveRemoveHide:!1,fitToWidthRightMargin:11,fitToWidth:!1,pageSize:10,pageHeight:400,headTdHeight:30,keyResult:"result",keyList:"list",emptyListMSG:"empty of list",listCountMSG:"<b>{listCount}</b> count(s)",pageCountMSG:"page(s)"},AXTree:{fitToWidthRightMargin:10,fitToWidth:!1,pageSize:10,pageHeight:400,keyResult:"result",keyTree:"tree",keyList:"list",emptyListMSG:"목록이 없습니다.",persistExpanded:!1,persistSelected:!1,cookiePrefix:"axtree-",cookieExpiredays:7},AXProgress:{cancelMsg:"프로세스를 취소 하시겠습니까?"},AXUpload5:{buttonTxt:"Upload files",deleteConfirm:"정말 삭제하시겠습니까?",uploadSelectTxt:"업로드 하실 파일을 선택해주세요.",dropZoneTxt:"업로드할 파일을 여기에 놓습니다."},AXModal:{contentDivClass:"bodyHeightDiv",pars:""},AXInput:{errorPrintType:"toast",selectorOptionEmpty:"목록이 없습니다.",yearText:"{year}년",monthText:"{month}월",confirmText:"확인",keyOptions:"options",keyOptionValue:"optionValue",keyOptionText:"optionText"},AXSelect:{keyOptions:"options",keyOptionValue:"optionValue",keyOptionText:"optionText"},AXContextMenu:{title:"선택하세요"},mobile:{responsiveWidth:0},AXEditor:{editor_frameSrc:"/_AXJ/lib/AXEditor.html",iconDirectory:"/ui/icons/"},AXTab:{closable:!1},AXValidator:{validateErrMessage:{required:"[{label}](은)는 필수입력 사항입니다.",requiredstring:"반드시 {required}(으)로 입력하셔야 하는 사항입니다.",match:"[{label}](은)는 입력된 내용이 일치하지 않습니다.",invalid:"[{label}](은)는 입력된 내용이 올바르지 않습니다.",min:"[{label}](은)는 {min} 이상의 값을 입력해주세요.",max:"[{label}](은)는 {max} 이하의 값을 입력해주세요.",minbyte:"[{label}]의 입력된 내용의 길이가 {minbyte}Byte 이상이어야 합니다.",maxbyte:"[{label}]의 입력된 내용의 길이가 {maxbyte}Byte를 초과할 수 없습니다.",minlength:"[{label}]의 입력된 내용의 length가 {minlength} 이상이어야 합니다.",maxlength:"[{label}]의 입력된 내용의 length가 {maxlength}을 초과할 수 없습니다.",number:"숫자로만 입력하셔야 합니다.",email:"이메일 형식이 올바르지 않습니다.",hangul:"한글로만 입력하셔야 합니다.",engonly:"영문으로만 입력하셔야 합니다.",residentno:"주민등록번호 형식이 올바르지 않습니다.",foreignerno:"외국인등록번호 형식이 올바르지 않습니다.",bizno:"사업자등록번호 형식이 올바르지 않습니다.",phone:"전화번호 형식이 올바르지 않습니다.",isdate:"날짜 형식이 올바르지 않습니다.",zip:"우편번호 형식이 올바르지 않습니다.",money:"화폐형식으로만 입력하셔야 합니다.",earlierThan:"[{label}] 보다 빠른 날짜를 입력해야 합니다.",laterThan:"[{label}] 보다 느린 날짜를 입력해야 합니다.",exception:"not found errmessage"}}};var axf=AXUtil={async:!0,ajaxOkCode:"ok",ajaxResponseType:"",ajaxDataType:"",gridPassiveMode:!1,gridPassiveRemoveHide:!1,gridFitToWidthRightMargin:10,uniqueSeq:0,getUniqueId:function(){return axf.uniqueSeq+=1},getId:function(id){return document.getElementById(id)},each:function(obj,callback){if(obj){var name,i=0,length=obj.length;if(void 0===length||Object.isFunction(obj)){for(name in obj)if(!1===callback.call(obj[name],name,obj[name]))break}else for(;i<length&&!1!==callback.call(obj[i],i,obj[i++]););}},browser:function(){var ua=navigator.userAgent.toLowerCase(),mobile=-1!=ua.search(/mobile/g);if(-1!=ua.search(/iphone/g))return{name:"iphone",version:0,mobile:!0};if(-1!=ua.search(/ipad/g))return{name:"ipad",version:0,mobile:!0};if(-1!=ua.search(/android/g)){var match=/(android)[ \/]([\w.]+)/.exec(ua)||[],browserVersion=match[2]||"0";return{name:"android",version:browserVersion,mobile:mobile}}var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua)||/(opera|opr)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[],browser=match[1]||"",browserVersion=match[2]||"0",browserName={msie:"ie",trident:"ie",opr:"opera"};return browser in browserName&&(browser=browserName[browser]),{name:browser,version:browserVersion,mobile:mobile}}(),docTD:function(){return document.compatMode&&"BackCompat"!=document.compatMode?"S":"Q"}(),timekey:function(){var d=new Date;return"A"+d.getHours().setDigit(2)+d.getMinutes().setDigit(2)+d.getSeconds().setDigit(2)+d.getMilliseconds()},overwriteObject:function(tg,obj,rewrite){return void 0==rewrite&&(rewrite=!0),obj&&AXUtil.each(obj,function(k,v){rewrite?tg[k]=v:void 0==tg[k]&&(tg[k]=v)}),tg},copyObject:function(obj){return Object.toJSON(obj).object()},consonantKR:function(cword){for(var cons=[{c:"ㄱ",re:"[가-깋]"},{c:"ㄲ",re:"[까-낗]"},{c:"ㄴ",re:"[나-닣]"},{c:"ㄷ",re:"[다-딯]"},{c:"ㄸ",re:"[따-띻]"},{c:"ㄹ",re:"[라-맇]"},{c:"ㅁ",re:"[마-밓]"},{c:"ㅂ",re:"[바-빟]"},{c:"ㅃ",re:"[빠-삫]"},{c:"ㅅ",re:"[사-싷]"},{c:"ㅆ",re:"[싸-앃]"},{c:"ㅇ",re:"[아-잏]"},{c:"ㅈ",re:"[자-짛]"},{c:"ㅉ",re:"[짜-찧]"},{c:"ㅊ",re:"[차-칳]"},{c:"ㅋ",re:"[카-킿]"},{c:"ㅌ",re:"[타-팋]"},{c:"ㅍ",re:"[파-핗]"},{c:"ㅎ",re:"[하-힣]"},{c:"(",re:"\\("},{c:")",re:"\\)"},{c:"[",re:"\\["},{c:"]",re:"\\]"}],rword="",cwords=cword.split(""),i=0,l=cwords.length;i<l;i++){var fos=cons.searchObject(function(){return this.item.c==cwords[i]}),fo=fos.first();rword+=fo?fo.re:cwords[i]}return rword},setCookie:function(name,value,expiredays,options){var expireDate;return"number"==typeof expiredays&&(expireDate=new Date,expireDate.setDate(expireDate.getDate()+expiredays)),options=options||{},document.cookie=[encodeURIComponent(name),"=",String(value),expireDate?"; expires="+expireDate.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")},getCookie:function(name){for(var nameOfCookie=name+"=",x=0;x<=document.cookie.length;){var y=x+nameOfCookie.length;if(document.cookie.substring(x,y)==nameOfCookie)return-1==(endOfCookie=document.cookie.indexOf(";",y))&&(endOfCookie=document.cookie.length),decodeURIComponent(document.cookie.substring(y,endOfCookie));if(0==(x=document.cookie.indexOf(" ",x)+1))break}return""},JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,dayLen:function(y,m){return[3,5,8,10].has(function(){return this.item==m})?30:1==m?y%4==0&&y%100!=0||y%400==0?29:28:31},clientHeight:function(){return"Q"==AXUtil.docTD?document.body.clientHeight:document.documentElement.clientHeight},scrollHeight:function(){return"Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight},clientWidth:function(){return"Q"==AXUtil.docTD?document.body.clientWidth:document.documentElement.clientWidth},scrollWidth:function(){return"Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth},scrollTop:function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},scrollLeft:function(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft},Event:{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_ESC:27,KEY_SPACE:32,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_INSERT:45,KEY_DELETE:46,KEY_WINDOW:91,KEY_EQUAL:187,KEY_MINUS:189,KEY_PERIOD:190,NUMPAD_EQUAL:12,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_COMMA:194,cache:{}},console:function(obj){var po="";if(arguments.length>1)for(i=0;i<arguments.length;i++){var obji=arguments[i],objStr="",type=(typeof obji).toLowerCase();"undefined"==type||"function"==type?objStr=type:"boolean"==type||"number"==type||"string"==type?objStr=obji:"object"==type&&(objStr=Object.toJSON(obji)),""!=po&&(po+=", "),po+="arg["+i+"] : "+objStr}else{var type=(typeof obj).toLowerCase();"undefined"==type||"function"==type?po=type:"boolean"==type||"number"==type||"string"==type?po=obj:"object"==type&&(po=Object.toJSON(obj))}if(axf.mobileConsole)axf.mobileConsole.prepend("<div>"+po+"</div>");else if(void 0==window.console);else try{console.log(po)}catch(e){alert(e)}},alert:function(obj){var po="";if(arguments.length>1)for(i=0;i<arguments.length;i++){var obji=arguments[i],objStr="",type=(typeof obji).toLowerCase();"undefined"==type||"function"==type?objStr=type:"boolean"==type||"number"==type||"string"==type?objStr=obji:"object"==type&&(objStr=Object.toJSON(obji)),""!=po&&(po+=", "),po+="arguments["+i+"] : "+objStr}else{var type=(typeof obj).toLowerCase();"undefined"==type||"function"==type?po=type:"boolean"==type||"number"==type||"string"==type?po=obj:"object"==type&&(po=Object.toJSON(obj))}alert(po)},confirm:function(obj){var po="",type=(typeof obj).toLowerCase();return"undefined"==type||"function"==type?po=type:"boolean"==type||"number"==type||"string"==type?po=obj:"object"==type&&(po=Object.toJSON(obj)),confirm(po)},importJS:function(src){var scriptElement=document.createElement("script");scriptElement.setAttribute("src",src),scriptElement.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(scriptElement)},bindPlaceholder:function(){},isEmpty:function(obj){return""===obj||null===obj||void 0===obj},getUrlInfo:function(){var url,url_param,param,referUrl,pathName,AXparam,pageProtocol,pageHostName;return url_param=window.location.href,param=window.location.search,referUrl=document.referrer,pathName=window.location.pathname,url=url_param.replace(param,""),param=param.replace(/^\?/,""),pageProtocol=window.location.protocol,pageHostName=window.location.hostname,AXparam=url_param.replace(pageProtocol+"//",""),AXparam=param?AXparam.replace(pageHostName+pathName+"?"+param,""):AXparam.replace(pageHostName+pathName,""),{url:url,param:param,anchorData:AXparam,urlParam:url_param,referUrl:referUrl,pathName:pathName,protocol:pageProtocol,hostName:pageHostName}},encParam:function(str){for(var arr,re=new RegExp("[^&?]*?=[^&?]*","ig"),pars=[];null!=(arr=re.exec(str));){var strContent=arr.toString(),dotIndex=strContent.indexOf("=");pars.push(strContent.substring(0,dotIndex)+"="+strContent.substring(dotIndex+1).enc())}return pars.join("&")},readyMobileConsole:function(){AXUtil.mobileConsole=axdom('<div class="AXMobileConsole"></div>'),axdom(document.body).append(AXUtil.mobileConsole)},parsingTable:function(elemObj,returnType){var head={},body=[];return elemObj.find("thead tr td").each(function(){var elem=axdom(this),attrs={key:elem.attr("name"),label:elem.html()||"",width:elem.attr("width")||"*",align:elem.attr("align")||""};head[attrs.key]=attrs}),elemObj.find("tbody tr").each(function(){var item={};axdom(this).find("td").each(function(){var elem=axdom(this);item[elem.attr("name")]=elem.html()}),body.push(item)}),{head:head,body:body}},mousewheelevt:/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",get_event_target:function(target,cond){var _target=target;if(_target)for(;function(){var result=!0;if(Object.isFunction(cond))result=cond(_target);else if(Object.isObject(cond))for(var k in cond)if("tagname"===k){if(_target.tagName.lcase()!=cond[k]){result=!1;break}}else if("clazz"===k){for(var klasss=_target.className.split(/ /g),hasClass=!1,a=0;a<klasss.length;a++)if(klasss[a]==cond[k]){hasClass=!0;break}result=hasClass}else{if(!_target.getAttribute){result=!1;break}if(_target.getAttribute(k)!=cond[k]){result=!1;break}}return!result}();){if(!_target.parentNode){_target=!1;break}_target=_target.parentNode}return _target}},axdom;window.jQuery&&(axdom=jQuery),window.axdomConverter&&(axdom=axdomConverter);var Class=function(){function subclass(){}function create(){function klass(){this.initialize.apply(this,arguments)}var parent=null,properties=AX_A(arguments);Object.isFunction(properties[0])&&(parent=properties.shift()),Object.extend(klass,Class.Methods),klass.superclass=parent,klass.subclasses=[],parent&&(subclass.prototype=parent.prototype,klass.prototype=new subclass,parent.subclasses.push(klass));for(var i=0;i<properties.length;i++)klass.addMethods(properties[i]);return klass.prototype.initialize||(klass.prototype.initialize=Prototype.emptyFunction),klass.prototype.constructor=klass,klass}function addMethods(source){var ancestor=this.superclass&&this.superclass.prototype,properties=Object.keys(source);Object.keys({toString:!0}).length||(source.toString!=Object.prototype.toString&&properties.push("toString"),source.valueOf!=Object.prototype.valueOf&&properties.push("valueOf"));for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];if(ancestor&&Object.isFunction(value)&&"AXJ_super"==value.argumentNames().first()){var method=value;value=function(m){return function(){return ancestor[m].apply(this,arguments)}}(property).wrap(method),value.valueOf=method.valueOf.bind(method),value.toString=method.toString.bind(method)}this.prototype[property]=value}return this}return{create:create,Methods:{addMethods:addMethods}}}();!function(){function extend(){var target=arguments[0]||{},items=arguments[1],overwrite=arguments[2]||!1;if("object"!=typeof target&&"function"!=typeof target&&(target={}),"string"==typeof items)target=items;else if(!0===overwrite)for(var k in items)target[k]=items[k];else if(!1===overwrite)for(var k in items)void 0===target[k]&&(target[k]=items[k]);return target}function inspect(obj){try{return isUndefined(obj)?"undefined":null===obj?"null":obj.inspect?obj.inspect():String(obj)}catch(e){if(e instanceof RangeError)return"...";throw e}}function toJSONfn(object,qoute){var type=typeof object,isqoute=qoute;switch(void 0==isqoute&&(isqoute=!0),type){case"undefined":return"undefined";case"function":try{return toJSONfn(object(),isqoute)}catch(e){return}case"unknown":return"unknown";case"boolean":case"number":return object.toString();case"string":return object.axtoJSON(!0)}if(null===object)return"null";if(object.axtoJSON)return object.axtoJSON(isqoute);if(!isElement(object)){var results=[];for(var property in object)if(object.hasOwnProperty(property)){var value=toJSONfn(object[property],isqoute);isUndefined(value)||results.push(property.axtoJSON(isqoute)+":"+value)}return"{"+results.join(", ")+"}"}}function toJSONforMobile(object){switch(typeof object){case"undefined":case"function":case"unknown":return;case"boolean":case"number":return'"'+object.toString()+'"';case"string":return object.axtoJSON(!0)}if(null===object)return"null";if(object.toJSONforMobile)return object.toJSONforMobile(!0);if(!isElement(object)){var results=[];for(var property in object)if(object.hasOwnProperty(property)){var value=axtoJSON(object[property]);isUndefined(value)||results.push(property.axtoJSON(!0)+":"+value)}return"{"+results.join(", ")+"}"}}function keys(obj){var results=[];for(var property in obj)results.push(property);return results}function values(obj){var results=[];for(var property in obj)results.push(obj[property]);return results}function clone(obj){return extend({},obj)}function isElement(obj){return!(!obj||1!=obj.nodeType)}function isObject(obj){return"[object Object]"==_toString.call(obj)}function isArray(obj){return"[object Array]"==_toString.call(obj)}function isHash(obj){return obj instanceof Hash}function isFunction(obj){return"function"==typeof obj}function isString(obj){return"[object String]"==_toString.call(obj)}function isNumber(obj){return"[object Number]"==_toString.call(obj)}function isUndefined(obj){return void 0===obj}var _toString=Object.prototype.toString,toJSON=function(){var f,r=/["]/g;return f=function(vContent,isqoute){var result,i,j;switch(result=typeof vContent){case"string":return'"'+vContent.replace(r,'\\"')+'"';case"number":return vContent;case"boolean":return vContent.toString();case"undefined":return"undefined";case"function":return'""';case"object":if("[object Number]"==_toString.call(vContent))return vContent;if("[object String]"==_toString.call(vContent))return'"'+vContent.replace(r,'\\"')+'"';if(!vContent)return"null";if(result="",vContent.splice){for(i=0,j=vContent.length;i<j;i++)result+=","+f(vContent[i]);return"["+result.substr(1)+"]"}for(i in vContent)vContent.hasOwnProperty(i)&&void 0!==vContent[i]&&"function"!=typeof vContent[i]&&(result+=',"'+i+'":'+f(vContent[i]));return"{"+result.substr(1)+"}"}}}();extend(Object,{extend:extend,inspect:inspect,toJSON:toJSON,toJSONfn:toJSONfn,toJSONforMobile:toJSONforMobile,keys:keys,values:values,clone:clone,isElement:isElement,isObject:isObject,isArray:isArray,isHash:isHash,isFunction:isFunction,isString:isString,isNumber:isNumber,isUndefined:isUndefined})}(),Object.extend(Function.prototype,function(){function update(array,args){for(var arrayLength=array.length,length=args.length;length--;)array[arrayLength+length]=args[length];return array}function merge(array,args){return array=slice.call(array,0),update(array,args)}function argumentNames(){var names=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=names.length||names[0]?names:[]}function bind(context){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var __method=this,args=slice.call(arguments,1);return function(){var a=merge(args,arguments);return __method.apply(context,a)}}function curry(){if(!arguments.length)return this;var __method=this,args=slice.call(arguments,0);return function(){var a=merge(args,arguments);return __method.apply(this,a)}}function delay(timeout){var __method=this,args=slice.call(arguments,1);return timeout*=1e3,window.setTimeout(function(){return __method.apply(__method,args)},timeout)}function defer(){var args=update([.01],arguments);return this.delay.apply(this,args)}function wrap(wrapper){var __method=this;return function(){var a=update([__method.bind(this)],arguments);return wrapper.apply(this,a)}}function methodize(){if(this._methodized)return this._methodized;var __method=this;return this._methodized=function(){var a=update([this],arguments);return __method.apply(null,a)}}function addPrototype(fns){var name;if(void 0===fns.length||Object.isFunction(fns))for(name in fns)this.prototype[name]=fns[name]}var slice=Array.prototype.slice;return{argumentNames:argumentNames,bind:bind,curry:curry,delay:delay,defer:defer,wrap:wrap,methodize:methodize,addPrototype:addPrototype}}()),Object.extend(String.prototype,function(){function password(){return Math.tan(45).toString().substr(7)}function left(strLen){return this.toString().substr(0,strLen)}function right(strLen){return this.substring(this.length-strLen,this.length)}function dec(){try{return decodeURIComponent(this)}catch(e){return unescape(this)}}function enc(){return this?encodeURIComponent(this).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)}):this}function object(){try{var res=this.evalJSON()}catch(e){res={error:"syntaxerr",result:"syntaxerr",msg:"to object error, "+e.print()+", "+this};try{mask.close()}catch(e){}}return res}function array(){try{var res=this.split(/,/g)}catch(e){res={error:"syntaxerr",result:"syntaxerr",msg:"to object error, "+e.print()+", "+this}}return res}function toDate(separator,defaultDate){function local_date(yy,mm,dd,hh,mi,ss){var utc_d;return new Date,void 0===hh&&(hh=11),void 0===mi&&(mi=59),utc_d=new Date(Date.UTC(yy,mm,dd||1,hh,mi,ss||0)),0==mm&&1==dd&&utc_d.getUTCHours()+utc_d.getTimezoneOffset()/60<0?utc_d.setUTCHours(0):utc_d.setUTCHours(utc_d.getUTCHours()+utc_d.getTimezoneOffset()/60),utc_d}if(0==this.length)return defaultDate||new Date;if(this.length>15){var yy,mm,dd,hh,mi,aTimes,aTime,aDateTime=this.split(/ /g),aDate=aDateTime[0].split(separator||"-");return yy=aDate[0],mm=parseFloat(aDate[1]),dd=parseFloat(aDate[2]),aTime=aDateTime[1]||"11:59",aTimes=aTime.left(5).split(":"),hh=parseFloat(aTimes[0]),mi=parseFloat(aTimes[1]),"AM"!==aTime.right(2)&&"PM"!==aTime.right(2)||(hh+=12),local_date(yy,mm-1,dd,hh,mi)}if(14==this.length){var va=this.replace(/\D/g,"");return local_date(va.substr(0,4),va.substr(4,2).number()-1,va.substr(6,2).number(),va.substr(8,2).number(),va.substr(10,2).number(),va.substr(12,2).number())}if(this.length>7){var va=this.replace(/\D/g,"");return local_date(va.substr(0,4),va.substr(4,2).number()-1,va.substr(6,2).number())}if(this.length>4){var va=this.replace(/\D/g,"");return local_date(va.substr(0,4),va.substr(4,2).number()-1,1)}if(this.length>2){var va=this.replace(/\D/g,"");return local_date(va.substr(0,4),va.substr(4,2).number()-1,1)}return defaultDate||new Date}function toNum(){var pair=this.replace(/,/g,"").split("."),isMinus=!1;parseFloat(pair[0])<0&&(isMinus=!0),"-0"==pair[0]&&(isMinus=!0);var returnValue=0;return pair[0]=pair[0].replace(/[-|+]?[\D]/gi,""),pair[1]?(pair[1]=pair[1].replace(/\D/gi,""),returnValue=parseFloat(pair[0]+"."+pair[1])||0):returnValue=parseFloat(pair[0])||0,isMinus?-returnValue:returnValue}function parseF(){return parseFloat(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScript(){var cStr,RegExpJS=new RegExp("<[ ]*script[^>]*>[^<]*</[ ]*script[^>]*>","gi");return cStr=this.replace(RegExpJS,""),cStr=cStr.replace(/[\s]*onclick[^=]*=/gi," xonclick="),cStr=cStr.replace(/[\s]*onmouserover[^=]*=/gi," xonmouseover="),cStr=cStr.replace(/[\s]*onmouseout[^=]*=/gi," xonmouseout="),cStr=cStr.replace(/[\s]*onchange[^=]*=/gi," xonchange="),cStr=cStr.replace(/[\s]*onblur[^=]*=/gi," xonblur="),cStr=cStr.replace(/[\s]*onerror[^=]*=/gi," xonerror="),cStr=cStr.replace(/[\s]*onload[^=]*=/gi," xonload="),cStr=cStr.replace(/[\s]*href[^=]*=[\s]*["']?javascript/gi,' href="xjavascript')}function times(count){return count<1?"":new Array(count+1).join(this)}function inspect(useDoubleQuotes){var escapedString=this.replace(/[\x00-\x1f\\]/g,function(character){try{if(character in String.specialChar)return String.specialChar[character]}catch(e){}return 13==character.charCodeAt()?"\\r":10==character.charCodeAt()?"\\n":"\\u00"+character.charCodeAt()});return useDoubleQuotes?'"'+escapedString.replace(/"/g,'\\"')+'"':""+escapedString.replace(/'/g,"\\'")}function axtoJSON(TF){return this.inspect(TF||!1)}function blank(){return/^\s*$/.test(this)}function isJSON(){var str=this;return!str.isBlank()&&(str=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(str))}function unfilterJSON(filter){return this.replace(filter||AXUtil.JSONFilter,"$1")}function evalJSON(sanitize){var json=this.unfilterJSON();try{var _evl=eval;return!sanitize||json.isJSON()?_evl("("+json+")"):{error:"syntaxerr",result:"syntaxerr",msg:"JSON syntax error. fail to convert Object\n"+this}}catch(e){return{error:e,result:"syntaxerr",msg:e,body:this}}}function queryToObject(separator){var match=this.trim().match(/([^?#]*)(#.*)?$/);if(!match)return{};for(var rs=match[1].split(separator||"&"),returnObj={},i=0;i<rs.length;){var pair=rs[i].split("="),k=pair[0],v=pair[1];void 0!=returnObj[k]?(Object.isArray(returnObj[k])||(returnObj[k]=[returnObj[k]]),returnObj[k].push(v)):returnObj[k]=v,i++}return returnObj}function queryToObjectDec(separator){var match=this.trim().match(/([^?#]*)(#.*)?$/);if(!match)return{};for(var rs=match[1].split(separator||"&"),returnObj={},i=0;i<rs.length;){var pair=rs[i].split("="),k=pair[0],v=pair[1];void 0!=returnObj[k]?(Object.isArray(returnObj[k])||(returnObj[k]=[returnObj[k]]),returnObj[k].push(v.dec())):returnObj[k]=v.dec(),i++}return returnObj}function crlf(replaceTarget,replacer){return this.replace(replaceTarget||/\n/g,replacer||"<br/>")}function ecrlf(replaceTarget,replacer){return this.replace(replaceTarget||/%0A/g,replacer||"<br/>")}function formatDigit(length,padder){var string=this;return(padder||"0").times(length-string.length)+string}function getFileName(){var sToMatch=this,reAt=/[\/\\]?([^\/\\]?\.?[^\/\\]+)$/;sToMatch.match(reAt);return RegExp.$1}function toColor(sharp){var colorValue="";if("rgb"==this.left(3)){var val=this,reAt=/rgb\((.+)\)/;val.match(reAt);for(var vals=RegExp.$1.split(", "),a=0;a<vals.length;a++)vals[a]=vals[a].number().setDigit(2,"0",16);colorValue=vals.join("")}else colorValue=this.replace("#","");return(sharp?"#":"")+colorValue}function toMoney(){return this.number().money()}function toByte(){return this.number().byte()}function lcase(){return this.toLowerCase()}function ucase(){return this.toUpperCase()}function getByte(){var valueByte=this.length;for(i=0,l=this.length;i<l;i++)this.charCodeAt(i)>128&&valueByte++;return valueByte}function toPhoneString(){if(""==this)return this;var _this=this.replace(/\D+/g,""),myLocalNums="",num1="",num2="";if("02"==_this.left(2))myLocalNums="02";else{var localNums="031/032/033/041/042/043/051/052/053/054/055/061/062/063/064/010/011/016/017/019/070/080/060".split(/\//g),tempNum=_this.left(3);AXUtil.each(localNums,function(){if(this==tempNum)return myLocalNums=this,!1})}if(""==myLocalNums)myLocalNums="02",_this.length>7?(num1=_this.substr(0,4),num2=_this.substr(4)):(num1=_this.substr(0,3),num2=_this.substr(3));else try{var snum=myLocalNums.length;_this.length-snum>7?(num1=_this.substr(snum,4),num2=_this.substr(snum+4)):(num1=_this.substr(snum,3),num2=_this.substr(snum+3))}catch(e){}var returnString=myLocalNums;return""!=num1&&(returnString+="-"+num1),""!=num2&&(returnString+="-"+num2),returnString}function getAnchorData(){var idx=this.indexOf("#",0);if(idx<0)return"";var cnt=this.length;return this.substring(idx+1,cnt)}function print(){return this}return{ppassword:password,left:left,right:right,dec:dec,decode:dec,enc:enc,object:object,array:array,date:toDate,number:toNum,num:parseF,money:toMoney,byte:toByte,trim:strip,delHtml:stripTags,delScript:stripScript,removeScript:stripScript,times:times,inspect:inspect,axtoJSON:axtoJSON,isBlank:blank,isJSON:isJSON,unfilterJSON:unfilterJSON,evalJSON:evalJSON,queryToObject:queryToObject,queryToObjectDec:queryToObjectDec,crlf:crlf,ecrlf:ecrlf,setDigit:formatDigit,getFileName:getFileName,toColor:toColor,lcase:lcase,ucase:ucase,getByte:getByte,phone:toPhoneString,getAnchorData:getAnchorData,print:print}}()),Object.extend(Number.prototype,function(){function left(strLen){return this.toString().substr(0,strLen)}function right(strLen){return this.toString().substring(this.toString().length-strLen,this.toString().length)}function toMoney(){var txtNumber=""+this;if(isNaN(txtNumber)||""==txtNumber)return"";var rxSplit=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),arrNumber=txtNumber.split(".");arrNumber[0]+=".";do{arrNumber[0]=arrNumber[0].replace(rxSplit,"$1,$2")}while(rxSplit.test(arrNumber[0]));return arrNumber.length>1?arrNumber.join(""):arrNumber[0].split(".")[0]}function toByte(){var n_unit="KB",myByte=this/1024;return myByte/1024>1&&(n_unit="MB",myByte/=1024),myByte/1024>1&&(n_unit="GB",myByte/=1024),myByte.round(1)+n_unit}function toNum(){return this}function formatDigit(length,padder,radix){var string=this.toString(radix||10);return(padder||"0").times(length-string.length)+string}function range(start){for(var ra=[],a=start||0;a<this+1;a++)ra.push(a);return ra}function axtoJSON(){return this}function abs(){return Math.abs(this)}function round(digit){return void 0===digit?Math.round(this):this.toString().search("e-")?this.toFixed(digit):+(Math.round(this+"e+"+digit)+"e-"+digit)}function ceil(){return Math.ceil(this)}function floor(){return Math.floor(this)}function date(){return new Date(this)}function div(divisor){return 0!=divisor?this/divisor:0}function none(){return this}function times(count){return count<1?"":new Array(count+1).join(this.toString())}function phone(){return(""+this).phone()}return{left:left,right:right,abs:abs,round:round,ceil:ceil,floor:floor,money:toMoney,byte:toByte,num:toNum,number:toNum,setDigit:formatDigit,date:date,div:div,dec:none,enc:none,rangeFrom:range,axtoJSON:axtoJSON,times:times,phone:phone}}()),Object.extend(Date.prototype,function(){function dateAdd(daynum,interval){interval=interval||"d";var interval=interval.toLowerCase(),DyMilli=864e5,aDate=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12);if("d"==interval)aDate.setTime(aDate.getTime()+daynum*DyMilli);else if("m"==interval){var yy=aDate.getFullYear(),mm=aDate.getMonth(),dd=aDate.getDate();yy+=parseInt(daynum/12),mm+=daynum%12;var mxdd=AXUtil.dayLen(yy,mm);mxdd<dd&&(dd=mxdd),aDate=new Date(yy,mm,dd,12)}else"y"==interval?aDate.setTime(aDate.getTime()+365*daynum*DyMilli):aDate.setTime(aDate.getTime()+daynum*DyMilli);return aDate}function dayDiff(edDate,tp){var DyMilli=864e5,y1=this.getFullYear(),m1=this.getMonth(),d1=this.getDate(),hh1=this.getHours(),mm1=this.getMinutes(),dd1=new Date(y1,m1,d1,hh1,mm1,this.getSeconds()),day2=edDate.date(),y2=day2.getFullYear(),m2=day2.getMonth(),d2=day2.getDate(),hh2=day2.getHours(),mm2=day2.getMinutes(),dd2=new Date(y2,m2,d2,hh2,mm2,this.getSeconds());return void 0!=tp&&("D"==tp?(DyMilli=864e5,dd2=new Date(y2,m2,d2,hh1,mm1,this.getSeconds())):"H"==tp?DyMilli=36e5:"mm"==tp?DyMilli=6e4:(DyMilli=864e5,dd2=new Date(y2,m2,d2,hh1,mm1,this.getSeconds()))),((dd2.getTime()-dd1.getTime())/DyMilli).floor()}function toString(format){if(void 0==format){var sSeper="-";return this.getFullYear()+sSeper+(this.getMonth()+1).setDigit(2)+sSeper+this.getDate().setDigit(2)}var nY,nM,nD,nH,nMM,nS,nDW,fStr=format;nY=this.getFullYear(),nM=(this.getMonth()+1).setDigit(2),nD=this.getDate().setDigit(2),nH=this.getHours().setDigit(2),nMM=this.getMinutes().setDigit(2),nS=this.getSeconds().setDigit(2),nDW=this.getDay(),/[^y]*(yyyy)[^y]*/gi.exec(fStr);var regY=RegExp.$1;/[^m]*(mm)[^m]*/gi.exec(fStr);var regM=RegExp.$1;/[^d]*(dd)[^d]*/gi.exec(fStr);var regD=RegExp.$1;/[^h]*(hh)[^h]*/gi.exec(fStr);var regH=RegExp.$1;/[^m]*(mi)[^i]*/gi.exec(fStr);var regMI=RegExp.$1;/[^s]*(ss)[^s]*/gi.exec(fStr);var regS=RegExp.$1;/[^d]*(dw)[^w]*/gi.exec(fStr);var regDW=RegExp.$1;return"yyyy"===regY&&(fStr=fStr.replace(regY,nY.right(regY.length))),"mm"===regM&&(1==regM.length&&(nM=this.getMonth()+1),fStr=fStr.replace(regM,nM)),"dd"===regD&&(1==regD.length&&(nD=this.getDate()),fStr=fStr.replace(regD,nD)),"hh"===regH&&(fStr=fStr.replace(regH,nH)),"mi"===regMI&&(fStr=fStr.replace(regMI,nMM)),"ss"===regS&&(fStr=fStr.replace(regS,nS)),"dw"==regDW&&(fStr=fStr.replace(regDW,AXConfig.weekDays[nDW].label)),fStr}function getTimeAgo(){var rtnStr="",nMinute=Math.abs((new Date).diff(this,"mm")),wknames=[];return wknames.push("일","월","화","수","목","금","토"),isNaN(nMinute)?rtnStr="알수없음":parseInt(nMinute/60/24)>=1?rtnStr=this.print("yyyy년 mm월 dd일")+" "+wknames[this.getDay()]:(rtnStr=nMinute,rtnStr=nMinute/60>1?parseInt(nMinute/60)+"시간 "+nMinute%60+"분 전":nMinute+"분 전"),rtnStr}function date(){return this}function axtoJSON(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).setDigit(2)+"-"+this.getUTCDate().setDigit(2)+"T"+this.getUTCHours().setDigit(2)+":"+this.getUTCMinutes().setDigit(2)+":"+this.getUTCSeconds().setDigit(2)+'Z"'}function axGetDay(dayOfStart){void 0==dayOfStart&&(dayOfStart=0);var myDay=this.getDay()-dayOfStart;return myDay<0&&(myDay=7+myDay),myDay}return{add:dateAdd,diff:dayDiff,print:toString,date:date,axtoJSON:axtoJSON,getTimeAgo:getTimeAgo,axGetDay:axGetDay}}()),Object.extend(Error.prototype,function(){function print(){return(65535&this.number)+" : "+this}return{print:print}}()),Object.extend(Array.prototype,function(){function clear(){return this.length=0,this}function first(){return this[0]}function last(){return this[this.length-1]}function getToSeq(seq){return seq>this.length-1?null:this[seq]}function axtoJSON(qoute){for(var results=[],i=0;i<this.length;i++)results.push(Object.toJSON(this[i],qoute));return"["+results.join(", ")+"]"}function toJSONforMobile(){for(var results=[],i=0;i<this.length;i++)results.push(Object.toJSONforMobile(this[i]));return"["+results.join(", ")+"]"}function remove(callBack){var collect=[];return AXUtil.each(this,function(index,O){callBack.call({index:index,item:O},index,O)||collect.push(O)}),collect}function search(callBack){var collect=[];return AXUtil.each(this,function(index,O){callBack.call({index:index,item:O},index,O)&&collect.push(O)}),collect.length}function getObject(callBack){var collect=[];return AXUtil.each(this,function(index,O){callBack.call({index:index,item:O},index,O)&&collect.push(O)}),collect}function hasObject(callBack){var collect=null;return AXUtil.each(this,function(index,O){if(callBack.call({index:index,item:O},index,O))return collect=O,!1}),collect}function getMinObject(key){var tempArray=this.concat();return tempArray=tempArray.sort(function(pItem,nItem){var v1=pItem[key],v2=nItem[key];return v1<v2?-1:v1>v2?1:v1==v2?0:void 0}),tempArray.first()||{}}function getMaxObject(key){var tempArray=this.concat();return tempArray=tempArray.sort(function(pItem,nItem){var v1=pItem[key],v2=nItem[key];return v1<v2?1:v1>v2?-1:v1==v2?0:void 0}),tempArray.first()||{}}function m_notall(context){context=context||function(x){return x};for(var result=!0,i=0;i<this.length&&(result=!Boolean(context(this[i])));)i++;return result}function m_any(context){context=context||function(x){return x};for(var result=!1,i=0;i<this.length&&!(result=Boolean(context(this[i],i)));)i++;return result}function m_find(context){context=context||function(x){return!1};for(var myselect,i=0;i<this.length;){if(context(this[i],i)){myselect=this[i];break}i++}return myselect}function m_find2(context){Object.isFunction(context)||(findObj=context,context=function(x){return x==findObj});for(var myselect,myindex,i=0;i<this.length;){if(context(this[i],i)){myselect=this[i],myindex=i;break}i++}return{obj:myselect,index:myindex}}function m_findAll(context){context=context||function(x){return!1};for(var myselect=[],i=0;i<this.length;)context(this[i],i)&&myselect.push(this[i]),i++;return myselect}function convertTree(parentKey,childKey,hashDigit){for(var tree=[],pointer={},seq=0,hashDigit=hashDigit||3,idx=0;idx<this.length;idx++){var L=this[idx];L.isRoot||(pointer[L[childKey]]=idx,void 0===L[parentKey]||""==L[parentKey]||0==L[parentKey].number()?(L.subTree=[],L.__subTreeLength=0,L.pHash="0".setDigit(hashDigit),L.hash="0".setDigit(hashDigit)+"_"+seq.setDigit(hashDigit),tree.push(AXUtil.copyObject(L)),seq++):L.__subTreeLength=0)}for(var idx=0;idx<this.length;idx++){var L=this[idx];if(void 0==L.pHash&&!L.isRoot){var pTreeItem,pItem=this[pointer[L[parentKey]]],pHash=pItem.hash,pHashs=pHash.split(/_/g),pTree=tree;axf.each(pHashs,function(idx,T){idx>0&&(pTreeItem=pTree[T.number()],pTree=pTree[T.number()].subTree)}),L.subTree=[];var __subTreeLength=pItem.__subTreeLength;L.pHash=pHash,L.hash=pHash+"_"+__subTreeLength.setDigit(hashDigit),pTree.push(AXUtil.copyObject(L)),pItem.__subTreeLength++,pTreeItem.__subTreeLength=pItem.__subTreeLength}}return tree}function getIndex(context){Object.isFunction(context)||(findObj=context,context=function(x){return x==findObj});for(var findObject,findIndex,i=0;i<this.length;){var sobj={index:i,item:this[i]};if(context.call(sobj,sobj)){findObject=this[i],findIndex=i;break}i++}return{item:findObject,index:findIndex}}return{clear:clear,first:first,last:last,getToSeq:getToSeq,axtoJSON:axtoJSON,toJSONforMobile:toJSONforMobile,remove:remove,search:search,has:hasObject,searchObject:getObject,getMinObject:getMinObject,getMaxObject:getMaxObject,not:m_notall,or:m_any,get:m_find,gets:m_findAll,getObj:m_find2,getIndex:getIndex,convertTree:convertTree}}());var trace=axf.console,getUrlInfo=axf.getUrlInfo,AXJ=Class.create({initialize:function(){this.config={debugMode:!1,hashSpliter:"_",href:void 0===AXConfig.anchorHref?'href="javascript:;"':AXConfig.anchorHref}},init:function(){trace(Object.toJSON(this.config))},echo:function(msg,mtype){void 0==mtype||"console"==mtype?trace(msg):"alert"==mtype?AXUtil.alert(msg):"toast"==mtype?toast.push(msg):"dialog"==mtype&&dialog.push(msg)},setConfig:function(configs){if(configs)for(k in configs)configs.hasOwnProperty(k)&&(this.config[k]=configs[k]);return this.config.target&&(void 0!==this.config.target.id&&""!=this.config.target.id||axdom(this.config.target).attr("id",this.config.target.id=this.config.targetID="AXJUnique_"+axf.getUniqueId())),this.init(),this},changeConfig:function(configs){if(configs)for(k in configs)configs.hasOwnProperty(k)&&(this.config[k]=configs[k]);return this},getEventTarget:function(args){var eventTarget=args.evt,eid=eventTarget&&eventTarget.id&&""!=eventTarget.id?eventTarget.id.split(/_AX_/g):[];if(eventTarget)for(;!args.find(eventTarget,eid);){if(!eventTarget.parentNode){eventTarget=null;break}if(args.until&&args.until(eventTarget,eid)){eventTarget=null;break}if(!eventTarget.parentNode)break;eventTarget=eventTarget.parentNode;try{eid=eventTarget&&eventTarget.id&&""!=eventTarget.id?eventTarget.id.split(/_AX_/g):[]}catch(e){eid=[]}}return eventTarget},getMousePositon:function(event){var eventDoc,doc,body;eventDoc=document,doc=eventDoc.documentElement,body=eventDoc.body;var css={};return css.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),css.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0),css},stopEvent:function(event){try{event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),event.cancelBubble=!0}catch(e){}return!1},clearRange:function(){return window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this},windowResize:function(){var windowResizeApply=this.windowResizeApply.bind(this);this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.windowResizeObserver=setTimeout(function(){windowResizeApply()},1)},windowResizeApply:function(){}}),AXReqQue=Class.create({initialize:function(){this.que=[],this.busy=!1},add:function(obj){this.que.push(obj);try{this.start()}catch(e){}return this},start:function(){if(0!=this.que.length&&!this.busy){this.busy=!0;var myQue=this.que.first(),config={type:"post",onsucc:"",async:AXConfig.AXReq.async,responseType:AXConfig.AXReq.responseType,dataType:AXConfig.AXReq.dataType,contentType:AXConfig.AXReq.contentType,debug:!1};axf.each(myQue.configs,function(k,v){"pars"==k||(config[k]=v)});var onerr=this.onerror.bind(this),ontimeout=this.ontimeout.bind(this),onsucc=this.onsucc.bind(this),dataSendMethod=myQue.configs.dataSendMethod||AXConfig.AXReq.dataSendMethod||"";"json"!=dataSendMethod||("object"==typeof myQue.configs.pars?myQue.configs.pars.dummy=AXUtil.timekey():"string"==typeof myQue.configs.pars&&(""==myQue.configs.pars?myQue.configs.pars+="dummy="+AXUtil.timekey():myQue.configs.pars+="&dummy="+AXUtil.timekey())),config.debug&&trace({url:myQue.url,pars:myQue.configs.pars});var pars,ajaxOption={};if(axf.each(config,function(k,v){ajaxOption[k]=v}),ajaxOption.url=myQue.url,pars=myQue.configs.pars,"DTO"!=dataSendMethod&&AXConfig.AXReq.pars&&("object"==typeof pars?"object"==typeof AXConfig.AXReq.pars?pars=jQuery.extend(pars,AXConfig.AXReq.pars):"string"==typeof AXConfig.AXReq.pars&&(pars=jQuery.extend(pars,AXConfig.AXReq.pars.queryToObject())):"string"==typeof pars&&("object"==typeof AXConfig.AXReq.pars?pars+="&"+jQuery.param(AXConfig.AXReq.pars):"string"==typeof AXConfig.AXReq.pars&&(pars+="&"+AXConfig.AXReq.pars))),ajaxOption.data="json"==dataSendMethod?Object.toJSON("string"==typeof pars?pars.queryToObject():pars):"query-json"==dataSendMethod?'{queryString:"'+pars+'"}':pars,ajaxOption.success=onsucc,ajaxOption.error=onerr,ajaxOption.timeout=ontimeout,myQue.configs.onbeforesend&&!myQue.configs.onbeforesend.call(ajaxOption))return!1;this.que[0]._jQueryAjax=axdom.ajax(ajaxOption)}},onsucc:function(req){if(void 0!=req){var res,myQue=this.que.first();try{myQue.configs.debug&&trace("onsucc"+req),res="text/html"==myQue.configs.responseType?req:"string"==typeof req?req.object():AXConfig.AXReq.resultFormatter.call(req),"syntaxerr"==res.result?myQue.configs.onerr&&myQue.configs.onerr(res):myQue.configs.onsucc&&myQue.configs.onsucc(res)}catch(e){"text/html"==myQue.configs.responseType||(res.e=e),myQue.configs.onerr&&myQue.configs.onerr(res)}this.que.shift(),this.busy=!1,this.start()}},onerror:function(req){var myQue=this.que.first();myQue.configs.onerr?myQue.configs.onerr(req):trace("error : "+Object.toJSON(req)),this.que.shift(),this.busy=!1;try{mask.close()}catch(e){}},ontimeout:function(req){trace("onTimeout:"+req.responseText),this.que.shift(),this.busy=!1;try{mask.close()}catch(e){}},abort:function(){try{this.que[0]._jQueryAjax.abort()}catch(e){}return this}}),myAXreqQue=new AXReqQue,AXReqAbort=function(){myAXreqQue.abort()},AXReq=Class.create({initialize:function(url,configs){myAXreqQue.add({url:url,configs:configs})}}),AXMask=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.selects=[],this.config.maskClassName="AXMask",this.config.maskContentClassName="AXMaskContent",this.config.content="disable content",this.config.maskZindex="5000",this.blinkTrack=[]},init:function(){this.mask=axdom('<div class="'+this.config.maskClassName+'" style="z_index:'+this.config.maskZindex+'"></div>')},open:function(configs){if(this.maskDelay&&clearTimeout(this.maskDelay),"true"!=axdom(document.body).data("masked")){axdom(document.body).append(this.mask),axdom(document.body).data("masked","true");"Q"==AXUtil.docTD?document.body.clientHeight:document.documentElement.clientHeight,configs&&(configs.onclick||(configs.onclick=configs.onClick),configs.onclick&&this.mask.bind("click.AXMask",configs.onclick))}},append:function(targetID,configs){var target=axdom("#"+targetID);"static"==target.css("position")&&target.css("position","relative"),target.append(this.mask.css({position:"absolute",top:0,left:0})),configs&&(configs.onclick||(configs.onclick=configs.onClick),configs.onclick&&this.mask.bind("click.AXMask",configs.onclick))},close:function(delay){if(delay){var maskHide=this.hide.bind(this);this.maskDelay&&clearTimeout(this.maskDelay),this.maskDelay=setTimeout(maskHide,delay)}else this.mask.unbind("click.AXMask"),this.mask.remove(),axdom(document.body).data("masked",null);this.blinkTrack.clear()},hide:function(){this.mask.unbind("click.AXMask"),this.mask.remove(),axdom(document.body).data("masked",null),this.blinkTrack.clear()},setCSS:function(CSS){this.mask.css(CSS)},addClass:function(className){this.mask.addClass(className)},removeClass:function(className){this.mask.removeClass(className)},blink:function(obj){this.blinkTrack=[{css:{opacity:.1},time:1e3},{css:{opacity:.8},time:1e3}],obj&&(this.blinkTrack=obj),this.blinking(0)},stopBlink:function(obj){this.blinkTrack.clear()},blinking:function(blinkIndex){if(this.blinkTrack.length>0){var blinkTrack=this.blinkTrack,onblink=this.blinking.bind(this);this.mask.animate(blinkTrack[blinkIndex].css,blinkTrack[blinkIndex].time,"circInOut",function(){onblink((blinkIndex+1)%blinkTrack.length)})}},setContent:function(content){var po=[];if(Object.isString(content))po.push(content);else{var po=[];po.push("<div style='width: "+content.width+"px;height:"+content.height+"px;position: absolute;left:50%;top:50%;text-align: center;margin-left: -"+content.width/2+"px;margin-top:-"+content.height/2+"px;'>"),po.push(content.html),po.push("</div>")}this.mask.html(po.join(""))}}),mask=new AXMask;mask.setConfig(),axdom.fn.mask=function(configs){return axf.each(this,function(){mask.append(this.id,configs)}),this};var AXNotification=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.Observer=null,this.lasBreadSeq=0,this.bread=[],this.config.easing={open:{duration:300,easing:"expoOut"},close:{duration:500,easing:"expoOut"}},this.config.eatUpTime=2500,this.config.confirmStr="확인",this.config.cancelStr="취소"},init:function(){var config=this.config;"toast"==config.type?this.toastTray=axdom('<div class="AXNotificationTray" id="'+config.targetID+'"></div>'):"dialog"==config.type&&(this.dialogTray=axdom('<div class="AXNotificationTrayDialog" id="'+config.targetID+'"></div>'))},push:function(obj){var config=this.config,breadID=config.targetID+""+this.lasBreadSeq;this.lasBreadSeq++;var po=[];if("object"!=(typeof obj).toLowerCase()?(po.push('<div class="AXNotification" id="bread_AX_'+breadID+'" style="display:none;">'),"dialog"==config.type&&po.push('<div class="AXNotificationHead">'+(obj.title||"Dialog Message")+"</div>"),po.push('<div class="AXNotificationCT">'),po.push('\t<table cellpadding="0" cellspacing="0" class="AXNotificationTable">'),po.push("\t\t<tbody>"),po.push("\t\t\t<tr>"),po.push('\t\t\t\t<td class="AXNotificationIcon"></td>'),po.push('\t\t\t\t<td class="AXNotificationBody">'),Object.isString(obj)?po.push(obj.crlf()):po.push(obj),po.push("\t\t\t\t</td>"),po.push("\t\t\t</tr>"),po.push("\t\t</tbody>"),po.push("\t</table>"),"dialog"==config.type&&(po.push('\t<div class="AXNotificationButtons">'),po.push('\t<input type="button" value="'+config.confirmStr+'" class="AXButton Red" data-bread-id="'+breadID+'" id="bread_AX_'+breadID+'_AX_confirm" />'),po.push("\t</div>")),po.push("</div>"),po.push("</div>")):(po.push('<div class="AXNotification '+obj.type+'" id="bread_AX_'+breadID+'" style="display:none;">'),"dialog"==config.type&&po.push('<div class="AXNotificationHead">'+(obj.title||"Dialog Message")+"</div>"),po.push('<div class="AXNotificationCT">'),po.push('\t<table cellpadding="0" cellspacing="0" class="AXNotificationTable">'),po.push("\t\t<tbody>"),po.push("\t\t\t<tr>"),po.push('\t\t\t\t<td class="AXNotificationIcon"></td>'),po.push('\t\t\t\t<td class="AXNotificationBody">'),Object.isString(obj.body)?po.push(obj.body.crlf()):po.push(obj.body),po.push("\t\t\t\t</td>"),"Caution"==obj.type&&"dialog"!=config.type&&(obj.buttons||(po.push('\t\t\t\t<td class="AXNotificationButton" align="right">'),po.push('\t\t\t\t<input type="button" value="'+config.confirmStr+'" class="AXButton Red" data-bread-id="'+breadID+'" id="bread_AX_'+breadID+'_AX_confirm" />'),po.push("\t\t\t\t</td>"))),po.push("\t\t\t</tr>"),po.push("\t\t</tbody>"),po.push("\t</table>"),obj.buttons?(po.push('\t<div class="AXNotificationButtons">'),AXUtil.each(obj.buttons,function(index,B){po.push('\t<input type="button" value="'+this.buttonValue+'" class="AXButton '+(this.buttonClass||"")+'" data-bread-id="'+breadID+'" id="bread_AX_'+breadID+"_AX_buttons_AX_"+index+'" />')}),po.push("\t</div>")):"dialog"==config.type&&(po.push('\t<div class="AXNotificationButtons">'),po.push('\t<input type="button" value="'+config.confirmStr+'" class="AXButton Red" data-bread-id="'+breadID+'" id="bread_AX_'+breadID+'_AX_confirm" />'),po.push("\t</div>")),po.push("</div>"),po.push("</div>")),"toast"==config.type)AXgetId(config.targetID)||axdom(document.body).append(this.toastTray),this.bread.push({breadID:breadID,type:obj.type,html:po.join("").enc()}),this.insertBread(obj);else if("dialog"==config.type){AXgetId(config.targetID)||axdom(document.body).append(this.dialogTray),this.dialogTray.prepend(po.join(""));"Q"==AXUtil.docTD?document.body.clientWidth:document.documentElement.clientWidth;void 0!=obj.top?this.dialogTray.css({paddingTop:obj.top}):this.dialogTray.css({paddingTop:50});var breadBox=axdom("#bread_AX_"+breadID);breadBox.fadeIn();var endCheck=this.endCheck.bind(this);axdom("#bread_AX_"+breadID+"_AX_confirm").bind("click",function(){obj.onConfirm&&obj.onConfirm(obj.data),breadBox.find("button, input").hide(),breadBox.fadeOut({duration:config.easing.close.duration,easing:config.easing.close.easing,complete:function(){breadBox.remove(),endCheck()}})}),axdom(".AXNotificationButtons").find(".AXButton").bind("click",function(event){var eid=event.target.id.split(/_AX_/g),myBreadID=eid[1],buttonSeq=eid.last(),breadBox=axdom("#bread_AX_"+myBreadID);obj.buttons&&obj.buttons[buttonSeq]&&obj.buttons[buttonSeq].onClick&&obj.buttons[buttonSeq].onClick(obj.buttons[buttonSeq].data),breadBox.find("button, input").hide(),breadBox.fadeOut({duration:config.easing.close.duration,easing:config.easing.close.easing,complete:function(){breadBox.remove(),endCheck()}})}),axdom(".AXNotificationButtons").find(".AXButton").get(0).focus(),axdom(document.body).unbind("keyup."+breadID).bind("keyup."+breadID,function(event){event.keyCode==AXUtil.Event.KEY_ESC&&axdom("#bread_AX_"+breadID).fadeOut({duration:config.easing.close.duration,easing:config.easing.close.easing,complete:function(){axdom("#bread_AX_"+breadID).remove(),endCheck(breadID,obj)}})})}},insertBread:function(obj){var config=this.config;if(0!=this.bread.length&&!this.busy){this.busy=!0;var nextBread=this.nextBread.bind(this),endCheck=this.endCheck.bind(this),myQue=this.bread[0];axdom("#"+config.targetID).prepend(myQue.html.decode()),axdom("#bread_AX_"+myQue.breadID+"_AX_confirm").bind("click",function(e){obj.onConfirm&&obj.onConfirm(obj.data);var breadBox=axdom("#bread_AX_"+myQue.breadID);breadBox.find("button, input").hide(),breadBox.fadeOut({duration:config.easing.close.duration,easing:config.easing.close.easing,complete:function(){breadBox.remove(),endCheck()}})});var $bread=axdom("#bread_AX_"+myQue.breadID);$bread.slideDown({duration:config.easing.open.duration,easing:config.easing.open.easing,complete:function(){nextBread(),"Caution"!=myQue.type&&setTimeout(function(){$bread.fadeOut({duration:config.easing.close.duration,easing:config.easing.close.easing,complete:function(){$bread.remove(),endCheck()}})},config.eatUpTime)}})}},nextBread:function(){this.bread.shift(),this.busy=!1,this.insertBread()},endCheck:function(breadID,obj){""==axdom("#"+this.config.targetID).html()&&(this.lasBreadSeq=0,"dialog"==this.config.type&&(this.dialogTray.remove(),breadID&&(axdom(document.body).unbind("keyup."+breadID),obj&&obj.onclose&&obj.onclose.call(obj,obj))))}}),toast=new AXNotification;toast.setConfig({targetID:"basicToast",type:"toast"});var dialog=new AXNotification;dialog.setConfig({targetID:"basicDialog",type:"dialog"});var AXScroll=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.config.CT_className="AXScroll",this.config.ST_className="scrollTarget",this.scrollBarMove=!1,this.scrollBarAttr={},this.Observer=null,this.config.yscroll=!0,this.config.xscroll=!1,this.config.scrollBarMargin=3,this.minHeightSB={TF:!1,h:0},this.minWidthSB={TF:!1,w:0}},init:function(){var config=this.config;return Object.isUndefined(config.targetID)?void trace("need targetID - setConfig({targetID:''})"):Object.isUndefined(config.scrollID)?void trace("need scrollID - setConfig({scrollID:''})"):(this.scrollTargetID=axdom("#"+config.targetID),this.scrollScrollID=axdom("#"+config.scrollID),this.scrollTargetID.addClass(this.config.CT_className),this.scrollScrollID.addClass(this.config.ST_className),this.initScroll(),void this.bindEvent())},updateScroll:function(){return this.initScroll(),this},resizeScroll:function(){return this.initScroll(),this},initScroll:function(){var cfg=this.config;if(this.scroll)cfg.yscroll||this.scrollTargetID.css({height:this.scrollScrollID.outerHeight()});else{var po=[];cfg.yscroll?(po.push('<div class="scrollTrack" id="'+cfg.targetID+'_AX_scrollTrack"></div>'),po.push('<div class="scrollBar" id="'+cfg.targetID+'_AX_scrollBar"></div>')):this.scrollTargetID.css({height:this.scrollScrollID.outerHeight()}),cfg.xscroll&&(po.push('<div class="xscrollTrack" id="'+cfg.targetID+'_AX_xscrollTrack"></div>'),po.push('<div class="xscrollBar" id="'+cfg.targetID+'_AX_xscrollBar"></div>')),this.scrollTargetID.append(po.join("")),this.scroll=!0,cfg.yscroll&&(this.scrollTrack=axdom("#"+cfg.targetID+"_AX_scrollTrack"),this.scrollBar=axdom("#"+cfg.targetID+"_AX_scrollBar")),cfg.xscroll&&(this.xscrollTrack=axdom("#"+cfg.targetID+"_AX_xscrollTrack"),this.xscrollBar=axdom("#"+cfg.targetID+"_AX_xscrollBar"))}var CTheight=this.scrollTargetID.innerHeight(),CTwidth=this.scrollTargetID.innerWidth();cfg.yscroll&&this.scrollTrack.css({height:CTheight-2*cfg.scrollBarMargin}),cfg.xscroll?this.xscrollTrack.css({width:CTwidth-2*cfg.scrollBarMargin}):this.scrollScrollID.css({width:CTwidth});var Cheight=this.scrollScrollID.outerHeight(),Cwidth=this.scrollScrollID.outerWidth();if(cfg.yscroll){var SBheight=CTheight*(CTheight-2*cfg.scrollBarMargin)/Cheight;SBheight<30&&(SBheight=30),this.scrollBar.css({height:Math.ceil(SBheight)}),CTheight==Cheight||CTheight>Cheight?(this.scrollTrack.hide(),this.scrollBar.hide(),this.scrollScrollID.css({top:0})):(this.scrollTrack.show(),this.scrollBar.show())}if(cfg.xscroll){var SBwidth=CTwidth*(CTwidth-2*cfg.scrollBarMargin)/Cwidth;SBwidth<30&&(SBwidth=30),this.xscrollBar.css({width:Math.ceil(SBwidth)}),CTwidth==Cwidth||CTwidth>Cwidth?(this.xscrollTrack.hide(),this.xscrollBar.hide()):(this.xscrollTrack.show(),this.xscrollBar.show())}},bindEvent:function(){var cfg=this.config;this.scrollTargetID.innerHeight(),this.scrollScrollID.outerHeight();if(cfg.xscroll){this.scrollTargetID.innerWidth(),this.scrollScrollID.outerWidth()}var tractActive=this.tractActive.bind(this);this.tractActiveBind=function(event){tractActive(event)};var tractInActive=this.tractInActive.bind(this);this.tractInActiveBind=function(event){tractInActive(event)};var cancelEvent=this.cancelEvent.bind(this);this.cancelEventBind=function(event){cancelEvent(event)};var SBonMouseDown=this.SBonMouseDown.bind(this);this.SBonMouseDownBind=function(event){SBonMouseDown(event)};var SBonMouseMove=this.SBonMouseMove.bind(this);this.SBonMouseMoveBind=function(event){SBonMouseMove(event)};var SBonMouseUp=this.SBonMouseUp.bind(this);if(this.SBonMouseUpBind=function(event){SBonMouseUp(event)},this.SBonWheelBind=this.SBonWheel.bind(this),this.scrollTargetID.bind("mouseover",this.tractActiveBind),this.scrollTargetID.bind("mouseout",this.tractInActiveBind),cfg.yscroll&&(this.scrollBar.bind("dragstart",this.cancelEventBind),this.scrollBar.bind("mousedown",this.SBonMouseDownBind)),cfg.xscroll){var SBonMouseDownX=this.SBonMouseDownX.bind(this);this.SBonMouseDownXBind=function(event){SBonMouseDownX(event)};var SBonMouseMoveX=this.SBonMouseMoveX.bind(this);this.SBonMouseMoveXBind=function(event){SBonMouseMoveX(event)};var SBonMouseUpX=this.SBonMouseUpX.bind(this);this.SBonMouseUpXBind=function(event){SBonMouseUpX(event)},this.xscrollBar.bind("dragstart",this.cancelEventBind),this.xscrollBar.bind("mousedown",this.SBonMouseDownXBind)}var mousewheelevt=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";if(document.attachEvent?AXgetId(cfg.targetID)&&AXgetId(cfg.targetID).attachEvent("on"+mousewheelevt,this.SBonWheelBind):document.addEventListener&&AXgetId(cfg.targetID)&&AXgetId(cfg.targetID).addEventListener(mousewheelevt,this.SBonWheelBind,!1),document.addEventListener){var touchstart=this.touchstart.bind(this);this.touchstartBind=function(){touchstart()},AXgetId(cfg.targetID)&&AXgetId(cfg.targetID).addEventListener("touchstart",this.touchstartBind,!1)}},tractActive:function(event){var cfg=this.config;cfg.yscroll&&(this.scrollBar.addClass("scrollBar_hover"),this.scrollTrack.addClass("scrollTrack_hover")),cfg.xscroll&&(this.xscrollBar.addClass("xscrollBar_hover"),this.xscrollTrack.addClass("xscrollTrack_hover")),this.Observer&&clearTimeout(this.Observer),this.initScroll()},tractInActive:function(event){var SBonWheelEnd=this.SBonWheelEnd.bind(this);this.Observer=setTimeout(function(){SBonWheelEnd()},500)},getMousePosition:function(event){var pos=(this.config,this.scrollTrack?this.scrollTrack.offset():{left:0,top:0}),posx=this.xscrollTrack?this.xscrollTrack.offset():{left:0,top:0};return{x:event.pageX-posx.left,y:event.pageY-pos.top}},getTouchPosition:function(event){var touch=(this.config,event.touches[0]),pos=this.scrollTrack.offset();if(this.config.touchDirection)var x=touch.pageX-pos.left,y=touch.pageY-pos.top;else var x=-touch.pageX-pos.left,y=-touch.pageY-pos.top;return{x:x,y:y}},touchstart:function(e){this.touhEndObserver&&clearTimeout(this.touhEndObserver),this.touhMoveObserver&&clearTimeout(this.touhMoveObserver);var touch,cfg=this.config,event=window.event;if(touch=event.touches[0],touch.pageX){this.touchStartXY={sTime:(new Date).getTime()/1e3,sTop:this.scrollScrollID.position().top,sLeft:this.scrollScrollID.position().left,scrollWidth:this.scrollScrollID.outerWidth(),scrollHeight:this.scrollScrollID.outerHeight(),targetWidth:this.scrollTargetID.outerWidth(),targetHeight:this.scrollTargetID.outerHeight(),x:touch.pageX,y:touch.pageY};var touchEnd=this.touchEnd.bind(this);this.touchEndBind=function(){touchEnd(event)};var touchMove=this.touchMove.bind(this);this.touchMoveBind=function(){touchMove(event)},document.removeEventListener&&(document.removeEventListener("touchend",this.touchEndBind,!1),document.removeEventListener("touchmove",this.touchMoveBind,!1)),document.addEventListener&&(document.addEventListener("touchend",this.touchEndBind,!1),document.addEventListener("touchmove",this.touchMoveBind,!1));var maxLeft=-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth),maxTop=-(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight),scrollPosition=this.scrollScrollID.position();(scrollPosition.left<0&&scrollPosition.left>maxLeft||scrollPosition.top<0&&scrollPosition.top>maxTop)&&(this.scrollScrollID.stop(),cfg.yscroll&&this.scrollBar.stop(),cfg.xscroll&&this.xscrollBar.stop()),this.tractActive()}},touchMove:function(e){this.touhEndObserver&&clearTimeout(this.touhEndObserver),this.touhMoveObserver&&clearTimeout(this.touhMoveObserver);var touch,cfg=this.config,event=window.event;if(touch=event.touches[0],touch.pageX){if((this.touchStartXY.x-touch.pageX).abs()<(this.touchStartXY.y-touch.pageY).abs()){if(cfg.yscroll&&this.touchStartXY.scrollHeight>this.touchStartXY.targetHeight){this.touchMode="ns";var touchDirection=this.touchStartXY.y-touch.pageY<=0?"T":"B";if(touchDirection!=this.touchDirection&&this.touchMoveAfter(touch),this.touchDirection=touchDirection,this.moveBlock({top:touch.pageY-this.touchStartXY.y})){if(!event.preventDefault)return!1;event.preventDefault()}}}else if((this.touchStartXY.x-touch.pageX).abs()>(this.touchStartXY.y-touch.pageY).abs()&&cfg.xscroll&&this.touchStartXY.scrollWidth>this.touchStartXY.targetWidth){this.touchMode="we";var touchDirection=this.touchStartXY.x-touch.pageX<=0?"L":"R";if(touchDirection!=this.touchDirection&&this.touchMoveAfter(touch),this.touchDirection=touchDirection,this.moveBlock({left:touch.pageX-this.touchStartXY.x})){if(!event.preventDefault)return!1;event.preventDefault()}}((this.touchStartXY.x-touch.pageX).abs()-(this.touchStartXY.y-touch.pageY).abs()).abs();var touchMoveAfter=this.touchMoveAfter.bind(this);this.touhMoveObserver=setTimeout(function(){touchMoveAfter(touch)},50)}},touchMoveAfter:function(touch){try{this.touchStartXY.sTime=(new Date).getTime()/1e3,this.touchStartXY.sTop=this.scrollScrollID.position().top,this.touchStartXY.sLeft=this.scrollScrollID.position().left,this.touchStartXY.x=touch.pageX,this.touchStartXY.y=touch.pageY}catch(e){}},touchEnd:function(e){this.config,window.event;document.removeEventListener&&(document.removeEventListener("touchend",this.touchEndBind,!1),document.removeEventListener("touchmove",this.touchMoveBind,!1));var moveEndBlock=this.moveEndBlock.bind(this);this.touchStartXY&&(this.touhEndObserver=setTimeout(function(){moveEndBlock()},10))},moveBlock:function(moveXY){var cfg=this.config,returnTF=!0;if(void 0!=moveXY.left){var newLeft=this.touchStartXY.sLeft+moveXY.left,minLeft=0,maxLeft=-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth);cfg.bounces&&(minLeft=.4*this.touchStartXY.targetWidth,maxLeft=-1.2*(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth)),newLeft>minLeft?(newLeft=minLeft,returnTF=!1):newLeft<maxLeft&&(newLeft=maxLeft,returnTF=!1),this.scrollScrollID.css({left:newLeft}),this.setScrollbarPositionForWheel("left")}else if(void 0!=moveXY.top){var newTop=this.touchStartXY.sTop+moveXY.top,minTop=0,maxTop=-(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight);cfg.bounces&&(minTop=.4*this.touchStartXY.targetHeight,maxTop=-1.2*(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight)),newTop>minTop?(newTop=minTop,returnTF=!1):newTop<maxTop&&(newTop=maxTop,returnTF=!1),this.scrollScrollID.css({top:newTop}),this.setScrollbarPositionForWheel("top")}return returnTF},moveEndBlock:function(){var cfg=this.config;if(this.touchStartXY){var sTime=this.touchStartXY.sTime,eTime=(new Date).getTime()/1e3,dTime=eTime-sTime,tractInActive=this.tractInActive.bind(this);if("we"==this.touchMode){if(this.touchStartXY.scrollWidth<=this.touchStartXY.targetWidth)return;var eLeft=this.scrollScrollID.position().left,dLeft=eLeft-this.touchStartXY.sLeft,velocityLeft=Math.ceil(dLeft/dTime/1),endLeft=Math.ceil(eLeft+velocityLeft);endLeft>0?endLeft=0:endLeft<-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth)&&(endLeft=-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth));var newLeft=endLeft.abs();if(this.touchStartXY.sLeft=-newLeft,this.scrollScrollID.animate({left:-newLeft},(eLeft+newLeft).abs(),"circOut",function(){tractInActive()}),this.setScrollbarPositionForWheel("left",(eLeft+newLeft).abs(),"circOut",{left:-newLeft}),cfg.yscroll){var eTop=this.scrollScrollID.position().top,topChange=!1;eTop>0?(eTop=0,topChange=!0):eTop<-(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight)&&(eTop=this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight,topChange=!0),topChange&&this.scrollScrollID.css({top:-eTop})}}else{if(this.touchStartXY.scrollHeight<=this.touchStartXY.targetHeight)return;var eTop=this.scrollScrollID.position().top,dTop=eTop-this.touchStartXY.sTop,velocityTop=Math.ceil(dTop/dTime/1),endTop=Math.ceil(eTop+velocityTop);endTop>0?endTop=0:endTop<-(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight)&&(endTop=-(this.touchStartXY.scrollHeight-this.touchStartXY.targetHeight));var newTop=endTop.abs();if(this.touchStartXY.sTop=-newTop,this.scrollScrollID.animate({top:-newTop},(eTop+newTop).abs(),"circOut",function(){tractInActive()}),this.setScrollbarPositionForWheel("top",(eTop+newTop).abs(),"circOut",{top:-newTop}),cfg.xscroll){var eLeft=this.scrollScrollID.position().left,leftChange=!1;eLeft>0?(eLeft=0,leftChange=!0):eLeft<-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth)&&(eLeft=this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth,leftChange=!0),leftChange&&this.scrollScrollID.css({left:-eLeft})}}this.touchStartXY=null}},SBonMouseDown:function(event){this.config;this.scrollBarMove=!0;var pos=this.getMousePosition(event),SBpos=this.scrollBar.position(),SBh=this.scrollBar.height(),STh=this.scrollTrack.height(),Ch=this.scrollScrollID.outerHeight();this.Ch=Ch,this.STh=STh,this.scrollBarAttr={x:(SBpos.left-pos.x).number(),y:(SBpos.top-pos.y).number(),h:SBh.number(),sth:STh},axdom(document.body).bind("mousemove.AXScroll",this.SBonMouseMoveBind),axdom(document.body).bind("mouseup.AXScroll",this.SBonMouseUpBind),axdom(document.body).bind("mouseleave.AXScroll",this.SBonMouseUpBind)},SBonMouseMove:function(event){var config=this.config;if(this.scrollBarMove){axdom(document.body).attr("onselectstart","return false");var pos=this.getMousePosition(event),SBy=pos.y+this.scrollBarAttr.y;SBy<config.scrollBarMargin&&(SBy=config.scrollBarMargin),SBy+this.scrollBarAttr.h>this.scrollBarAttr.sth&&(SBy=this.scrollBarAttr.sth-this.scrollBarAttr.h+config.scrollBarMargin),this.scrollBar.css({top:SBy}),this.setContentPosition()}},SBonMouseUp:function(event){if(this.scrollBarMove){this.config;this.scrollBarMove=!1,axdom(document.body).removeAttr("onselectstart")}axdom(document.body).unbind("mousemove.AXScroll"),axdom(document.body).unbind("mouseup.AXScroll"),axdom(document.body).unbind("mouseleave.AXScroll")},SBonMouseDownX:function(event){this.config;this.scrollBarMove=!0;var pos=this.getMousePosition(event),SBpos=this.xscrollBar.position(),SBw=this.xscrollBar.width(),STw=this.xscrollTrack.width(),Cw=this.scrollScrollID.outerWidth();this.Cw=Cw,this.STw=STw,this.scrollBarAttr={x:(SBpos.left-pos.x).number(),w:SBw.number(),stw:STw},axdom(document.body).bind("mousemove.AXScroll",this.SBonMouseMoveXBind),axdom(document.body).bind("mouseup.AXScroll",this.SBonMouseUpXBind),axdom(document.body).bind("mouseleave.AXScroll",this.SBonMouseUpXBind)},SBonMouseMoveX:function(event){var config=this.config;if(this.scrollBarMove){axdom(document.body).attr("onselectstart","return false");var pos=this.getMousePosition(event),SBx=pos.x+this.scrollBarAttr.x;SBx<config.scrollBarMargin&&(SBx=config.scrollBarMargin),SBx+this.scrollBarAttr.w>this.scrollBarAttr.stw&&(SBx=this.scrollBarAttr.stw-this.scrollBarAttr.w+config.scrollBarMargin),this.xscrollBar.css({left:SBx}),this.setContentPosition("xscroll")}},SBonMouseUpX:function(event){if(this.scrollBarMove){this.config;this.scrollBarMove=!1,axdom(document.body).removeAttr("onselectstart")}axdom(document.body).unbind("mousemove.AXScroll"),axdom(document.body).unbind("mouseup.AXScroll"),axdom(document.body).unbind("mouseleave.AXScroll")},SBonWheel:function(e){var event=(this.config,window.event||e),delta=event.detail?-10*event.detail:event.wheelDelta,Sy=this.scrollScrollID.position().top,Sh=this.scrollScrollID.outerHeight(),TGh=this.scrollTargetID.height();if(!(Sh<TGh)){var eventCancle=!1;return Sy+=delta,Sy>0&&(Sy=0,eventCancle=!0),Sh+Sy<TGh&&(Sy=TGh-Sh,eventCancle=!0),this.scrollScrollID.css({top:Sy}),this.setScrollbarPositionForWheel("top"),eventCancle?void 0:(event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),event.cancelBubble=!0,!1)}},SBonWheelEnd:function(){if(!this.scrollBarMove){var config=this.config;config.yscroll&&(this.scrollBar.removeClass("scrollBar_hover"),this.scrollTrack.removeClass("scrollTrack_hover")),config.xscroll&&(this.xscrollBar.removeClass("xscrollBar_hover"),this.xscrollTrack.removeClass("xscrollTrack_hover"))}},cancelEvent:function(event){return event.stopPropagation(),!1},setContentPosition:function(xscroll){var config=this.config;if("xscroll"==xscroll){this.contentScrollXAttr?(this.contentScrollXAttr.scrollWidth=this.scrollScrollID.width(),this.contentScrollXAttr.scrollTrackXWidth=this.xscrollTrack.width(),this.contentScrollXAttr.scrollXHandleWidth=this.xscrollBar.width()):this.contentScrollXAttr={bodyWidth:this.scrollTargetID.width(),scrollWidth:this.scrollScrollID.width(),scrollTrackXWidth:this.xscrollTrack.width(),scrollXHandleWidth:this.xscrollBar.width()};var SBx=this.xscrollBar.position().left-config.scrollBarMargin,L=(this.contentScrollXAttr.scrollWidth*SBx/this.contentScrollXAttr.scrollTrackXWidth).round(0);this.scrollScrollID.css({left:-L})}else{this.contentScrollYAttr?(this.contentScrollYAttr.scrollHeight=this.scrollScrollID.height(),this.contentScrollYAttr.scrollTrackYHeight=this.scrollTrack.height(),this.contentScrollYAttr.scrollYHandleHeight=this.scrollBar.height()):this.contentScrollYAttr={bodyHeight:this.scrollTargetID.height(),scrollHeight:this.scrollScrollID.height(),scrollTrackYHeight:this.scrollTrack.height(),scrollYHandleHeight:this.scrollBar.height()};var SBy=this.scrollBar.position().top-config.scrollBarMargin,T=(this.contentScrollYAttr.scrollHeight-this.contentScrollYAttr.bodyHeight)*(SBy/(this.contentScrollYAttr.scrollTrackYHeight-this.contentScrollYAttr.scrollYHandleHeight)).number();this.scrollScrollID.css({top:-T})}},setScrollbarPositionForWheel:function(direction,duration,easing,position){var config=this.config;if("left"==direction){this.contentScrollXAttr?(this.contentScrollXAttr.scrollWidth=this.scrollScrollID.width(),this.contentScrollXAttr.scrollTrackXWidth=this.xscrollTrack.width(),this.contentScrollXAttr.scrollXHandleWidth=this.xscrollBar.outerWidth()):this.contentScrollXAttr={bodyWidth:this.scrollTargetID.width(),scrollWidth:this.scrollScrollID.width(),scrollTrackXWidth:this.xscrollTrack.width(),scrollXHandleWidth:this.scrollBar.outerWidth()};var Sy=position?position.left:this.scrollScrollID.position().left,L=(this.contentScrollXAttr.scrollTrackXWidth-this.contentScrollXAttr.scrollXHandleWidth)*(Sy/(this.contentScrollXAttr.scrollWidth-this.contentScrollXAttr.bodyWidth));L-=config.scrollBarMargin,easing?this.xscrollBar.animate({left:-L},duration,easing,function(){}):this.xscrollBar.css({left:-L})}else{if(!config.yscroll)return!1;this.contentScrollYAttr?(this.contentScrollYAttr.scrollHeight=this.scrollScrollID.height(),this.contentScrollYAttr.scrollTrackYHeight=this.scrollTrack.height(),this.contentScrollYAttr.scrollYHandleHeight=this.scrollBar.outerHeight()):this.contentScrollYAttr={bodyHeight:this.scrollTargetID.height(),scrollHeight:this.scrollScrollID.height(),scrollTrackYHeight:this.scrollTrack.height(),scrollYHandleHeight:this.scrollBar.outerHeight()};var Sy=position?position.top:this.scrollScrollID.position().top,T=(this.contentScrollYAttr.scrollTrackYHeight-this.contentScrollYAttr.scrollYHandleHeight)*(Sy/(this.contentScrollYAttr.scrollHeight-this.contentScrollYAttr.bodyHeight));T-=config.scrollBarMargin,easing?this.scrollBar.animate({top:-T},duration,easing,function(){}):this.scrollBar.css({top:-T})}},setSBPosition:function(){var config=this.config;try{var Ctop=this.scrollScrollID.position().top,STh=(this.scrollTargetID.innerHeight(),this.scrollTrack.height()),Ch=this.scrollScrollID.outerHeight(),SBh=this.scrollBar.height(),SBtop=-STh*Ctop/Ch;SBtop<config.scrollBarMargin&&(SBtop=config.scrollBarMargin),SBtop+SBh>STh&&(SBtop=STh-SBh+config.scrollBarMargin),this.scrollBar.css({top:SBtop})}catch(e){}},focusElement:function(id){this.config;if(AXgetId(id)){var ppos=this.scrollScrollID.offset(),pos=axdom("#"+id).offset(),myNewTop=pos.top-ppos.top,CTheight=this.scrollTargetID.innerHeight(),Cheight=this.scrollScrollID.outerHeight();Cheight-myNewTop<CTheight&&(myNewTop=Cheight-CTheight),myNewTop<0&&(myNewTop=0),this.scrollScrollID.css({top:-myNewTop}),this.setSBPosition()}return this},scrollTop:function(top){var myNewTop=top,CTheight=this.scrollTargetID.innerHeight(),Cheight=this.scrollScrollID.outerHeight();return Cheight-myNewTop<CTheight&&(myNewTop=Cheight-CTheight),myNewTop<0&&(myNewTop=0),this.scrollScrollID.css({top:-myNewTop}),this.setSBPosition(),this},moveTo:function(x,y){var cfg=this.config,css={};return AXUtil.isEmpty(x)||(css.left=-x),AXUtil.isEmpty(y)||(css.top=-y),this.scrollScrollID.css(css),cfg.yscroll&&!AXUtil.isEmpty(css.top)&&this.scrollBar.css({top:css.top}),cfg.xscroll&&!AXUtil.isEmpty(css.left)&&this.xscrollBar.css({left:css.left}),this},unbind:function(){var config=this.config;this.scroll=!1,this.scrollTrack.remove(),this.scrollBar.remove(),this.scrollTargetID.unbind("mouseover",this.tractActiveBind),this.scrollTargetID.unbind("mouseout",this.tractInActiveBind),axdom(document.body).unbind("mousemove.AXScroll",this.SBonMouseMoveBind),axdom(document.body).unbind("mouseup.AXScroll",this.SBonMouseUpBind);var mousewheelevt=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";return document.attachEvent?AXgetId(config.targetID)&&AXgetId(config.targetID).detachEvent("on"+mousewheelevt,this.SBonWheelBind):document.addEventListener&&AXgetId(config.targetID)&&AXgetId(config.targetID).removeEventListener(mousewheelevt,this.SBonWheelBind,!1),document.addEventListener&&AXgetId(config.targetID)&&AXgetId(config.targetID).removeEventListener("touchstart",this.SBtouchstartBind,!1),this}}),AXCalendar=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.config.CT_className="AXCalendar",this.Observer=null,this.config.weeks=[{name:"SUN"},{name:"MON"},{name:"TUE"},{name:"WED"},{name:"THU"},{name:"FRI"},{name:"SAT"}],this.config.printFormat="dd",this.config.titleFormat="yyyy/mm/dd",this.config.valueFormat="yyyy-mm-dd"},init:function(){},getBasicDate:function(){var cfg=this.config;return void 0!=cfg.basicDate?cfg.basicDate.date():new Date},getCalendarStartDate:function(date){var calendarStartDate,monthStartDate,basicDate;this.config;basicDate=date?date.date():this.getBasicDate(),monthStartDate=new Date(basicDate.getFullYear(),basicDate.getMonth(),1,12);var calendarStartDateDay=monthStartDate.getDay();return 0==calendarStartDateDay&&(calendarStartDateDay=7),calendarStartDate=monthStartDate.add(-calendarStartDateDay),{calendarStartDate:calendarStartDate,monthStartDate:monthStartDate}},printDayPage:function(date){var cfg=this.config;if(Object.isUndefined(cfg.targetID))return void trace("need targetID - setConfig({targetID:''})");var calendarDate=this.getCalendarStartDate(date),calendarStartDate=calendarDate.calendarStartDate,monthStartDate=calendarDate.monthStartDate,setDate=(this.getBasicDate(),date?date.date():new Date),po=[];po.push('<div id="'+cfg.targetID+'_AX_box" class="'+cfg.CT_className+'">'),po.push('<table cellspacing="0" cellpadding="0" class="calendarPage">'),po.push("<thead>"),po.push("<tr>"),axf.each(cfg.weeks,function(wi,ww){po.push('<td class="head_'+wi+" dayofweek_"+wi+'">'+ww.name+"</td>")}),po.push("</tr>"),po.push("</thead>"),po.push("<tbody>");var onBeforeShowDay,minTime=-1,maxTime=-1,roopDate=calendarStartDate;cfg.minDate&&(minTime=cfg.minDate.date().getTime()),cfg.maxDate&&(maxTime=cfg.maxDate.date().getTime()),cfg.onBeforeShowDay&&(onBeforeShowDay=cfg.onBeforeShowDay.bind(this));for(var i=0;i<6;){po.push("<tr>");for(var k=0;k<7;){var roopTime=roopDate.getTime(),dayValue=roopDate.print(this.config.printFormat),addClass=[],tdClass=[],printTitle=roopDate.print(this.config.titleFormat),isEnable=!0;if(onBeforeShowDay){var addData=onBeforeShowDay(roopDate);addData&&(addData.className&&addClass.push(addData.className),addData.style&&addData.style,addData.title&&(printTitle=addData.title),!1===addData.isEnable&&(isEnable=!1))}isEnable&&minTime>-1&&(isEnable=!(roopTime<minTime)),isEnable&&maxTime>-1&&(isEnable=!(roopTime>maxTime)),roopDate.getMonth()!=monthStartDate.getMonth()&&addClass.push("notThisMonth"),0==setDate.diff(roopDate,"D")&&tdClass.push("setDate"),isEnable||addClass.push("disabled"),po.push('<td class="bodyCol_'+k+" bodyRow_"+i+" "+tdClass.join(" ")+'"><a '+cfg.href+' class="calendarDate '+addClass.join(" ")+'" id="'+cfg.targetID+"_AX_"+roopDate.print(this.config.valueFormat)+'_AX_date" title="'+printTitle+'">'+dayValue.number()+"</a></td>"),k++,roopDate=roopDate.add(1)}po.push("</tr>"),i++}return po.push("</tbody>"),po.push("</table>"),po.push("</div>"),axdom("#"+cfg.targetID).html(po.join("")),this},dayPageSetDay:function(date){var cfg=this.config;return axdom("#"+cfg.targetID).find(".calendarDate").removeClass("selected"),axdom("#"+cfg.targetID+"_AX_"+date.print(this.config.valueFormat)+"_AX_date").addClass("selected"),this},printMonthPage:function(date){var cfg=this.config;if(Object.isUndefined(cfg.targetID))return void trace("need targetID - setConfig({targetID:''})");var setDate=date?date.date():new Date,po=[];po.push('<div id="'+cfg.targetID+'_AX_box" class="'+cfg.CT_className+'">'),po.push('<table cellspacing="0" cellpadding="0" class="calendarPageMonth">'),po.push("<tbody>");for(var m=1,i=0;i<4;){po.push("<tr>");for(var k=0;k<3;){var tdClass=[];m==setDate.getMonth()+1&&tdClass.push("setDate"),po.push('<td class="bodyCol_'+k+" bodyRow_"+i+" "+tdClass.join(" ")+'"><a '+cfg.href+' class="calendarMonth" id="'+cfg.targetID+"_AX_"+m+'_AX_month" title="">'+m+"월</a></td>"),k++,m++}po.push("</tr>"),i++}return po.push("</tbody>"),po.push("</table>"),po.push("</div>"),axdom("#"+cfg.targetID).html(po.join("")),this},monthPageSetMonth:function(date){var cfg=this.config;axdom("#"+cfg.targetID).find(".calendarMonth").removeClass("selected"),axdom("#"+cfg.targetID+"_AX_"+(date.getMonth()+1)+"_AX_month").addClass("selected")},printYearPage:function(year){var cfg=this.config;if(Object.isUndefined(cfg.targetID))return void trace("need targetID - setConfig({targetID:''})");var po=[];po.push('<div id="'+cfg.targetID+'_AX_box" class="'+cfg.CT_className+'">'),po.push('<table cellspacing="0" cellpadding="0" class="calendarPageMonth">'),po.push("<tbody>");for(var m=year-4,i=0;i<4;){po.push("<tr>");for(var k=0;k<3;){var tdClass=[];m==year&&tdClass.push("setDate"),po.push('<td class="bodyCol_'+k+" bodyRow_"+i+" "+tdClass.join(" ")+'"><a '+cfg.href+' class="calendarMonth" id="'+cfg.targetID+"_AX_"+m+'_AX_year" title="">'+m+"년</a></td>"),k++,m++}po.push("</tr>"),i++}po.push("</tbody>"),po.push("</table>"),po.push("</div>"),axdom("#"+cfg.targetID).html(po.join(""))},yearPageSetYear:function(date){var cfg=this.config;axdom("#"+cfg.targetID).find(".calendarMonth").removeClass("selected"),axdom("#"+cfg.targetID+"_AX_"+date.print("yyyy")+"_AX_year").addClass("selected")},printTimePage:function(displayTime){var cfg=this.config;if(Object.isUndefined(cfg.targetID))return void trace("need targetID - setConfig({targetID:''})");if(displayTime){var now=displayTime.split(":"),hh=now[0].setDigit(2),mm=now[1].left(2).setDigit(2),apm=now[1].right(2);"00"==hh&&"00"==mm&&(apm="AM"),"00"==apm&&(apm="AM")}else{var now=new Date,hh=now.getHours(),mm=now.getMinutes(),apm="AM";hh>12&&(apm="PM",hh-=12),hh=hh.setDigit(2),mm=mm.setDigit(2)}var po=[];po.push('<div id="'+cfg.targetID+'_AX_box" class="'+cfg.CT_className+'" style="padding:0px;">'),po.push("<div class='timeBox'>"),po.push("<div class='hourTitle'>Hour</div>"),po.push("<div class='hourSlider'><input type='text' value='"+hh+"' id='"+cfg.targetID+"_AX_hour' class='AXInput' /></div>"),po.push("<div class='minuteTitle'>Minute</div>"),po.push("<div class='minuteSlider'><input type='text' value='"+mm+"' id='"+cfg.targetID+"_AX_minute' class='AXInput' /></div>"),po.push("<div class='timeDisplay'>"+hh+":"+mm+" "+apm+"</div>"),po.push("<div class='AMPM'><input type='text' id='"+cfg.targetID+"_AX_AMPM' value='"+apm+"' style='width:50px;height:21px;border:0px none;' /></div>"),po.push("</div>"),po.push("</div>"),axdom("#"+cfg.targetID).html(po.join(""));var timePageChange=this.timePageChange.bind(this);axdom("#"+cfg.targetID+"_AX_hour").unbindInput(),axdom("#"+cfg.targetID+"_AX_minute").unbindInput(),axdom("#"+cfg.targetID+"_AX_AMPM").unbindInput(),axdom("#"+cfg.targetID+"_AX_hour").bindSlider({min:0,max:12,onChange:function(objID,objVal){timePageChange(objID,objVal)}}),axdom("#"+cfg.targetID+"_AX_minute").bindSlider({min:0,max:59,onChange:function(objID,objVal){timePageChange(objID,objVal)}}),axdom("#"+cfg.targetID+"_AX_AMPM").bindSwitch({off:"AM",on:"PM",onChange:function(objID,objVal){timePageChange(objID,objVal)}})},timePageChange:function(){var hh,mi,apm,mytime,cfg=this.config;hh=axdom("#"+cfg.targetID+"_AX_hour").val().number(),mi=axdom("#"+cfg.targetID+"_AX_minute").val().number(),apm=axdom("#"+cfg.targetID+"_AX_AMPM").val(),"PM"==apm&&hh>12&&(axdom("#"+cfg.targetID+"_AX_hour").val(12),axdom("#"+cfg.targetID+"_AX_hour").setValueInput(12)),mytime=hh.setDigit(2)+":"+mi.setDigit(2)+" "+apm,axdom("#"+cfg.targetID+"_AX_box").find(".timeDisplay").html(mytime),cfg.onChange&&cfg.onChange(hh.setDigit(2)+":"+mi.setDigit(2))},getTime:function(){var cfg=this.config,hh=(axdom("#"+cfg.targetID+"_AX_hour").val()||0).number(),mi=(axdom("#"+cfg.targetID+"_AX_minute").val()||0).number();return"PM"==axdom("#"+cfg.targetID+"_AX_AMPM").val()&&hh<12&&(hh+=12),hh.setDigit(2)+":"+mi.setDigit(2)}}),AXMultiSelect=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.selects=[],this.moveSens=0,this.touchMode,this.config.selectClassName="readySelect",this.config.beselectClassName="beSelected",this.config.selectingClassName="AX_selecting",this.config.moveSens=5,this.config.useHelper=!0},init:function(){var mouseClick=this.onmouseClick.bind(this);this._selectStage=axdom("#"+this.config.selectStage),this._selectStage.css({position:"relative"}),this._selectStage.bind("mousedown",this.mousedown.bind(this)),this._selectStage.bind("click",function(event){mouseClick(this,event)}),this.helper=axdom("<div class='AXMultiselectorHelper'></div>"),this.collect(),axdom(window).bind("resize.AXMultiSelect",this.collect.bind(this)),axdom(window).bind("keydown.AXMultiSelect",this.onKeydown.bind(this)),this._selectStage.bind("scroll",this.onScrollStage.bind(this)),this._selectStage.bind("touchstart",this.touchstart.bind(this))},onKeydown:function(event){event.keyCode==AXUtil.Event.KEY_ESC&&this.clearSelects()},onScrollStage:function(event){this.config;AXUtil.browser.mobile||(this.helperAppened||this.helperAppenedReady)&&(this.moveSens=0,axdom(document.body).unbind("mousemove.AXMultiSelect"),axdom(document.body).unbind("mouseup.AXMultiSelect"),axdom(document.body).unbind("mouseleave.AXMultiSelect"),axdom(document.body).removeAttr("onselectstart"),this.helperAppenedReady=!1,this.helperAppened=!1,this.helper.remove())},onmouseClick:function(element,event){if(this.helperAppened)return this;var cfg=this.config,eid=event.target.id.split(/_AX_/g),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return AXgetId(evt.parentNode)==AXgetId(cfg.selectStage)},find:function(evt,evtIDs){return!!axdom(evt).hasClass(cfg.selectClassName)}});if(myTarget){var selectElement=myTarget;selectElement&&(event.shiftKey?this.shiftSelects(selectElement):event.metaKey||event.ctrlKey?this.toggleSelects(selectElement):this.clickSelects(selectElement))}else event.target.id==cfg.selectStage&&"ie"!=AXUtil.browser.name&&this.clearSelects();return this},collect:function(){var cfg=this.config;this._selectTargets=axdom("#"+cfg.selectStage+" ."+cfg.selectClassName),this.selectTargets=this._selectTargets.get();var scrollLeft=this._selectStage.scrollLeft().number(),scrollTop=this._selectStage.scrollTop().number();return this._selectTargets.each(function(){var jQuerythis=axdom(this),pos=jQuerythis.position();axdom.data(this,"selectableItem",{element:this,jQueryelement:jQuerythis,left:pos.left+scrollLeft,top:pos.top+scrollTop,right:pos.left+scrollLeft+jQuerythis.outerWidth(),bottom:pos.top+scrollTop+jQuerythis.outerHeight(),selected:jQuerythis.hasClass(cfg.beselectClassName),selecting:jQuerythis.hasClass(cfg.selectingClassName)})}),this},clearSelects:function(){var cfg=this.config;this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&(selectTarget.selecting&&(selectTarget.jQueryelement.removeClass(cfg.selectingClassName),selectTarget.selecting=!1),selectTarget.selected&&(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1))})},pushSelects:function(Obj){this.selects.has(function(){return this.item==Obj})||this.selects.push(Obj)},clickSelects:function(Obj){var cfg=this.config;this.clearSelects();var selectTarget=axdom.data(Obj,"selectableItem");selectTarget.jQueryelement.addClass(cfg.beselectClassName),selectTarget.selected=!0},toggleSelects:function(Obj){var cfg=this.config,selectTarget=axdom.data(Obj,"selectableItem");selectTarget.selected?(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1):(selectTarget.jQueryelement.addClass(cfg.beselectClassName),selectTarget.selected=!0)},shiftSelects:function(Obj){var li,si,cfg=this.config,selectedLength=0;if(this._selectTargets.each(function(stIndex,ST){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&selectTarget.selected&&(selectedLength++,li=stIndex),this===Obj&&(si=stIndex)}),0==selectedLength)this.clickSelects(Obj);else{if(si==li)return;this.clearSelects();var temp;si>li&&(temp=si,si=li,li=temp),this._selectTargets.each(function(stIndex,ST){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&si<=stIndex&&li>=stIndex&&(selectTarget.jQueryelement.addClass(cfg.beselectClassName),selectTarget.selected=!0)})}},mousedown:function(event){this.config;axdom(document.body).bind("mousemove.AXMultiSelect",this.mousemove.bind(this)),axdom(document.body).bind("mouseup.AXMultiSelect",this.mouseup.bind(this)),axdom(document.body).bind("mouseleave.AXMultiSelect",this.mouseup.bind(this)),axdom(document.body).attr("onselectstart","return false"),this.helperAppenedReady=!0},mousemove:function(event){this.config;event.pageX&&(this.config.moveSens>this.moveSens&&this.moveSens++,this.moveSens==this.config.moveSens&&this.selectorHelperMove(event))},mouseup:function(event){var cfg=this.config,_this=this;this.helperAppenedReady=!1,this.moveSens=0,axdom(document.body).unbind("mousemove.AXMultiSelect"),axdom(document.body).unbind("mouseup.AXMultiSelect"),axdom(document.body).unbind("mouseleave.AXMultiSelect"),axdom(document.body).removeAttr("onselectstart"),this.helperAppened&&(setTimeout(function(){_this.helperAppened=!1,_this.helper.remove()},100),this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&selectTarget.selecting&&(selectTarget.jQueryelement.removeClass(cfg.selectingClassName),selectTarget.selecting=!1,selectTarget.jQueryelement.addClass(cfg.beselectClassName),selectTarget.selected=!0)}))},selectorHelperMove:function(event){var cfg=this.config;if(cfg.useHelper)if(this.helperAppened){var tmp,_helperPos=this.helperPos,x1=this.helperPos.x,y1=this.helperPos.y,x2=event.pageX-_helperPos.bodyLeft,y2=event.pageY-_helperPos.bodyTop;x1>x2&&(tmp=x2,x2=x1,x1=tmp),y1>y2&&(tmp=y2,y2=y1,y1=tmp),this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem"),hit=!1;if(selectTarget){var stL=selectTarget.left.number(),stR=selectTarget.right.number(),stT=selectTarget.top.number(),stB=selectTarget.bottom.number();stL=stL+_helperPos.stageX-_helperPos.scrollLeft-_helperPos.bodyLeft,stR=stR+_helperPos.stageX-_helperPos.scrollLeft-_helperPos.bodyLeft,stT=stT+_helperPos.stageY-_helperPos.scrollTop-_helperPos.bodyTop,stB=stB+_helperPos.stageY-_helperPos.scrollTop-_helperPos.bodyTop,hit=!(stL>x2||stR<x1||stT>y2||stB<y1),hit?(selectTarget.selected&&(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1),selectTarget.selecting||(selectTarget.jQueryelement.addClass(cfg.selectingClassName),selectTarget.selecting=!0)):(selectTarget.selecting&&(selectTarget.jQueryelement.removeClass(cfg.selectingClassName),selectTarget.selecting=!1),selectTarget.selected&&(event.metaKey||event.shiftKey||event.ctrlKey||(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1)))}})}else{this.helperAppened=!0,axdom(document.body).append(this.helper);var css={left:event.pageX-axdom(document.body).offset().left,top:event.pageY-axdom(document.body).offset().top,width:0,height:0};this.helper.css(css);var stagePos=this._selectStage.offset();this.helperPos={stageX:stagePos.left.number(),stageY:stagePos.top.number(),x:css.left.number(),y:css.top.number(),scrollLeft:this._selectStage.scrollLeft().number(),scrollTop:this._selectStage.scrollTop().number(),bodyLeft:axdom(document.body).offset().left,bodyTop:axdom(document.body).offset().top}}},touchstart:function(event){var touchEnd=(this.config,this.touchEnd.bind(this));this.touchEndBind=function(){touchEnd(event)};var touchMove=this.touchMove.bind(this);this.touchMoveBind=function(){touchMove(event)},document.addEventListener&&(document.addEventListener("touchend",this.touchEndBind,!1),document.addEventListener("touchmove",this.touchMoveBind,!1)),this.helperAppenedReady=!0},touchMove:function(event){var event=(this.config,window.event||e),touch=event.touches[0];if(touch.pageX){var offset=this._selectStage.offset(),right=offset.left+this._selectStage.width(),bottom=offset.top+this._selectStage.height();if(0==this.moveSens&&(this.touchStartXY={x:touch.pageX,y:touch.pageY,scrollTop:this._selectStage.scrollTop()}),this.config.moveSens>this.moveSens&&this.moveSens++,this.moveSens==this.config.moveSens&&("drag"==this.touchMode?(bottom<touch.pageY?this._selectStage.scrollTop(this.touchStartXY.scrollTop-(bottom-touch.pageY)):offset.top>touch.pageY&&this._selectStage.scrollTop(this.touchStartXY.scrollTop-(offset.top-touch.pageY)),right<touch.pageX?this._selectStage.scrollLeft(this.touchStartXY.scrollLeft-(right-touch.pageX)):offset.left>touch.pageX&&this._selectStage.scrollLeft(this.touchStartXY.scrollLeft-(offset.left-touch.pageX)),this.selectorHelperMoveByTouch(event)):"scrollTop"==this.touchMode?this._selectStage.scrollTop(this.touchStartXY.scrollTop+(this.touchStartXY.y-touch.pageY)):"scrollLeft"==this.touchMode?this._selectStage.scrollLeft(this.touchStartXY.scrollLeft+(this.touchStartXY.x-touch.pageX)):((this.touchStartXY.x-touch.pageX).abs()-(this.touchStartXY.y-touch.pageY).abs()).abs()<5?(this.touchMode="drag",this.selectorHelperMoveByTouch(event)):(this.touchStartXY.x-touch.pageX).abs()<(this.touchStartXY.y-touch.pageY).abs()?(this.touchMode="scrollTop",this._selectStage.scrollTop(this.touchStartXY.scrollTop+(this.touchStartXY.y-touch.pageY))):(this.touchStartXY.x-touch.pageX).abs()>(this.touchStartXY.y-touch.pageY).abs()&&(this.touchMode="scrollLeft",this._selectStage.scrollLeft(this.touchStartXY.scrollLeft+(this.touchStartXY.x-touch.pageX)))),!event.preventDefault)return!1;event.preventDefault()}},selectorHelperMoveByTouch:function(e){var cfg=this.config,event=window.event||e,touch=event.touches[0];if(this.helperAppened){var tmp,_helperPos=this.helperPos,x1=this.helperPos.x,y1=this.helperPos.y,x2=touch.pageX-_helperPos.bodyLeft,y2=touch.pageY-_helperPos.bodyTop;x1>x2&&(tmp=x2,x2=x1,x1=tmp),y1>y2&&(tmp=y2,y2=y1,y1=tmp),this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem"),hit=!1;if(selectTarget){var stL=selectTarget.left.number(),stR=selectTarget.right.number(),stT=selectTarget.top.number(),stB=selectTarget.bottom.number();stL=stL+_helperPos.stageX-_helperPos.scrollLeft-_helperPos.bodyLeft,stR=stR+_helperPos.stageX-_helperPos.scrollLeft-_helperPos.bodyLeft,stT=stT+_helperPos.stageY-_helperPos.scrollTop-_helperPos.bodyTop,stB=stB+_helperPos.stageY-_helperPos.scrollTop-_helperPos.bodyTop,hit=!(stL>x2||stR<x1||stT>y2||stB<y1),hit?(selectTarget.selected&&(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1),selectTarget.selecting||(selectTarget.jQueryelement.addClass(cfg.selectingClassName),selectTarget.selecting=!0)):(selectTarget.selecting&&(selectTarget.jQueryelement.removeClass(cfg.selectingClassName),selectTarget.selecting=!1),selectTarget.selected&&(event.metaKey||event.shiftKey||event.ctrlKey||(selectTarget.jQueryelement.removeClass(cfg.beselectClassName),selectTarget.selected=!1)))}})}else{this.helperAppened=!0,axdom(document.body).append(this.helper);var css={left:touch.pageX-axdom(document.body).offset().left,top:touch.pageY-axdom(document.body).offset().top,width:0,height:0};this.helper.css(css);var stagePos=this._selectStage.offset();this.helperPos={stageX:stagePos.left.number(),stageY:stagePos.top.number(),x:css.left.number(),y:css.top.number(),scrollLeft:this._selectStage.scrollLeft().number(),scrollTop:this._selectStage.scrollTop().number(),bodyLeft:axdom(document.body).offset().left,bodyTop:axdom(document.body).offset().top}}},touchEnd:function(e){var cfg=this.config;window.event;this.helperAppenedReady=!1,this.moveSens=0,this.touchMode=!1,document.removeEventListener&&(document.removeEventListener("touchend",this.touchEndBind,!1),document.removeEventListener("touchmove",this.touchMoveBind,!1)),this.helperAppened&&(this.helperAppened=!1,this.helper.remove(),this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&(selectTarget.selecting?(selectTarget.jQueryelement.removeClass(cfg.selectingClassName),selectTarget.selecting=!1,selectTarget.jQueryelement.addClass(cfg.beselectClassName),selectTarget.selected=!0):selectTarget.selected)}))},getSelects:function(){var selects=(this.config,[]);return this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&selectTarget.selected&&selects.push(selectTarget.element)}),selects},size:function(){var selects=(this.config,[]);return this._selectTargets.each(function(){var selectTarget=axdom.data(this,"selectableItem");selectTarget&&selectTarget.selected&&selects.push(selectTarget.element)}),selects.length}}),AXResizable=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.moveSens=0,this.objects=[],this.config.moveSens=2,this.config.bindResiableContainer="AXResizable",this.config.bindResiableHandle="AXResizableHandle"},init:function(){this.helper=axdom("<div class='AXResizableHelper'></div>")},bind:function(obj){this.config;if(!obj.id)return void trace("bind 대상 ID가 없어 bind 처리할 수 없습니다.");if(!AXgetId(obj.id))return void trace("bind 대상이 없어 bind 처리할 수 없습니다.");var objID=obj.id,objSeq=null;return AXUtil.each(this.objects,function(idx,O){this.id==objID&&(objSeq=idx)}),null==objSeq?(objSeq=this.objects.length,this.objects.push({id:objID,element:AXgetId(objID),jQueryElement:axdom("#"+objID),config:obj})):(this.objects[objSeq].isDel=void 0,this.objects[objSeq].config=obj),this.bindResizer(objID,objSeq),this},unbind:function(obj){var removeIdx;this.config;return AXUtil.each(this.objects,function(idx,O){O.id!=obj.id||1!=O.isDel&&(removeIdx=idx)}),void 0!=removeIdx&&(this.objects[removeIdx].isDel=!0),this},bindResizer:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq],po=[];po.push('<div class="'+cfg.bindResiableHandle+'"></div>'),obj.jQueryElement.addClass(cfg.bindResiableContainer),obj.jQueryElement.append(po.join("")),obj.jQueryElement.bind("mousedown.AXResizable",this.mousedown.bind(this,objID,objSeq))},mousedown:function(objID,objSeq,event){this.config;axdom(window).bind("mousemove.AXResizable",this.mousemove.bind(this,objID,objSeq)),axdom(window).bind("mouseup.AXResizable",this.mouseup.bind(this,objID,objSeq)),axdom(document.body).attr("onselectstart","return false"),this.helperAppenedReady=!0},mousemove:function(objID,objSeq,event){this.config;event.pageX&&(this.config.moveSens>this.moveSens&&this.moveSens++,this.moveSens==this.config.moveSens&&this.selectorHelperMove(objID,objSeq,event))},mouseup:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]);if(this.helperAppenedReady=!1,this.moveSens=0,axdom(window).unbind("mousemove.AXResizable"),axdom(window).unbind("mouseup.AXResizable"),axdom(document.body).removeAttr("onselectstart"),this.helperAppened){this.helperAppened=!1;var newWidth=this.helper.width(),newHeight=this.helper.height(),paddingLeft=obj.jQueryElement.css("padding-left"),paddingRight=obj.jQueryElement.css("padding-right"),paddingTop=obj.jQueryElement.css("padding-top"),paddingBottom=obj.jQueryElement.css("padding-bottom"),paddingW=paddingLeft.number()+paddingRight.number(),paddingH=paddingTop.number()+paddingBottom.number();obj.config.animate?obj.jQueryElement.animate({width:newWidth-paddingW,height:newHeight-paddingH},obj.config.animate.duration||300,obj.config.animate.easing||"liner",function(){obj.config.onChange&&obj.config.onChange.call(obj,obj)}):(obj.jQueryElement.css({width:newWidth-paddingW,height:newHeight-paddingH}),obj.config.onChange&&obj.config.onChange.call(obj,obj)),this.helper.remove()}},selectorHelperMove:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]);if(this.helperAppened){var _helperPos=this.helperPos,x1=this.helperPos.x,y1=this.helperPos.y,x2=event.pageX-_helperPos.bodyLeft,y2=event.pageY-_helperPos.bodyTop,minWidth=obj.config.minWidth||0,minHeight=obj.config.minHeight||0,maxWidth=obj.config.maxWidth||0,maxHeight=obj.config.maxHeight||0,myWidth=x2-x1,myHeight=y2-y1;0!=minWidth&&myWidth<minWidth&&(myWidth=minWidth),0!=minHeight&&myHeight<minHeight&&(myHeight=minHeight),0!=maxWidth&&myWidth>maxWidth&&(myWidth=maxWidth),0!=maxHeight&&myHeight>maxHeight&&(myHeight=maxHeight),obj.config.aspectRatio&&(myWidth=myHeight*obj.config.aspectRatio),obj.config.snap&&(myWidth=obj.config.snap*(myWidth/obj.config.snap).ceil(),myHeight=obj.config.snap*(myHeight/obj.config.snap).ceil()),this.helper.css({width:myWidth,height:myHeight})}else{this.helperAppened=!0,axdom(document.body).append(this.helper);var bodyLeft=axdom(document.body).offset().left,pos=(axdom(document.body).offset().top,obj.jQueryElement.offset()),css={left:pos.left+bodyLeft,top:pos.top+bodyLeft,width:obj.jQueryElement.outerWidth(),height:obj.jQueryElement.outerHeight()};this.helper.css(css),this.helperPos={x:css.left,y:css.top,bodyLeft:axdom(document.body).offset().left,bodyTop:axdom(document.body).offset().top}}}}),AXResizableBinder=new AXResizable;AXResizableBinder.setConfig({targetID:"defaultResizable"}),axdom.fn.bindAXResizable=function(config){return AXUtil.each(this,function(){return config=config||{},config.id=this.id,AXResizableBinder.bind(config),this}),this},axdom.fn.unbindAXResizable=function(config){return AXUtil.each(this,function(){return void 0==config&&(config={}),config.id=this.id,AXResizableBinder.unbind(config),this}),this};var AXContextMenuClass=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.showedItem={},this.objects=[],this.config.theme="AXContextMenu",this.config.width="140",this.config.responsiveMobile=0,this.config.reserveKeys={subMenu:"subMenu"}},init:function(){},bindSetConfig:function(objID,configs){var findIndex=null;if(AXUtil.each(this.objects,function(index,O){if(O.id==objID)return findIndex=index,!1}),null!=findIndex){var _self=this.objects[findIndex];axf.each(configs,function(k,v){_self.config[k]=v})}},bind:function(obj){var cfg=this.config;if(!obj.id)return void trace("ID가 없어 bind 처리할 수 없습니다. AXContentMenu.bind({id:'idValue'});");var objSeq=null;return axf.each(this.objects,function(idx,O){if(this.id==obj.id)return objSeq=idx,!1}),obj.reserveKeys||(obj.reserveKeys=cfg.reserveKeys),null!=objSeq?(this.objects[objSeq]=obj,this):(objSeq=this.objects.length,this.objects.push(obj),this)},filter:function(objSeq,objID,myobj,menu){var obj=(this.config,this.objects[objSeq]);if(myobj.filter){var sendObj={menu:menu,sendObj:obj.sendObj};return myobj.filter.call(sendObj,objID)}return!0},getSubMenu:function(parentID,objSeq,objID,myobj,subMenu,depth){var cfg=this.config,obj=this.objects[objSeq],theme=obj.theme||cfg.theme,width=obj.width||cfg.width,filter=this.filter.bind(this),getSubMenu=this.getSubMenu.bind(this),subMenuID=parentID+"_AX_subMenu",href=void 0==obj.href?cfg.href:obj.href,po=[];return po.push('<div id="'+subMenuID+'" class="'+theme+'" style="width:'+width+"px;left:"+(width.number()-15)+'px;display:none;">'),AXUtil.each(subMenu,function(idx,menu){if(filter(objSeq,objID,myobj,menu)){menu.upperLine&&po.push('<div class="hline"></div>');var className=menu.className?menu.className:"",hasSubMenu=menu[obj.reserveKeys.subMenu]?" hasSubMenu":"";po.push("<a "+href+' class="contextMenuItem '+className+hasSubMenu+'" id="'+subMenuID+"_AX_"+depth+"_AX_"+idx+'">');var checked="";obj.checkbox&&(menu.checked&&(checked=" on"),po.push("<div class='tool-checkbox"+checked+"' id=\""+subMenuID+"_tool_AX_"+depth+"_AX_"+idx+'"></div>')),po.push("<span class='label'>"+menu.label+"</span>"),menu.shotCut&&po.push("<span class='shot-cut'>"+menu.shotCut+"</span>"),po.push("<div class='tool-rightGroup'>"),menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push('<div class="contextSubMenuIcon"></div>'),po.push("</div>"),po.push("</a>"),menu.__axdomId=subMenuID+"_AX_"+depth+"_AX_"+idx,menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push(getSubMenu(subMenuID+"_AX_"+depth+"_AX_"+idx,objSeq,objID,myobj,menu[obj.reserveKeys.subMenu],depth+1)),menu.underLine&&po.push('<div class="hline"></div>')}}),po.push("</div>"),po.join("")},open:function(myobj,position){var cfg=this.config;return axf.clientWidth()<cfg.responsiveMobile?this.mobileOpen(myobj,position):this.deskTopOpen(myobj,position),this},mobileOpen:function(myobj,position){var objSeq=(this.config,null);if(AXUtil.each(this.objects,function(index,O){if(O.id==myobj.id)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq],objID=obj.id;this.modal=new AXMobileModal,this.modal.setConfig({addClass:"",height:388,width:300,head:{close:{onclick:function(){}}},onclose:function(){}});var initMobileModalBind=this.initMobileModal.bind(this),onLoad=function(modalObj){initMobileModalBind(objID,objSeq,myobj,modalObj)};this.modal.open(null,onLoad),this.mobileMode=!0}},initMobileModal:function(objID,objSeq,myobj,modalObj){var cfg=this.config,_this=this,obj=this.objects[objSeq];this.mobileModalObj={myobj:myobj,modalObj:modalObj},myobj.sendObj&&(obj.sendObj=myobj.sendObj);var href=void 0==obj.href?cfg.href:obj.href,filter=this.filter.bind(this),headPo=[];headPo.push("<a "+href+' class="AXContextMenuHome">home</a>'),headPo.push('<span id="'+objID+'_AX_mobileMenuPrevBox"></span>'),modalObj.modalHead.empty(),modalObj.modalHead.append(headPo.join("")),modalObj.modalHead.find(".AXContextMenuHome").bind("click",function(){_this.initMobileModal(objID,objSeq,myobj,modalObj)});var styles=[];styles.push("height:339px;");var menuList=obj.menu,po=[];po.push('<div id="'+objID+'_AX_containerBox" class="AXContextMenuContainer" style="'+styles.join(";")+'">'),po.push('<div id="'+objID+'_AX_scroll" class="AXContextMenuScroll">'),void 0===obj.reserveKeys&&(obj.reserveKeys=cfg.reserveKeys),axf.each(menuList,function(idx,menu){if(menu&&filter(objSeq,objID,myobj,menu)){var className=menu.className?" "+menu.className:"",hasSubMenu=menu[obj.reserveKeys.subMenu]?" hasSubMenu":"";po.push("<a "+href+' class="contextMenuItem'+className+hasSubMenu+'" id="'+objID+"_AX_contextMenu_AX_0_AX_"+idx+'">');var checked="";if(obj.checkbox&&(menu.checked&&(checked=" on"),po.push("<div class='tool-checkbox"+checked+"' id=\""+objID+"_AX_contextMenuToolCheck_AX_0_AX_"+idx+'"></div>')),po.push("<span class='label'>"+menu.label+"</label>"),menu.shotCut&&po.push("<span class='shot-cut'>"+menu.shotCut+"</span>"),po.push("<div class='tool-rightGroup'>"),menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push('<div class="contextSubMenuIcon"></div>'),obj.sortbox){var sortdirect="";menu.sort&&(sortdirect=" "+menu.sort.toString().lcase()),po.push('<div class="tool-sort'+sortdirect+'" id="'+objID+"_AX_contextMenuToolSort_AX_0_AX_"+idx+'"></div>')}po.push("</div>"),po.push("</a>"),menu.__axdomId=objID+"_AX_contextMenu_AX_0_AX_"+idx}}),po.push("</div>"),po.push("</div>"),modalObj.modalBody.empty(),modalObj.modalBody.append(po.join("")),this.myUIScroll=new AXScroll,this.myUIScroll.setConfig({targetID:objID+"_AX_containerBox",scrollID:objID+"_AX_scroll"});var contextMenuItemClick=this.contextMenuItemClick.bind(this);this.closeMobileModal.bind(this);this.contextMenuItemClickBind=function(event){contextMenuItemClick(event,objSeq,objID)},modalObj.modalBody.find(".contextMenuItem").bind("click",this.contextMenuItemClickBind)},mobileModalSubMenu:function(parentID,objSeq,objID,myobj,modalObj,pMenu,depth){var cfg=this.config,_this=this,obj=this.objects[objSeq],filter=(obj.theme||cfg.theme,obj.width||cfg.width,this.filter.bind(this)),subMenuID=(this.mobileModalSubMenu.bind(this),parentID+"_AX_subMenu"),href=void 0==obj.href?cfg.href:obj.href,poi=parentID.split(/_AX_/g),pdepth=poi[poi.length-2].number();axdom("#"+objID+"_AX_mobileMenuPrevBox").html('<a class="AXContextMenuPrev" id="'+objID+"_AX_prev_AX_"+poi.join("_")+'">'+pMenu.label+"</a>"),axdom("#"+objID+"_AX_prev_AX_"+poi.join("_")).bind("click",function(){if(0==pdepth)_this.initMobileModal(objID,objSeq,myobj,modalObj);else{for(var poi=pMenu.__axdomId.split(/_AX_/g),hashs=(poi[poi.length-2].number(),[]),mystrPosition=poi.length-1,r=0;r<depth+1;r++)isNaN(poi[mystrPosition])||hashs.push(poi[mystrPosition]),mystrPosition-=3;hashs=hashs.reverse(),hashs.pop();for(var hash,menu=obj.menu,idx=0,__arr=hashs;idx<__arr.length&&(hash=__arr[idx]);idx++)menu=0==idx?menu[hash]:menu[obj.reserveKeys.subMenu][hash];_this.mobileModalSubMenu(menu.__axdomId,objSeq,objID,_this.mobileModalObj.myobj,_this.mobileModalObj.modalObj,menu,depth-1)}});var styles=[];styles.push("height:339px;");var menuList=pMenu[obj.reserveKeys.subMenu],po=[];po.push('<div id="'+objID+'_AX_containerBox" class="AXContextMenuContainer" style="'+styles.join(";")+'">'),po.push('<div id="'+objID+'_AX_scroll" class="AXContextMenuScroll">'),axf.each(menuList,function(idx,menu){if(menu&&filter(objSeq,objID,myobj,menu)){var className=menu.className?" "+menu.className:"",hasSubMenu=menu[obj.reserveKeys.subMenu]?" hasSubMenu":"";po.push("<a "+href+' class="contextMenuItem'+className+hasSubMenu+'" id="'+subMenuID+"_AX_"+depth+"_AX_"+idx+'">');var checked="";if(obj.checkbox&&(menu.checked&&(checked=" on"),po.push("<div class='tool-checkbox"+checked+"' id=\""+subMenuID+"_AX_contextMenuToolCheck_AX_"+depth+"_AX_"+idx+'"></div>')),po.push("<span class='label'>"+menu.label+"</label>"),menu.shotCut&&po.push("<span class='shot-cut'>"+menu.shotCut+"</span>"),po.push("<div class='tool-rightGroup'>"),menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push('<div class="contextSubMenuIcon"></div>'),obj.sortbox){var sortdirect="";menu.sort&&(sortdirect=" "+menu.sort.toString().lcase()),po.push('<div class="tool-sort'+sortdirect+'" id="'+subMenuID+"_AX_contextMenuToolSort_AX_"+depth+"_AX_"+idx+'"></div>')}po.push("</div>"),po.push("</a>"),menu.__axdomId=subMenuID+"_AX_"+depth+"_AX_"+idx}}),po.push("</div>"),po.push("</div>"),modalObj.modalBody.empty(),modalObj.modalBody.append(po.join("")),this.myUIScroll=new AXScroll,this.myUIScroll.setConfig({targetID:objID+"_AX_containerBox",scrollID:objID+"_AX_scroll"});var contextMenuItemClick=this.contextMenuItemClick.bind(this);this.closeMobileModal.bind(this);this.contextMenuItemClickBind=function(event){contextMenuItemClick(event,objSeq,objID)},modalObj.modalBody.find(".contextMenuItem").bind("click",this.contextMenuItemClickBind)},closeMobileModal:function(){this.config;this.modal.close()},deskTopOpen:function(myobj,position){var cfg=this.config,objSeq=null;if(this.mobileMode=!1,AXUtil.each(this.objects,function(index,O){if(O.id==myobj.id)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq],objID=obj.id;if(myobj.sendObj&&(obj.sendObj=myobj.sendObj),!AXgetId(objID)){var theme=obj.theme||cfg.theme,width=obj.width||cfg.width;axdom("#"+objID).remove();var href=void 0==obj.href?cfg.href:obj.href,filter=this.filter.bind(this),getSubMenu=this.getSubMenu.bind(this),displayMenuCount=0,po=[];if(po.push('<div id="'+objID+'" class="'+theme+'" style="width:'+width+'px;">'),AXUtil.each(obj.menu,function(idx,menu){if(menu&&filter(objSeq,objID,myobj,menu)){menu.upperLine&&po.push('<div class="hline"></div>');var className=menu.className?" "+menu.className:"",hasSubMenu=menu[obj.reserveKeys.subMenu]?" hasSubMenu":"";po.push("<a "+href+' class="contextMenuItem'+className+hasSubMenu+'" id="'+objID+"_AX_contextMenu_AX_0_AX_"+idx+'">');var checked="";obj.checkbox&&(menu.checked&&(checked=" on"),po.push("<div class='tool-checkbox"+checked+"' id=\""+objID+"_AX_contextMenuTool_AX_0_AX_"+idx+'"></div>')),po.push("<span class='label'>"+menu.label+"</span>"),menu.shotCut&&po.push("<span class='shot-cut'>"+menu.shotCut+"</span>"),po.push("<div class='tool-rightGroup'>"),menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push('<div class="contextSubMenuIcon"></div>'),obj.sortbox&&po.push('<div class="tool_sort desc"></div>'),po.push("</div>"),po.push("</a>"),menu.__axdomId=objID+"_AX_contextMenu_AX_0_AX_"+idx,menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&po.push(getSubMenu(objID+"_AX_contextMenu_AX_0_AX_"+idx,objSeq,objID,myobj,menu[obj.reserveKeys.subMenu],1)),menu.underLine&&po.push('<div class="hline"></div>'),displayMenuCount++}}),po.push("</div>"),0==displayMenuCount)return!1;axdom(document.body).append(po.join("")),axdom("#"+objID+" .contextMenuItem:first-child").addClass("first"),axdom("#"+objID+" .contextMenuItem:last-child").addClass("last");var contextMenuItemMouseOver=this.contextMenuItemMouseOver.bind(this);this.contextMenuItemMouseOverBind=function(event){contextMenuItemMouseOver(event,objSeq,objID)},axdom("#"+objID+" .contextMenuItem").bind("mouseover",this.contextMenuItemMouseOverBind);var css={};if(position.clientX){var mouse=this.getMousePositon(position);css.left=mouse.pageX,css.top=mouse.pageY}else void 0!=position.left?css.left=position.left:css.right=position.right,css.top=position.top;var pElement=axdom("#"+objID).offsetParent(),pBox={width:pElement.width(),height:pElement.height()},clientHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,clienWidth="Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth;clienWidth>pBox.width&&(pBox.width=clienWidth),clientHeight>pBox.height&&(pBox.height=clientHeight);var _box={width:axdom("#"+objID).outerWidth(),height:axdom("#"+objID).outerHeight()};if(_box.height.number()+css.top.number()>pBox.height&&(css.top-=_box.height.number()+css.top.number()-pBox.height+25,this.openTB="up",css.top<0&&(css.top=0)),void 0!=css.left)if(_box.width.number()+css.left.number()>pBox.width){var moveLeft=_box.width.number()+css.left.number()-pBox.width+25;css.left-=moveLeft,this.openLR="left"}else 2*_box.width.number()+css.left.number()>pBox.width&&(this.openLR="left");else css.left="auto",this.openLR="right";axdom("#"+objID).css(css),this.eventBind(objSeq,objID)}}},eventBind:function(objSeq,objID){var contextMenuItemDown=(this.config,this.contextMenuItemDown.bind(this)),contextMenuItemDownBind=function(event){contextMenuItemDown(event,objSeq,objID)};axdom(document).bind("mousedown.AXContenxtMenu",contextMenuItemDownBind),axdom(document).bind("keydown.AXContenxtMenu",contextMenuItemDownBind),axdom(document).find("iframe").each(function(){try{axdom(window[this.name].document).bind("mousedown.AXContenxtMenu",contextMenuItemDownBind),axdom(window[this.name].document).bind("keydown.AXContenxtMenu",contextMenuItemDownBind)}catch(e){}});var contextMenuItemClick=this.contextMenuItemClick.bind(this);this.contextMenuItemClickBind=function(event){contextMenuItemClick(event,objSeq,objID)},axdom("#"+objID).find(".contextMenuItem").bind("click",this.contextMenuItemClickBind)},_close:function(objSeq,objID){var obj=(this.config,this.objects[objSeq]),that={id:obj.id,event_type:"event"};this.mobileMode?this.closeMobileModal():axdom("#"+objID).fadeOut("fast",function(){axdom("#"+objID).remove()}),axdom(document).unbind("keydown.AXContenxtMenu"),axdom(document).unbind("mousedown.AXContenxtMenu"),axdom(document).find("iframe").each(function(){window[this.name]&&(axdom(window[this.name].document).unbind("mousedown.AXContenxtMenu"),axdom(window[this.name].document).unbind("keydown.AXContenxtMenu"))}),this.showedItem={},this.openTB="",this.openLR="",obj.onclose&&obj.onclose.call(that)},close:function(myobj){var objSeq=(this.config,null);if(axf.each(this.objects,function(index,O){if(O.id==myobj.id)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq],objID=obj.id;obj.id;return this.mobileMode?this.closeMobileModal():axdom("#"+objID).fadeOut("fast",function(){axdom("#"+objID).remove()}),axdom(document).unbind("keydown",this.contextMenuItemDownBind),axdom(document).unbind("mousedown",this.contextMenuItemDownBind),this.showedItem={},this.openTB="",this.openLR="",obj.onclose,this}},contextMenuItemMouseOver:function(event,objSeq,objID){var cfg=this.config,obj=this.objects[objSeq],eid=(obj.width||cfg.width,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,find:function(evt,evtIDs){return!!axdom(evt).hasClass("contextMenuItem")}});if(myTarget){var poi=myTarget.id.split(/_AX_/g),depth=poi[poi.length-2];if(this.showedItem[depth]&&axdom("#"+this.showedItem[depth]).hide(),axdom(myTarget).hasClass("hasSubMenu")){var pElement=axdom("#"+myTarget.id+"_AX_subMenu").offsetParent(),pBox={width:pElement.width(),height:pElement.height()},clientHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,clienWidth="Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth;clienWidth>pBox.width&&(pBox.width=clienWidth),clientHeight>pBox.height&&(pBox.height=clientHeight);var css,subMenuTop=(axdom("#"+myTarget.id+"_AX_subMenu").outerWidth(),axdom("#"+myTarget.id+"_AX_subMenu").outerHeight(),axdom("#"+myTarget.id).position().top);if("up"==this.openTB){css={top:"auto",bottom:axdom("#"+myTarget.id).offsetParent().height()-subMenuTop-axdom("#"+myTarget.id).height()}}else css={top:subMenuTop};"left"==this.openLR&&(css.left=-20),axdom("#"+myTarget.id+"_AX_subMenu").css(css),axdom("#"+myTarget.id+"_AX_subMenu").show(),this.showedItem[depth]=myTarget.id+"_AX_subMenu"}}},contextMenuItemDown:function(event,objSeq,objID){this.config,this.objects[objSeq];if(event.keyCode==AXUtil.Event.KEY_ESC)return void this._close(objSeq,objID,event);var eid=event.target.id.split(/_AX_/g),eventTarget=event.target;this.getEventTarget({evt:eventTarget,evtIDs:eid,find:function(evt,evtIDs){return!!axdom(evt).hasClass("contextMenuItem")}})||this._close(objSeq,objID,event)},contextMenuItemClick:function(event,objSeq,objID){var obj=(this.config,this.objects[objSeq]),eid=event.target.id.split(/_AX_/g),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,find:function(evt,evtIDs){return!!(axdom(evt).hasClass("contextMenuItem")||axdom(evt).hasClass("tool-checkbox")||axdom(evt).hasClass("tool-sort"))}});if(myTarget){for(var poi=myTarget.id.split(/_AX_/g),depth=poi[poi.length-2].number(),hashs=[],mystrPosition=poi.length-1,r=0;r<depth+1;r++)hashs.push(poi[mystrPosition]),mystrPosition-=3;hashs=hashs.reverse();for(var hash,menu=obj.menu,idx=0,__arr=hashs;idx<__arr.length&&(hash=__arr[idx]);idx++)menu=0==idx?menu[hash]:menu[obj.reserveKeys.subMenu][hash];if(menu[obj.reserveKeys.subMenu]&&menu[obj.reserveKeys.subMenu].length>0&&this.mobileMode)return this.mobileModalSubMenu(myTarget.id,objSeq,objID,this.mobileModalObj.myobj,this.mobileModalObj.modalObj,menu,depth+1),!1;if(axdom(myTarget).hasClass("tool-checkbox"))return menu.checked=!menu.checked,axdom("#"+menu.__axdomId).find(".tool-checkbox").toggleClass("on"),obj.onchange&&obj.onchange.call({menu:obj.menu,clickMenu:menu,sendObj:obj.sendObj},objID),!0;if(axdom(myTarget).hasClass("tool-sort")){for(var M,midx=0,__arr=obj.menu;midx<__arr.length&&(M=__arr[midx]);midx++)menu!=M&&(M.sort=void 0,axdom("#"+M.__axdomId).find(".tool-sort").removeClass("asc").removeClass("desc"));return void 0==menu.sort&&(menu.sort=""),"asc"==menu.sort.toString().lcase()?(axdom("#"+menu.__axdomId).find(".tool-sort").removeClass("asc").addClass("desc"),menu.sort="desc"):"desc"==menu.sort.toString().lcase()?(axdom("#"+menu.__axdomId).find(".tool-sort").removeClass("desc").addClass("asc"),menu.sort="asc"):(axdom("#"+menu.__axdomId).find(".tool-sort").addClass("desc"),menu.sort="desc"),obj.onsort&&1!=obj.onsort.call({menu:obj.menu,sortMenu:menu,sendObj:obj.sendObj},objID)&&this._close(objSeq,objID,event),!0}if(menu.onclick)return 1!=menu.onclick.call({menu:menu,sendObj:obj.sendObj},objID)&&this._close(objSeq,objID,event),!0;if(obj.onchange)return menu.checked=!menu.checked,axdom("#"+menu.__axdomId).find(".tool-checkbox").toggleClass("on"),obj.onchange&&1!=obj.onchange.call({menu:obj.menu,clickMenu:menu,sendObj:obj.sendObj},objID)&&this._close(objSeq,objID,event),!0}}}),AXContextMenu=new AXContextMenuClass;AXContextMenu.setConfig({});var AXPopOverClass=Class.create(AXContextMenuClass,{open:function(myobj,position){var cfg=this.config,objSeq=null;if(AXUtil.each(this.objects,function(index,O){O.id==myobj.id?objSeq=index:axdom("#"+O.id).remove()}),null!=objSeq){var obj=this.objects[objSeq],objID=obj.id;myobj.sendObj&&(obj.sendObj=myobj.sendObj),this.observer&&clearTimeout(this.observer);var direction=obj.direction||"top";if(AXgetId(objID))return void(position.clientX&&this.contentMenuSetCss(event,position,objSeq,objID));var theme=obj.theme||cfg.theme,width=obj.width||cfg.width,arrowStyle="";position.clientX?arrowStyle="background-position:10px 0px;":position.arrowLeft&&(arrowStyle="background-position:"+position.arrowLeft+"px 0px;"),axdom("#"+objID).remove();var href=void 0==obj.href?cfg.href:obj.href,filter=this.filter.bind(this),getSubMenu=this.getSubMenu.bind(this),po=[];po.push('<div id="'+objID+'" class="'+theme+'" style="width:'+width+'px;">'),po.push('<div class="arrowTop" style="'+arrowStyle+'"></div>'),po.push('<div class="arrowBottom" style="'+arrowStyle+'"></div>'),po.push('<div class="blockContainer">'),obj.menu?AXUtil.each(obj.menu,function(idx,menu){if(!menu)return!1;if(filter(objSeq,objID,myobj,menu)){menu.upperLine&&po.push('<div class="hline"></div>');var className=menu.className?" "+menu.className:"",hasSubMenu=menu.subMenu?" hasSubMenu":"";po.push("<a "+href+' class="contextMenuItem'+className+hasSubMenu+'" id="'+objID+"_AX_contextMenu_AX_0_AX_"+idx+'">'),po.push(menu.label),menu.subMenu&&menu.subMenu.length>0&&po.push('<div class="contextSubMenuIcon"></div>'),po.push("</a>"),menu.subMenu&&menu.subMenu.length>0&&po.push(getSubMenu(objID+"_AX_contextMenu_AX_0_AX_"+idx,objSeq,objID,myobj,menu.subMenu,1)),menu.underLine&&po.push('<div class="hline"></div>')}}):obj.body&&(po.push('<div class="contextMenuBody">'),po.push(obj.body),po.push("</div>")),po.push("</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),"top"==direction?(axdom("#"+objID).find(".arrowTop").show(),axdom("#"+objID).find(".arrowBottom").hide()):"bottom"==direction?(axdom("#"+objID).find(".arrowTop").hide(),axdom("#"+objID).find(".arrowBottom").show()):(axdom("#"+objID).find(".arrowTop").show(),axdom("#"+objID).find(".arrowBottom").hide()),axdom("#"+objID+" .contextMenuItem:first-child").addClass("first"),axdom("#"+objID+" .contextMenuItem:last-child").addClass("last");var contextMenuItemMouseOver=this.contextMenuItemMouseOver.bind(this);this.contextMenuItemMouseOverBind=function(event){contextMenuItemMouseOver(event,objSeq,objID)};var contextMenuMouseOut=this.contextMenuMouseOut.bind(this);this.contextMenuMouseOutBind=function(event){contextMenuMouseOut(event,objSeq,objID)};var eventClear=function(){this.observer&&clearTimeout(this.observer)};return axdom("#"+objID+" .contextMenuItem").bind("mouseover",this.contextMenuItemMouseOverBind),axdom("#"+objID).bind("mouseover",eventClear.bind(this)),axdom("#"+objID).bind("mouseout",this.contextMenuMouseOutBind),this.contentMenuSetCss(null,position,objSeq,objID),this.eventBind(objSeq,objID),this}},contentMenuSetCss:function(event,position,objSeq,objID){var obj=(this.config,this.objects[objSeq]),direction=obj.direction||"top",css={};if(position.clientX){var mouse=this.getMousePositon(position);obj.eventPosition=!0,css.left=mouse.pageX,css.left-=20,css.top=mouse.pageY}else void 0!=position.left?css.left=position.left:(css.left="auto",css.right=position.right),css.top=position.top;var pElement=axdom("#"+objID).offsetParent(),pBox={width:pElement.width(),height:pElement.height()},clientHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,clienWidth="Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth;clienWidth>pBox.width&&(pBox.width=clienWidth),clientHeight>pBox.height&&(pBox.height=clientHeight);var _box={width:axdom("#"+objID).outerWidth(),height:axdom("#"+objID).outerHeight()},openTB="";if("top"==direction?openTB="top":"bottom"==direction?(css.top-=axdom("#"+objID).outerHeight(),openTB="bottom"):_box.height.number()+css.top.number()>pBox.height?(css.top=css.top-_box.height.number()-position.handleHeight-3,axdom("#"+objID).find(".arrowTop").hide(),axdom("#"+objID).find(".arrowBottom").show(),openTB="bottom"):(axdom("#"+objID).find(".arrowTop").show(),axdom("#"+objID).find(".arrowBottom").hide(),openTB="top"),void 0!=css.left&&_box.width.number()+css.left.number()>pBox.width){var moveLeft=_box.width.number()+css.left.number()-pBox.width+5;css.left-=moveLeft,"top"==openTB?axdom("#"+objID).find(".arrowTop").css({"background-position":moveLeft+5+"px 0px;"}):axdom("#"+objID).find(".arrowBottom").css({"background-position":moveLeft+5+"px 0px;"})}axdom("#"+objID).css(css)},contextMenuItemMouseOver:function(event,objSeq,objID){var cfg=this.config,obj=this.objects[objSeq];this.observer&&clearTimeout(this.observer);var eid=(obj.width||cfg.width,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,find:function(evt,evtIDs){return!!axdom(evt).hasClass("contextMenuItem")}});if(myTarget){var poi=myTarget.id.split(/_AX_/g),depth=poi[poi.length-2];if(this.showedItem[depth]&&axdom("#"+this.showedItem[depth]).hide(),axdom(myTarget).hasClass("hasSubMenu")){var css,subMenuTop=axdom("#"+myTarget.id).position().top;if("up"==this.openTB){css={top:"auto",bottom:axdom("#"+myTarget.id).offsetParent().height()-subMenuTop-axdom("#"+myTarget.id).height()}}else css={top:subMenuTop};"left"==this.openLR&&(css.left=-20),axdom("#"+myTarget.id+"_AX_subMenu").css(css),axdom("#"+myTarget.id+"_AX_subMenu").show(),this.showedItem[depth]=myTarget.id+"_AX_subMenu"}}},contextMenuMouseOut:function(event,objSeq,objID){var close=this._close.bind(this);this.observer=setTimeout(function(){close(objSeq,objID)},200)}}),AXPopOver=new AXPopOverClass;AXPopOver.setConfig({theme:"AXPopOver"}),axdom.fn.bindTooltip=function(config){return void 0==config&&(config={}),AXUtil.each(this,function(){var tooltipContent=axdom("#"+this.id+"_AX_tooltip").html();AXPopOver.bind({id:this.id+"_AX_tooltipobj",theme:config.theme||"AXPopOverTooltip",width:config.width||"",direction:config.direction||"top",body:tooltipContent}),axdom(this).bind(config.event||"mouseover",function(){var pos=axdom(this).offset(),direction=config.direction||"top",posTop=pos.top;"bottom"==direction?posTop-=3:posTop+=axdom(this).outerHeight()+3,AXPopOver.open({id:this.id+"_AX_tooltipobj",sendObj:{}},{left:pos.left,top:posTop,handleHeight:axdom(this).outerHeight().number()+3})})}),this};var AXMobileModal=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.config.theme="AXMobileModal",this.config.width="auto",this.config.height="auto",this.config.margin="10px",this.config.align="center",this.config.valign="center"},init:function(){var cfg=this.config;cfg.head||(cfg.head={})},open:function(configs,onLoad){var cfg=this.config;configs||(configs={});var theme=configs.theme||cfg.theme;cfg.addClass&&(theme+=" "+cfg.addClass),this.modalId="AXMobileModal"+AXUtil.timekey();var modalId=this.modalId,po=(configs.clientWidth||AXUtil.clientWidth(),[]);return po.push('<div id="',modalId,'" class="',theme,'" style="left:0px;top:0px;width:100%;height:100%;">'),po.push('\t<div  id="',modalId,'_AX_modal" class="AXMobileModalPanel" style="height:50px;width:50px;left:',(AXUtil.clientWidth()-50)/2,"px;top:",(AXUtil.clientHeight()-50)/2,'px;">'),po.push('\t\t<div  id="',modalId,'_AX_head" class="mobileModalHead">'),po.push('\t\t\t<div class="modalTitle">'+(cfg.head.title||"")+"</div>"),po.push("\t\t</div>"),cfg.head.close&&po.push("\t\t<a "+cfg.href+' class="mobileModelClose">Close</a>'),po.push('\t\t<div  id="',modalId,'_AX_body" class="mobileModalBody"></div>'),po.push('\t\t<div  id="',modalId,'_AX_foot" class="mobileModalFoot"></div>'),po.push("\t</div>"),po.push("</div>"),this.jQueryModal=axdom(po.join("")),axdom(document.body).append(this.jQueryModal),this.modalPanel=this.jQueryModal.find(".AXMobileModalPanel"),this.modalHead=this.modalPanel.find(".mobileModalHead"),this.modalBody=this.modalPanel.find(".mobileModalBody"),this.modalFoot=this.modalPanel.find(".mobileModalFoot"),this.openConfigs=configs,this.setSizeModal(this.openConfigs,onLoad),this.modalPanel.find(".mobileModelClose").bind("click",this.close.bind(this)),this.jQueryModal.bind("click",this.modalClick.bind(this)),axdom(window).unbind("resize.AXMobileModal").bind("resize.AXMobileModal",this.reposition.bind(this)),this.opened=!0,{jQueryModal:this.jQueryModal,modalPanel:this.modalPanel,modalHead:this.modalHead,modalBody:this.modalBody,modalFoot:this.modalFoot}},setSizeModal:function(configs,onLoad){var clientWidth,width,height,left,top,margin,align,valign,modalWidth,modalHeight,cfg=this.config,cssStyles={},clientWidth=this.jQueryModal.innerWidth(),clientHeight=AXUtil.clientHeight(),width=configs.width||cfg.width,height=configs.height||cfg.height,margin=configs.margin||cfg.margin,align=configs.align||cfg.align,valign=configs.valign||cfg.valign;this.openModalAttr={width:width,height:height,margin:margin,align:align,valign:valign},modalWidth="auto"==width?"%"==margin.right(1)?clientWidth*(100-2*margin.number())/100:clientWidth-2*margin.number():width,left=(clientWidth-modalWidth)/2,modalHeight="auto"==height?"%"==margin.right(1)?clientHeight*(100-2*margin.number())/100:clientHeight-2*margin.number():height,top=(clientHeight-modalHeight)/2,left<0&&(left=margin),top<-5&&(top=-5);var cssStylesStart={left:(axf.clientWidth()-.8*modalWidth)/2,top:(axf.clientHeight()-.8*modalHeight)/2,width:.8*modalWidth,height:.8*modalHeight};this.modalPanel.css(cssStylesStart),cssStyles.left=left,cssStyles.top=top,cssStyles.width=modalWidth,cssStyles.height=modalHeight,mask.open();var returnObj={jQueryModal:this.jQueryModal,modalPanel:this.modalPanel,modalHead:this.modalHead,modalBody:this.modalBody,modalFoot:this.modalFoot};"android"==AXUtil.browser.name?(this.modalPanel.css(cssStyles),onLoad&&onLoad.call(returnObj,returnObj)):this.modalPanel.animate(cssStyles,300,"expoOut",function(){onLoad&&onLoad.call(returnObj,returnObj)})},modalClick:function(event){this.config;event.target.id==this.modalId&&this.close()},close:function(){var cfg=this.config;mask.close();var modalWidth,modalHeight;modalWidth=this.modalPanel.width(),modalHeight=this.modalPanel.height();var cssStylesStart={left:(AXUtil.clientWidth()-.8*modalWidth)/2,top:(AXUtil.clientHeight()-.8*modalHeight)/2,width:.8*modalWidth,height:.8*modalHeight,opacity:0},remove=this.remove.bind(this);return this.modalPanel.animate(cssStylesStart,300,"expoOut",function(){remove(),cfg.onclose&&cfg.onclose()}),this.modalPanel.empty(),this.opened=!1,axdom(window).unbind("resize.AXMobileModal"),this},remove:function(){this.config;this.jQueryModal.remove()},reposition:function(){var clientWidth=(this.config,AXUtil.clientWidth()),clientHeight=AXUtil.clientHeight();this.jQueryModal.css({width:clientWidth,height:clientHeight});var modalWidth,modalHeight,left,top,width=this.openModalAttr.width,height=this.openModalAttr.height,margin=this.openModalAttr.margin,cssStyles=(this.openModalAttr.align,this.openModalAttr.valign,{});modalWidth="auto"==width?"%"==margin.right(1)?clientWidth*(100-2*margin.number())/100:clientWidth-2*margin.number():width,left=(clientWidth-modalWidth)/2,modalHeight="auto"==height?"%"==margin.right(1)?clientHeight*(100-2*margin.number())/100:clientHeight-2*margin.number():height,top=(clientHeight-modalHeight)/2,left<0&&(left=margin),top<-5&&(top=-5),cssStyles.left=left,cssStyles.top=top,cssStyles.width=modalWidth,cssStyles.height=modalHeight,this.modalPanel.css(cssStyles)}});axdom.extend(!0,{easing:{backIn:function(p,n,f,d){var c=f+d,s=1.70158;return c*(p/=1)*p*((s+1)*p-s)+f},backOut:function(p,n,f,d){var c=f+d,s=1.70158;return c*((p=p/1-1)*p*((s+1)*p+s)+1)+f},backInOut:function(p,n,f,d){var c=f+d,s=1.70158;return(p/=.5)<1?c/2*(p*p*((1+(s*=1.525))*p-s))+f:c/2*((p-=2)*p*((1+(s*=1.525))*p+s)+2)+f},bounceIn:function(p,n,f,d){return f+d-this.bounceOut(1-p,1,0,d)+f},bounceOut:function(p,n,f,d){var c=f+d;return p<1/2.75?c*(7.5625*p*p)+f:p<2/2.75?c*(7.5625*(p-=1.5/2.75)*p+.75)+f:p<2.5/2.75?c*(7.5625*(p-=2.25/2.75)*p+.9375)+f:c*(7.5625*(p-=2.625/2.75)*p+.984375)+f},circIn:function(p,n,f,d){return-(f+d)*(Math.sqrt(1-(p/=1)*p)-1)+f},circOut:function(p,n,f,d){return(f+d)*Math.sqrt(1-(p=p/1-1)*p)+f},circInOut:function(p,n,f,d){var c=f+d;return(p/=.5)<1?-c/2*(Math.sqrt(1-p*p)-1)+f:c/2*(Math.sqrt(1-(p-=2)*p)+1)+f},cubicIn:function(p,n,f,d){return(f+d)*(p/=1)*p*p+f},cubicOut:function(p,n,f,d){return(f+d)*((p=p/1-1)*p*p+1)+f},cubicInOut:function(p,n,f,d){var c=f+d;return(p/=.5)<1?c/2*p*p*p+f:c/2*((p-=2)*p*p+2)+f},elasticIn:function(p,n,f,d){var c=f+d;if(0==p)return f;if(1==p)return c;var s,peroid=.25,amplitude=c;return amplitude<Math.abs(c)?(amplitude=c,s=peroid/4):s=peroid/(2*Math.PI)*Math.asin(c/amplitude),-amplitude*Math.pow(2,10*(p-=1))*Math.sin((1*p-s)*(2*Math.PI)/peroid)+f},elasticOut:function(p,n,f,d){var c=f+d;if(0==p)return f;if(1==p)return c;var s,peroid=.25,amplitude=c;return amplitude<Math.abs(c)?(amplitude=c,s=peroid/4):s=peroid/(2*Math.PI)*Math.asin(c/amplitude),-amplitude*Math.pow(2,-10*p)*Math.sin((1*p-s)*(2*Math.PI)/peroid)+c},expoIn:function(p,n,f,d){var c=f+d;return 0==p?f:c*Math.pow(2,10*(p-1))+f-.001*c},expoOut:function(p,n,f,d){var c=f+d;return 1==p?c:1.001*d*(1-Math.pow(2,-10*p))+f},expoInOut:function(p,n,f,d){var c=f+d;return 0==p?f:1==p?c:(p/=.5)<1?c/2*Math.pow(2,10*(p-1))+f-5e-4*c:c/2*1.0005*(2-Math.pow(2,-10*--p))+f},quadIn:function(p,n,f,d){return(f+d)*(p/=1)*p+f},quadOut:function(p,n,f,d){return-(f+d)*(p/=1)*(p-2)+f},quadInOut:function(p,n,f,d){var c=f+d;return(p/=.5)<1?c/2*p*p+f:-c/2*(--p*(p-2)-1)+f},quartIn:function(p,n,f,d){return(f+d)*(p/=1)*p*p*p+f},quartOut:function(p,n,f,d){return-(f+d)*((p=p/1-1)*p*p*p-1)+f},quartInOut:function(p,n,f,d){var c=f+d;return(p/=.5)<1?c/2*p*p*p*p+f:-c/2*((p-=2)*p*p*p-2)+f},quintIn:function(p,n,f,d){return(f+d)*(p/=1)*p*p*p*p+f},quintOut:function(p,n,f,d){return(f+d)*((p=p/1-1)*p*p*p*p+1)+f},quintInOut:function(p,n,f,d){var c=f+d;return(p/=.5)<1?c/2*p*p*p*p*p+f:c/2*((p-=2)*p*p*p*p+2)+f},sineIn:function(p,n,f,d){var c=f+d;return-c*Math.cos(p*(Math.PI/2))+c+f},sineOut:function(p,n,f,d){return(f+d)*Math.sin(p*(Math.PI/2))+f},sineInOut:function(p,n,f,d){return-(f+d)/2*(Math.cos(Math.PI*p)-1)+f}}});var __r20=/%20/g,__rbracket=/\[\]$/,__rCRLF=/\r?\n/g,__rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,__rselectTextarea=/^(?:select|textarea)/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/;axf.each("touchstart touchmove touchend".split(" "),function(i,name){axdom.fn[name]=function(data,fn){return null==fn&&(fn=data,data=null),arguments.length>0?this.on(name,null,data,fn):this.trigger(name)},rkeyEvent.test(name)&&(axdom.event.fixHooks[name]=axdom.event.keyHooks),rmouseEvent.test(name)&&(axdom.event.fixHooks[name]=axdom.event.mouseHooks)}),axdom.fn.serializeObject=function(){return this.map(function(){return this.elements?axdom.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||__rselectTextarea.test(this.nodeName)||__rinput.test(this.type))}).map(function(i,elem){var val=axdom(this).val(),label=axdom(elem).attr("title")||axdom(elem).attr("placeholder")||"";return null==val&&"select"==this.nodeName.lcase()&&(val=""),null==val?null:axdom.isArray(val)?axdom.map(val,function(val,i){return{id:elem.id,name:elem.name,type:elem.type,value:val.replace(__rCRLF,"\r\n"),label:label}}):{id:elem.id,name:elem.name,type:elem.type,value:val.replace(__rCRLF,"\r\n"),label:label}}).get()},axdom.fn.endFocus=function(){var elem=this;return 0==elem.val().length?void elem.focus():(document.selection?(elem.focus(),elem.val(elem.val())):(void 0==document.selection||elem.selectionStart||"0"==elem.selectionStart)&&elem.focus().val(elem.val()),this)},axdom.fn.setCaret=function(pos){var input=this[0];if(void 0===pos&&(pos=input.value.length),input.setSelectionRange)input.focus(),input.setSelectionRange(pos,pos);else if(input.createTextRange){var range=input.createTextRange();range.collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.select()}else input.selectionStart&&(input.focus(),input.selectionStart=pos,input.selectionEnd=pos);return this},axdom.fn.onwheel=function(handler,callBackFn){return axf.each(this,function(){void 0===axf._customerEvents&&(axf._customerEvents={}),axf._customerEvents[this.id+"_AX_"+handler]=callBackFn,document.attachEvent?this.attachEvent("on"+axf.mousewheelevt,axf._customerEvents[this.id+"_AX_"+handler]):document.addEventListener&&this.addEventListener(axf.mousewheelevt,axf._customerEvents[this.id+"_AX_"+handler],!1)}),this},axdom.fn.offwheel=function(handler){return axf.each(this,function(){document.attachEvent?this.detachEvent("on"+axf.mousewheelevt,axf._customerEvents[this.id+"_AX_"+handler]):document.addEventListener&&this.removeEventListener(axf.mousewheelevt,axf._customerEvents[this.id+"_AX_"+handler],!1)}),this},axdom(document.body).ready(function(){axdom("input[type=text]").bind("mousedown",function(){this.focus()}),axdom("textarea").bind("mousedown",function(){this.focus()})});var AXInputConverter=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.objects=[],this.inputTypes=[{type:"search"},{type:"number"},{type:"money"},{type:"slider"},{type:"twinSlider"},{type:"selector"},{type:"switch"},{type:"segment"},{type:"date"},{type:"dateTime"},{type:"twinDate"},{type:"twinDateTime"},{type:"checked"},{type:"pattern"}],this.config.anchorClassName="AXanchor",this.config.anchorPlaceHolderClassName="AXanchorPlaceHolder",this.config.anchorSearchClassName="AXanchorSearch",this.config.anchorNumberContainerClassName="AXanchorNumberContainer",this.config.anchorIncreaseClassName="AXanchorIncrease",this.config.anchorDecreaseClassName="AXanchorDecrease",this.config.anchorSelectorHandleContainerClassName="AXanchorSelectorHandleContainer",this.config.anchorSelectorFinderContainerClassName="AXanchorSelectorFinderContainer",this.config.anchorSelectorHandleClassName="AXanchorSelectorHandle",this.config.anchorSelectorFinderClassName="AXanchorSelectorFinder",this.config.anchorSelectorExpandBoxClassName="AXanchorSelectorExpandBox",this.config.anchorSelectorExpandScrollClassName="AXanchorSelectorExpandScroll",this.config.anchorSliderBoxClassName="AXanchorSliderBox",this.config.anchorSwitchBoxClassName="AXanchorSwitchBox",this.config.anchorSegmentBoxClassName="AXanchorSegmentBox",this.config.anchorDateHandleClassName="AXanchorDateHandle",this.config.bindDateExpandBoxClassName="AXbindDateExpandBox",this.config.bindTwinDateExpandBoxClassName="AXbindTwinDateExpandBox",this.config.anchorCheckedContainerClassName="AXbindCheckedHandle",this.config.responsiveMobile=AXConfig.mobile.responsiveWidth,this.config.reserveKeys={options:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptions||"options",optionValue:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionValue||"optionValue",optionText:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionText||"optionText",optionData:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionData||"optionData",optionDesc:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionDesc||"optionDesc"}},init:function(){axdom(window).resize(this.alignAllAnchor.bind(this)),this.config.reserveKeys={options:AXConfig.AXInput&&AXConfig.AXInput.keyOptions||"options",optionValue:AXConfig.AXInput&&AXConfig.AXInput.keyOptionValue||"optionValue",optionText:AXConfig.AXInput&&AXConfig.AXInput.keyOptionText||"optionText",optionDesc:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionDesc||"optionDesc"}},windowResize:function(){var windowResizeApply=this.windowResizeApply.bind(this);this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.windowResizeObserver=setTimeout(function(){windowResizeApply()},1)},windowResizeApply:function(){this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.alignAllAnchor()},alignAllAnchor:function(){for(var i=0;i<this.objects.length;i++)this.alignAnchor(this.objects[i].id,i)},msgAlert:function(msg){var errorPrintType="toast";AXConfig.AXInput&&(errorPrintType=AXConfig.AXInput.errorPrintType||"toast"),"toast"==errorPrintType?toast.push(msg):"dialog"==errorPrintType?dialog.push(msg):"alert"==errorPrintType&&AXUtil.alert(msg)},bindSetConfig:function(objID,configs){var findIndex=null;if(axf.each(this.objects,function(index,O){if(O.id==objID)return findIndex=index,!1}),null!=findIndex){var _self=this.objects[findIndex];axf.each(configs,function(k,v){_self.config[k]=v})}},bind:function(obj){var cfg=this.config;if(!AXgetId(obj.id))return void trace("bind 대상이 없어 bind 처리할 수 없습니다.");obj.reserveKeys&&(cfg.reserveKeys=jQuery.extend(cfg.reserveKeys,obj.reserveKeys,!0));var objID=obj.id,objSeq=null;axf.each(this.objects,function(idx,O){if(this.id==objID)return objSeq=idx,!1}),void 0===obj.href&&(obj.href=cfg.href),null==objSeq?(objSeq=this.objects.length,this.objects.push({id:objID,anchorID:cfg.targetID+"_AX_"+objID,config:obj,bindType:obj.bindType})):(this.objects[objSeq].isDel=void 0,this.objects[objSeq].config=obj),this.appendAnchor(objID,objSeq,obj.bindType),"placeHolder"==obj.bindType?this.bindPlaceHolder(objID,objSeq):"search"==obj.bindType?this.bindSearch(objID,objSeq):"number"==obj.bindType?this.bindNumber(objID,objSeq):"money"==obj.bindType?this.bindMoney(objID,objSeq):"selector"==obj.bindType?this.bindSelector(objID,objSeq):"slider"==obj.bindType?this.bindSlider(objID,objSeq):"twinSlider"==obj.bindType?this.bindTwinSlider(objID,objSeq):"switch"==obj.bindType?this.bindSwitch(objID,objSeq):"segment"==obj.bindType?this.bindSegment(objID,objSeq):"date"==obj.bindType?this.bindDate(objID,objSeq):"twinDate"==obj.bindType?this.bindTwinDate(objID,objSeq):"twinDateTime"==obj.bindType?this.bindTwinDate(objID,objSeq,"time"):"checked"==obj.bindType?this.bindChecked(objID,objSeq):"pattern"==obj.bindType&&this.bindPattern(objID,objSeq)},unbind:function(obj){var removeAnchorId,removeIdx,cfg=this.config;axf.each(this.objects,function(idx,O){O.id!=obj.id||1!=O.isDel&&(removeAnchorId=this.anchorID,removeIdx=idx)});var objID=obj.id,obj=this.objects[removeIdx];if(obj){obj.documentclickEvent&&axdom(document).unbind("click.AXInput",obj.documentclickEvent);var objDom=axdom("#"+objID);objDom.unbind("keydown.AXInput"),objDom.unbind("keydown.AXInputCheck"),objDom.unbind("change.AXInput"),objDom.unbind("focus.AXInput"),objDom.unbind("blur.AXInput")}removeAnchorId&&(this.objects[removeIdx].isDel=!0,axdom("#"+obj.id).removeAttr("data-axbind"),axdom("#"+removeAnchorId).remove(),obj.bindSliderMouseMove&&axdom(document.body).unbind("mousemove.AXInput",obj.bindSliderMouseMove),obj.bindSliderMouseUp&&axdom(document.body).unbind("mouseup.AXInput",obj.bindSliderMouseUp),obj.bindSliderTouchMove&&document.removeEventListener("touchmove.AXInput",obj.bindSliderTouchMove,!1),obj.bindSliderTouchEnd&&document.removeEventListener("touchend.AXInput",obj.bindSliderTouchEnd,!1),obj.bindTwinSliderMouseMove&&axdom(document.body).unbind("mousemove.AXInput",obj.bindTwinSliderMouseMove),obj.bindTwinSliderMouseUp&&axdom(document.body).unbind("mouseup.AXInput",obj.bindTwinSliderMouseUp),AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on")))},bindInputDisabled:function(objID,_disabled){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null!=findIndex){var obj=this.objects[findIndex],elDisabled=(this.config,!axf.getId(objID).disabled);axf.getId(objID).disabled="boolean"==typeof _disabled?_disabled:elDisabled,"twinDate"==obj.bindType&&(axf.getId(obj.config.startTargetID).disabled="boolean"==typeof _disabled?_disabled:elDisabled),obj.bindAnchorTarget.data("disabled",axf.getId(objID).disabled),axf.getId(objID).disabled?(obj.bindAnchorTarget.addClass("disable"),obj.bindAnchorTarget.attr("disable","disable"),obj.bindAnchorTarget.find("a").bind("mousedown.AXInputDisabled",function(e){var event=window.event||e;return event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),event.cancelBubble=!0,!1})):(obj.bindAnchorTarget.removeClass("disable"),obj.bindAnchorTarget.removeAttr("disable"),obj.bindAnchorTarget.find("a").unbind("mousedown.AXInputDisabled"))}},appendAnchor:function(objID,objSeq,bindType){var cfg=this.config,obj=this.objects[objSeq];axdom("#"+cfg.targetID+"_AX_"+objID).remove();var anchorNode=axdom('<div id="'+cfg.targetID+"_AX_"+objID+'" class="'+cfg.anchorClassName+'" style="display:none;"></div>'),iobj=axdom("#"+objID);iobj.attr("data-axbind",bindType),iobj.after(anchorNode),obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID),obj.bindTarget=iobj;var iobjPosition=iobj.position(),l=iobjPosition.left,t=iobjPosition.top,w=0,h=0,marginW=(iobj.css("border-left-width").number(),iobj.css("border-top-width").number(),iobj.css("margin-left").number());iobj.css("margin-top").number();l+=marginW,w=iobj.outerWidth(),h="content-box"==iobj.css("box-sizing")?iobj.outerHeight():iobj.height();var css={left:l,top:t,width:w,height:0};obj.bindAnchorTarget.css(css),obj.bindAnchorTarget.data("height",h);var _this=this;setTimeout(function(){_this.alignAnchor(objID,objSeq)}),setTimeout(function(){_this.alignAnchor(objID,objSeq)},500)},alignAnchor:function(objID,objSeq){var cfg=this.config;if(void 0===objSeq)for(var i=0;i<this.objects.length;i++)if(this.objects[i].id==objID&&!this.objects[i].isDel){objSeq=i;break}var obj=this.objects[objSeq];if(AXgetId(objID)){obj.bindTarget||(obj.bindTarget=axdom("#"+objID),obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID));var iobjPosition=obj.bindTarget.position(),l=iobjPosition.left,t=iobjPosition.top,w=obj.bindTarget.outerWidth(),h=obj.bindTarget.outerHeight();if("none"==obj.bindTarget.css("display")){h=obj.bindAnchorTarget.data("height");var css={width:w}}else var css={left:l,top:t,width:w,height:0};if(obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID),obj.bindTarget=axdom("#"+objID)),obj.bindAnchorTarget&&(obj.bindAnchorTarget.css(css),obj.bindAnchorTarget.data("height",h)),"placeHolder"==obj.bindType);else if("search"==obj.bindType);else if("number"==obj.bindType){var UPh=parseInt((h-2)/2)-1,DNh=parseInt((h-2)/2)-2,handleWidth=h-2;handleWidth>20&&(handleWidth=20),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_HandleContainer").css({width:handleWidth,height:h-2}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_increase").css({width:handleWidth,height:UPh}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_decrease").css({top:UPh+1,width:handleWidth,height:DNh})}else if("money"==obj.bindType);else if("selector"==obj.bindType)h-=2,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_HandleContainer").css({width:h,height:h}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").css({width:h,height:h}),obj.config.finder&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_FinderContainer").css({right:h,width:h,height:h}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Finder").css({width:h,height:h}));else if("slider"==obj.bindType);else if("twinSlider"==obj.bindType);else if("switch"==obj.bindType)axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchBox").css({width:w,height:h}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchDisplay").css({height:h,"line-height":h+"px"}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchHandle").css({height:h}),obj.bindAnchorTarget.css({height:h});else if("segment"==obj.bindType){obj.bindAnchorTarget.css({height:h+"px",position:"relative",display:"inline-block",left:"auto",top:"auto"});var borderTop=obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css("border-top-width").number(),borderBot=obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css("border-bottom-width").number();obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css({height:obj.bindAnchorTarget.innerHeight()-borderTop-borderBot+"px","line-height":obj.bindAnchorTarget.innerHeight()-borderTop-borderBot+"px"})}else if("date"==obj.bindType){var handleWidth=h-2;handleWidth>20&&(handleWidth=20),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").css({width:h,height:h})}else if("twinDate"==obj.bindType){var handleWidth=h-2;handleWidth>20&&(handleWidth=20),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").css({width:h,height:h})}else if("twinDateTime"==obj.bindType){var handleWidth=h-2;handleWidth>20&&(handleWidth=20),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").css({width:h,height:h})}else obj.bindType}},bindSetValue:function(objID,value){var objSeq=(this.config,null);if(axf.each(this.objects,function(index,O){if(O.id==objID)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq];"search"==obj.bindType||"number"==obj.bindType||"money"==obj.bindType||("selector"==obj.bindType?this.bindSelectorSetValue(objID,objSeq,value):"slider"==obj.bindType?this.bindSliderSetValue(objID,objSeq,value):"twinSlider"==obj.bindType?this.bindTwinSliderSetValue(objID,objSeq,value):"switch"==obj.bindType?this.bindSwitchSetValue(objID,objSeq,value):"segment"==obj.bindType?this.bindSegmentSetValue(objID,objSeq,value):"date"==obj.bindType||obj.bindType)}},bindPlaceHolder:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];if("ie"==AXUtil.browser.name&&!("ie"==AXUtil.browser.name&&AXUtil.browser.version>9)){var w=axdom("#"+cfg.targetID+"_AX_"+objID).width(),h=axdom("#"+cfg.targetID+"_AX_"+objID).data("height"),placeholder=axdom("#"+objID).attr("placeholder");"undefined"==placeholder&&(placeholder="");var po=["<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_PlaceHolder" class="'+cfg.anchorPlaceHolderClassName+'" style="left:0px;top:0px;width:'+w+"px;height:"+h+"px;line-height:"+h+'px;">'+placeholder+"</a>"];axdom("#"+cfg.targetID+"_AX_"+objID).append(po.join(""));var bindPlaceHolderKeyup=this.bindPlaceHolderSyncAnchor.bind(this);axdom("#"+objID).unbind("keyup.AXInput").bind("keyup.AXInput",function(){bindPlaceHolderKeyup(objID,objSeq)}),bindPlaceHolderKeyup(objID,objSeq),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_PlaceHolder").unbind("click.AXInput").bind("click.AXInput",function(){axdom("#"+objID).focus(),bindPlaceHolderKeyup(objID,objSeq)})}},bindPlaceHolderSyncAnchor:function(objID,objSeq){var cfg=this.config;""==axdom("#"+objID).val().trim()?axdom("#"+cfg.targetID+"_AX_"+objID).show():axdom("#"+cfg.targetID+"_AX_"+objID).hide()},bindSearch:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq],w=axdom("#"+cfg.targetID+"_AX_"+objID).width(),h=axdom("#"+cfg.targetID+"_AX_"+objID).data("height"),placeholder=axdom("#"+objID).attr("placeholder");void 0==placeholder&&(placeholder="");var po=[];"ie"==AXUtil.browser.name&&AXUtil.browser.version<10&&""!=placeholder&&(po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_PlaceHolder" class="'+cfg.anchorPlaceHolderClassName+'" '),po.push(' style="left:0px;top:0px;width:'+w+"px;height:"+h+"px;line-height:"+h+'px;">'+placeholder+"</a>")),po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_Search" class="'+cfg.anchorSearchClassName+'" '),po.push(' style="right:0px;top:0px;width:'+h+"px;height:"+h+'px;">Search</a>'),axdom("#"+cfg.targetID+"_AX_"+objID).append(po.join(""));var bindSearchKeyup=this.bindSearchSyncAnchor.bind(this);axdom("#"+objID).unbind("keydown.AXInput").bind("keydown.AXInput",function(){bindSearchKeyup(objID,objSeq)}),bindSearchKeyup(objID,objSeq),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Search").unbind("click.AXInput").bind("click.AXInput",function(){axdom("#"+objID).val(""),axdom("#"+objID).focus(),bindSearchKeyup(objID,objSeq)})},bindSearchSyncAnchor:function(objID,objSeq){var cfg=this.config;axdom("#"+cfg.targetID+"_AX_"+objID).show(),""==axdom("#"+objID).val()?(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Search").hide(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_PlaceHolder").show()):(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Search").show(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_PlaceHolder").hide())},bindNumber:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID));var h=obj.bindAnchorTarget.data("height"),po=[],UPh=parseInt((h-2)/2)-1,DNh=parseInt((h-2)/2)-2,handleWidth=h-2;handleWidth>20&&(handleWidth=20),po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_HandleContainer" class="'+cfg.anchorNumberContainerClassName+'" style="right:0px;top:0px;width:'+handleWidth+"px;height:"+(h-2)+'px;" onselectstart="return false;">'),po.push('\t<a id="'+cfg.targetID+"_AX_"+objID+'_AX_increase" class="'+cfg.anchorIncreaseClassName+'" style="right:0px;top:0px;width:'+handleWidth+"px;height:"+UPh+'px;">increase</a>'),po.push('\t<a id="'+cfg.targetID+"_AX_"+objID+'_AX_decrease" class="'+cfg.anchorDecreaseClassName+'" style="right:0px;top:'+(UPh+1)+"px;width:"+handleWidth+"px;height:"+DNh+'px;">decrease</a>'),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show();var bindNumberAdd=this.bindNumberAdd.bind(this),bindNumberCheck=this.bindNumberCheck.bind(this);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_increase").unbind("mousedown.AXInput").bind("mousedown.AXInput",function(event){bindNumberAdd(objID,1,objSeq),bindNumberCheck(objID,objSeq,event)}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_decrease").unbind("mousedown.AXInput").bind("mousedown.AXInput",function(event){bindNumberAdd(objID,-1,objSeq),bindNumberCheck(objID,objSeq,event)}),obj.bindTarget.unbind("keydown.AXInput").bind("keydown.AXInput",function(event){event.keyCode==AXUtil.Event.KEY_UP?bindNumberAdd(objID,1,objSeq):event.keyCode==AXUtil.Event.KEY_DOWN&&bindNumberAdd(objID,-1,objSeq)}),obj.bindTarget.unbind("blur.AXInput").bind("blur.AXInput",function(event){bindNumberCheck(objID,objSeq,event)})},bindNumberAdd:function(objID,adder,objSeq){var obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;var maxval=obj.config.max,minval=obj.config.min,nval=obj.bindTarget.val().number();if(adder>0){if(nval+adder<minval&&(nval=minval),void 0!=maxval&&null!=maxval&&nval+adder>maxval)return}else if(void 0!=minval&&null!=minval&&nval+adder<minval)return;obj.bindTarget.val(nval+adder),obj.bindTarget.change()},bindNumberCheck:function(objID,objSeq,event){var obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;this.numbercheck_obs&&clearTimeout(this.numbercheck_obs),this.numbercheck_obs=setTimeout(function(){var nval,maxval=obj.config.max,minval=obj.config.min;if(nval=""==obj.bindTarget.val()&&void 0!=minval&&null!=minval?minval:obj.bindTarget.val().number(),void 0!=maxval&&null!=maxval){if(nval>maxval){obj.bindTarget.val("");try{this.msgAlert("설정된 최대값을 넘어서는 입력입니다.")}catch(e){}}else if(void 0!=minval&&null!=minval)if(nval<minval){obj.bindTarget.val("");try{this.msgAlert("설정된 최소값보다 작은 입력입니다.")}catch(e){}}else obj.bindTarget.val(nval)}else if(void 0!=minval&&null!=minval){if(nval<minval){obj.bindTarget.val("");try{this.msgAlert("설정된 최소값보다 작은 입력입니다.")}catch(e){}}}else obj.bindTarget.val(nval);obj.bindTarget.trigger("change"),event&&"mousedown"==event.type&&obj.bindTarget.setCaret(),obj.config.onChange&&obj.config.onChange.call({objID:objID,objSeq:objSeq,value:axdom("#"+objID).val()}),obj.config.onchange&&obj.config.onchange.call({objID:objID,objSeq:objSeq,value:axdom("#"+objID).val()})},1)},bindMoney:function(objID,objSeq){var obj=this.objects[objSeq];obj.bindTarget.css({"text-align":"right"});var bindMoneyCheck=this.bindMoneyCheck.bind(this),val=obj.bindTarget.val().trim();""!=val&&(val=obj.bindTarget.val().number().money()),obj.bindTarget.val(val),obj.bindTarget.unbind("keydown.AXInput").bind("keydown.AXInput",function(event){event.ctrlKey||event.metaKey?obj.bindTarget.data("ctrlKey","T"):obj.bindTarget.data("ctrlKey","F")}),obj.bindTarget.unbind("keyup.AXInput").bind("keyup.AXInput",function(event){var elem=obj.bindTarget.get(0);if("number"!=elem.type)if(event=window.event||event,event.keyCode&&9!=event.keyCode&&16!=event.keyCode&&17!=event.keyCode&&("T"!=obj.bindTarget.data("ctrlKey")||65!=event.keyCode&&91!=event.keyCode)){var elemFocusPosition;if("selectionStart"in elem)elemFocusPosition=elem.selectionStart;else if(document.selection){var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;sel.moveStart("character",-elem.value.length),elemFocusPosition=sel.text.length-selLen}obj.bindTarget.data("focusPosition",elemFocusPosition),obj.bindTarget.data("prevLen",elem.value.length),event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_BACKSPACE&&event.keyCode!=AXUtil.Event.KEY_LEFT&&event.keyCode!=AXUtil.Event.KEY_RIGHT?bindMoneyCheck(objID,objSeq,"keyup"):event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_BACKSPACE||bindMoneyCheck(objID,objSeq,"keyup")}else jQuery.removeData(obj.bindTarget.get(0),"focusPosition")})},bindMoneyCheck:function(objID,objSeq,eventType){var nval,obj=this.objects[objSeq],maxval=obj.config.max,minval=obj.config.min;if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(obj.config.onChange||(obj.config.onChange=obj.config.onchange),nval=""==obj.bindTarget.val()?void 0!=minval&&null!=minval?minval:"":"-"!=obj.bindTarget.val()?obj.bindTarget.val().number():"",void 0!=maxval&&null!=maxval)if(nval>maxval){obj.bindTarget.val(maxval.money());try{"change"==eventType&&this.msgAlert("설정된 최대값{"+maxval.number().money()+"} 을 넘어서는 입력입니다.")}catch(e){}}else if(void 0!=minval&&null!=minval)if(nval<minval){obj.bindTarget.val(minval.money());try{"change"==eventType&&this.msgAlert("설정된 최소값{"+minval.number().money()+"}보다 작은 입력입니다.")}catch(e){}}else obj.bindTarget.val(nval.money());else obj.bindTarget.val(nval.money());else if(void 0!=minval&&null!=minval)if(nval<minval){obj.bindTarget.val(minval.money());try{"change"==eventType&&this.msgAlert("설정된 최소값{"+minval.number().money()+"}보다 작은 입력입니다.")}catch(e){}}else""!=nval&&"-"!=nval&&obj.bindTarget.val(nval.money());else""!=nval&&"-"!=nval&&obj.bindTarget.val(nval.money());obj.bindTarget.trigger("change"),axf.isEmpty(obj.bindTarget.data("focusPosition"))||obj.bindTarget.setCaret(obj.bindTarget.data("focusPosition").number()+(obj.bindTarget.val().length-obj.bindTarget.data("prevLen"))),obj.config.onChange&&obj.config.onChange.call({objID:objID,objSeq:objSeq,value:obj.bindTarget.val().number()}),"change"==eventType&&"-"==obj.bindTarget.val()&&obj.bindTarget.val("")},bindSelector:function(objID,objSeq){var _this=this,cfg=this.config,obj=this.objects[objSeq];obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.data("val",obj.bindTarget.val());var reserveKeys=jQuery.extend({},cfg.reserveKeys);void 0===obj.config.reserveKeys&&(obj.config.reserveKeys={}),obj.config.reserveKeys=jQuery.extend(reserveKeys,obj.config.reserveKeys,!0);var h=obj.bindAnchorTarget.data("height")-2,po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_HandleContainer" class="bindSelectorNodes '+cfg.anchorSelectorHandleContainerClassName+'" style="right:0px;top:0px;width:'+h+"px;height:"+h+'px;">'),po.push("\t<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_Handle" class="bindSelectorNodes '+cfg.anchorSelectorHandleClassName+'" style="right:0px;top:0px;width:'+h+"px;height:"+h+'px;">expand</a>'),po.push("</div>"),obj.config.finder&&(po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_FinderContainer" class="bindSelectorNodes '+cfg.anchorSelectorFinderContainerClassName+'" style="right:'+h+"px;top:0px;width:"+h+"px;height:"+h+'px;">'),po.push("\t<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_Finder" class="bindSelectorNodes '+cfg.anchorSelectorFinderClassName+'" style="right:0px;top:0px;width:'+h+"px;height:"+h+'px;">finder</a>'),po.push("</div>")),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show();var bindSelectorExpand=this.bindSelectorExpand.bind(this),bindSelectorClose=this.bindSelectorClose.bind(this);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").unbind("click.AXInput").bind("click.AXInput",function(event){AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")?bindSelectorClose(objID,objSeq,event):bindSelectorExpand(objID,objSeq,!0,event)}),obj.bindTarget.unbind("focus.AXInput").bind("focus.AXInput",function(event){if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;try{this.select()}catch(e){}AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")}),obj.bindTarget.unbind("keydown.AXInputCheck").bind("keydown.AXInputCheck",function(event){return"disable"!=obj.bindAnchorTarget.attr("disable")&&"disable"!=obj.bindTarget.attr("disable")&&(event.which==axf.Event.KEY_UP||event.which==axf.Event.KEY_DOWN?(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")||bindSelectorExpand(objID,objSeq,!1,event),_this.stopEvent(event),!1):void(event.which==axf.Event.KEY_RETURN||event.which==axf.Event.KEY_TAB||AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")||bindSelectorExpand(objID,objSeq,!1,event)))}),obj.config.finder&&obj.config.finder.onclick&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Finder").unbind("click.AXInput").bind("click.AXInput",function(event){if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;obj.config.finder.onclick.call({targetID:objID,value:axdom("#"+objID).val()},objID),bindSelectorClose(objID,objSeq,event)})},bindSelectorExpand:function(objID,objSeq,isToggle,event){var cfg=this.config,obj=this.objects[objSeq];obj.config.reserveKeys;if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;obj.bindTarget.data("val",obj.bindTarget.val().enc()),this.opendExpandBox&&this.bindSelectorClose(this.opendExpandBox.objID,this.opendExpandBox.objSeq,event);var jqueryTargetObjID=axdom("#"+cfg.targetID+"_AX_"+objID);if(!axdom("#"+cfg.targetID+"_AX_"+objID).data("blurEvent")){if(isToggle&&AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))return axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),void axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on");axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on");var anchorWidth=jqueryTargetObjID.width()-2,anchorHeight=jqueryTargetObjID.data("height")-1,styles=[];styles.push("top:"+anchorHeight+"px"),styles.push("width:"+(obj.config.anchorWidth||anchorWidth)+"px"),styles.push("z-index:5100");var po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandBox" class="bindSelectorNodes '+cfg.anchorSelectorExpandBoxClassName+'" style="'+styles.join(";")+'">'),po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandScroll" class="bindSelectorNodes '+cfg.anchorSelectorExpandScrollClassName+'">'),po.push('\t<div class="AXLoadingSmall bindSelectorNodes"></div>'),po.push("</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").addClass("on");var expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox");obj.config.positionFixed&&expandBox.css({position:"fixed"});var offset=(expandBox.outerHeight(),obj.config.positionFixed?jqueryTargetObjID.position():jqueryTargetObjID.offset());obj.config.position&&(offset=jqueryTargetObjID.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top));var css={};if(css.top=offset.top+anchorHeight,"bottom"==obj.config.direction&&(css.top-=expandBox.outerHeight()),css.left=offset.left,expandBox.css(css),this.opendExpandBox={objID:objID,objSeq:objSeq},obj.config.onsearch)this.bindSelectorKeyupChargingUp(objID,objSeq,event);else if(obj.config.ajaxUrl)this.bindSelectorKeyupChargingUp(objID,objSeq,event);else{if(!obj.config.options)return void trace("options 항목이 없어 bind selector 를 완성 할 수 없습니다.");this.bindSelectorSetOptions(objID,objSeq),this.bindSelectorKeyupChargingUp(objID,objSeq,event)}var bindSelectorOptionsClick=this.bindSelectorOptionsClick.bind(this);obj.documentclickEvent=function(event){bindSelectorOptionsClick(objID,objSeq,event)},axdom(document).unbind("click.AXInput").bind("click.AXInput",obj.documentclickEvent)}},bindSelectorBlur:function(objID){var objSeq=(this.config,null);axf.each(this.objects,function(idx,O){this.id==objID&&(objSeq=idx)}),null!=objSeq&&this.bindSelectorClose(objID,objSeq)},bindSelectorClose:function(objID,objSeq,event,originChangeCall){var cfg=this.config,obj=this.objects[objSeq],reserveKeys=obj.config.reserveKeys;if(obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.inProgress&&AXReqAbort(),"disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")){if(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on"),axdom(document).unbind("click.AXInput"),obj.bindTarget.unbind("keydown.AXInput"),obj.bindTarget.unbind("change.AXInput"),obj.bindTarget.data("val")==obj.bindTarget.val().enc()&&obj.config.isSelectorClick,obj.config.isChangedSelect){var myVal="";if(obj.config.selectedObject&&(myVal=obj.config.selectedObject[reserveKeys.optionText]),obj.config.appendable?""!=myVal&&axdom("#"+objID).val(myVal):axdom("#"+objID).val(myVal),obj.config.onChange){var sendObj={targetID:objID,options:obj.config.options,selectedIndex:obj.config.selectedIndex,selectedOption:obj.config.selectedObject};obj.config.onChange?obj.config.onChange.call(sendObj):obj.config.onchange&&obj.config.onchange.call(sendObj)}obj.config.isChangedSelect=!1,originChangeCall&&obj.bindTarget.change()}obj.config.selectedObject?this.bindSelectorInputChange(objID,objSeq):obj.config.appendable||obj.config.selectedObject||obj.inProgress||axdom("#"+objID).val("")}},bindSelectorSetOptions:function(objID,objSeq){var obj=this.objects[objSeq],cfg=this.config,reserveKeys=obj.config.reserveKeys,maxHeight=obj.config.maxHeight||130,optionPrintLength=obj.config.optionPrintLength||100;if(obj.config.options){var expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox"),jqueryTargetObjID=axdom("#"+cfg.targetID+"_AX_"+objID),po=[];if(axf.each(obj.config.options,function(index,O){if(!isNaN(optionPrintLength)&&index>optionPrintLength-1)return!1;O[reserveKeys.optionText]=O[reserveKeys.optionText]?O[reserveKeys.optionText].dec():"",O.desc=O.desc?O.desc.dec():"",O.optionDesc=O[reserveKeys.optionDesc]?O[reserveKeys.optionDesc].dec():"";var descStr=O.desc||O.optionDesc;""!=descStr&&(descStr="<span>"+descStr+"</span>"),po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+"_AX_"+index+'_AX_option" class="bindSelectorNodes">'+O[reserveKeys.optionText]+descStr+"</a>")}),0==po.length){var selectorOptionEmpty="";AXConfig.AXInput&&(selectorOptionEmpty=AXConfig.AXInput.selectorOptionEmpty||"empty options"),po.push('<div class="empty">'+selectorOptionEmpty+"</div>")}axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandScroll").html(po.join("")),obj.config.isSelectorClick=!1;var expandScrollHeight=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandScroll").outerHeight();expandScrollHeight>maxHeight&&(expandScrollHeight=maxHeight),expandBox.css({height:expandScrollHeight+"px"});var bindSelectorOptionsClick=this.bindSelectorOptionsClick.bind(this);obj.documentclickEvent=function(event){bindSelectorOptionsClick(objID,objSeq,event)};var bindSelectorKeyup=this.bindSelectorKeyup.bind(this);if(obj.inputKeyup=function(event){bindSelectorKeyup(objID,objSeq,event)},axdom(document).unbind("click.AXInput").bind("click.AXInput",obj.documentclickEvent),axdom("#"+objID).unbind("keydown.AXInput").bind("keydown.AXInput",obj.inputKeyup),obj.myUIScroll&&obj.myUIScroll.unbind(),obj.myUIScroll=new AXScroll,obj.myUIScroll.setConfig({CT_className:"AXScrollSmall",targetID:cfg.targetID+"_AX_"+objID+"_AX_expandBox",scrollID:cfg.targetID+"_AX_"+objID+"_AX_expandScroll",touchDirection:!1}),obj.myUIScroll.scrollTop(0),void 0!=obj.config.selectedIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.selectedIndex+"_AX_option").addClass("on"),obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.selectedIndex+"_AX_option"),obj.config.focusedIndex=obj.config.selectedIndex),"bottom"==obj.config.direction){var offset=obj.config.positionFixed?jqueryTargetObjID.position():jqueryTargetObjID.offset();obj.config.position&&(offset=jqueryTargetObjID.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top)),expandBox.css({top:offset.top-expandBox.outerHeight()})}}},bindSelectorOptionsClick:function(objID,objSeq,event){var obj=this.objects[objSeq],eid=(this.config,obj.config.reserveKeys,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,until:function(evt,evtIDs){return"body"==evt.parentNode.tagName},find:function(evt,evtIDs){return""!=evt.id&&!(evt.id!=objID&&!axdom(evt).hasClass("bindSelectorNodes"))}});if(!myTarget)this.bindSelectorClose(objID,objSeq,event);else if(eid=myTarget.id.split(/_AX_/g),"option"==eid.last()){var selectedIndex=eid[eid.length-2];obj.config.selectedIndex=selectedIndex,obj.config.focusedIndex=selectedIndex,obj.config.selectedObject=obj.config.options[selectedIndex],obj.config.isChangedSelect=!0,obj.config.isSelectorClick=!0,this.bindSelectorClose(objID,objSeq,event,"bindTarget_onchange")}},bindSelectorKeyup:function(objID,objSeq,event){var obj=this.objects[objSeq],_this=this,reserveKeys=(this.config,obj.config.reserveKeys);if(obj.inProgress)return void(obj.inProgressReACT=!0);if(event.keyCode==AXUtil.Event.KEY_TAB)return this.bindSelectorClose(objID,objSeq,event),void this.stopEvent(event);if(event.keyCode==AXUtil.Event.KEY_UP){if(!obj.config.options)return;if(0==obj.config.options.length)return;var focusIndex=obj.config.options.length-1;void 0==obj.config.focusedIndex||0==obj.config.focusedIndex||(focusIndex=obj.config.focusedIndex-1),this.bindSelectorSelect(objID,objSeq,focusIndex),this.stopEvent(event)}else if(event.keyCode==AXUtil.Event.KEY_DOWN){if(!obj.config.options)return;if(0==obj.config.options.length)return;var focusIndex=0;void 0==obj.config.focusedIndex||obj.config.focusedIndex==obj.config.options.length-1||(focusIndex=obj.config.focusedIndex.number()+1),this.bindSelectorSelect(objID,objSeq,focusIndex),this.stopEvent(event)}else if(event.keyCode==AXUtil.Event.KEY_RETURN)null==obj.config.focusedIndex?_this.bindSelectorClose(objID,objSeq,event):(obj.config.selectedObject=obj.config.options[obj.config.focusedIndex],obj.config.selectedIndex=obj.config.focusedIndex,obj.config.isChangedSelect=!0,axdom("#"+objID).val(obj.config.selectedObject[reserveKeys.optionText]),_this.bindSelectorClose(objID,objSeq,event,"bindTarget_onchange")),this.stopEvent(event);else{var bindSelectorKeyupChargingUp=this.bindSelectorKeyupChargingUp.bind(this);obj.Observer&&clearTimeout(obj.Observer),obj.Observer=setTimeout(function(){bindSelectorKeyupChargingUp(objID,objSeq,event)},500)}},bindSelectorKeyupChargingUp:function(objID,objSeq,event){var obj=this.objects[objSeq],reserveKeys=(this.config,obj.config.reserveKeys),objVal=axdom("#"+objID).val(),bindSelectorSearch=this.bindSelectorSearch.bind(this);if(obj.config.onsearch){var res=obj.config.onsearch.call({id:objID,value:objVal},objID,objVal,function(res){obj.config.options=res.options,obj.config.focusedIndex=null,this.bindSelectorSetOptions(objID,objSeq),this.bindSelectorSearch(objID,objSeq,objVal)}.bind(this));res&&(res.options=res.options||[],obj.config.options=res.options,obj.config.focusedIndex=null,this.bindSelectorSetOptions(objID,objSeq),this.bindSelectorSearch(objID,objSeq,objVal))}else if(obj.config.ajaxUrl){obj.inProgress=!0;var bindSelectorSetOptions=this.bindSelectorSetOptions.bind(this),bindSelectorKeyupChargingUp=this.bindSelectorKeyupChargingUp.bind(this),url=obj.config.ajaxUrl,pars=obj.config.ajaxPars||{},_method="post",_headers={},_contentType=AXConfig.AXReq.contentType,_responseType=AXConfig.AXReq.responseType,_dataType=AXConfig.AXReq.dataType,_async=AXConfig.AXReq.async;obj.config.method&&(_method=obj.config.method),obj.config.headers&&(_headers=obj.config.headers),obj.config.contentType&&(_contentType=obj.config.contentType),obj.config.responseType&&(_responseType=obj.config.responseType),obj.config.dataType&&(_dataType=obj.config.dataType),obj.config.ajaxAsync&&(_async=obj.config.ajaxAsync);var selectorName=obj.config.selectorName||axdom("#"+objID).attr("name");""==pars?pars=selectorName+"="+(objVal||"").enc():"string"==(typeof pars).toLowerCase()?pars+="&"+selectorName+"="+objVal.enc():"object"==(typeof pars).toLowerCase()&&(pars[selectorName]=objVal.enc());var msgAlert=this.msgAlert.bind(this);new AXReq(url,{type:_method,headers:_headers,contentType:_contentType,responseType:_responseType,dataType:_dataType,async:_async,debug:void 0!==obj.config.debug&&obj.config.debug,pars:pars,onsucc:function(res){res.result&&res.result==AXConfig.AXReq.okCode||void 0==res.result&&!res.error?(obj.config.options=res[reserveKeys.options]||[],obj.config.focusedIndex=null,bindSelectorSetOptions(objID,objSeq),bindSelectorSearch(objID,objSeq,objVal),obj.inProgressReACT&&bindSelectorKeyupChargingUp(objID,objSeq,event)):msgAlert(res),obj.inProgress=!1,obj.inProgressReACT=!1}})}else bindSelectorSearch(objID,objSeq,objVal)},bindSelectorInputChange:function(objID,objSeq,event){var obj=this.objects[objSeq],reserveKeys=(this.config,obj.config.reserveKeys);axdom("#"+objID).val()!=obj.config.selectedObject[reserveKeys.optionText]&&(obj.config.appendable||axdom("#"+objID).val(""),obj.config.selectedObject=null,obj.config.selectedIndex=null,obj.config.focusedIndex=null,obj.config.onChange&&obj.config.onChange(null))},bindSelectorSetValue:function(objID,objSeq,value){var obj=this.objects[objSeq],reserveKeys=(this.config,obj.config.reserveKeys);if(obj.config.options){var selectedIndex=null;if(axf.each(obj.config.options,function(oidx,opt){opt[reserveKeys.optionValue]==value&&(selectedIndex=oidx)}),null!=selectedIndex&&(obj.config.focusedIndex=selectedIndex,obj.config.selectedObject=obj.config.options[selectedIndex],obj.config.isChangedSelect=!0,axdom("#"+objID).val(obj.config.selectedObject[reserveKeys.optionText]),obj.config.onChange||obj.config.onchange)){var sendObj={targetID:objID,options:obj.config.options,selectedIndex:obj.config.selectedIndex,selectedOption:obj.config.selectedObject};obj.config.onChange?obj.config.onChange.call(sendObj):obj.config.onchange&&obj.config.onchange.call(sendObj)}}},bindSelectorSearch:function(objID,objSeq,kword){var obj=this.objects[objSeq],reserveKeys=(this.config,obj.config.reserveKeys);if(""==kword)return void this.bindSelectorSelectClear(objID,objSeq);kword=kword.replace(/\//g,"\\/");for(var sw=AXUtil.consonantKR((kword||"").dec()),reAt=new RegExp("^"+sw+".*","i"),ix=null,a=0;a<obj.config.options.length;a++)if(reAt.test(obj.config.options[a][reserveKeys.optionText]||"")){ix=a;break}null!=ix?this.bindSelectorSelect(objID,objSeq,ix,"dont change value"):this.bindSelectorSelectClear(objID,objSeq)},bindSelectorSelect:function(objID,objSeq,index,changeValue){var obj=this.objects[objSeq],cfg=this.config;obj.config.reserveKeys;void 0!=obj.config.focusedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+index+"_AX_option").addClass("on"),obj.config.focusedIndex=index,obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+index+"_AX_option")},bindSelectorSelectClear:function(objID,objSeq){var obj=this.objects[objSeq],cfg=this.config;obj.config.reserveKeys;void 0!=obj.config.selectedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.selectedIndex+"_AX_option").removeClass("on"),obj.config.selectedIndex=null,obj.config.focusedIndex=null,obj.config.selectedObject=null,obj.config.isChangedSelect=!0},bindSlider:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderBox").remove();var w=obj.bindAnchorTarget.width(),h=obj.bindAnchorTarget.data("height"),objVal=obj.bindTarget.val().number().money();objVal.number()<obj.config.min.number()?objVal=obj.config.min:objVal.number()>obj.config.max.number()&&(objVal=obj.config.max),obj.config.unit||(obj.config.unit="");var po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderBox" class="'+cfg.anchorSliderBoxClassName+'" style="left:0px;width:'+w+"px;height:"+h+'px;">'),po.push('\t<div class="AXanchorSliderMinTitle">'+obj.config.min.number().money()+obj.config.unit+"</div>"),po.push('\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderBar" class="AXanchorSliderBar">'),po.push('\t\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderInside" class="AXanchorSliderBarInside"><div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandleTitle" class="AXanchorSliderHandleTitle">'+objVal.number().money()+obj.config.unit+"</div></div>"),po.push("\t\t<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandle" class="AXanchorSliderHandle">&nbsp;</a>'),po.push("\t</div>"),po.push('\t<div class="AXanchorSliderMaxTitle">'+obj.config.max.number().money()+obj.config.unit+"</div>"),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.css({height:h+"px",position:"relative",display:"inline-block",left:"auto",top:"auto"});var maxTitleWidth=axdom("#"+cfg.targetID+"_AX_"+objID).find(".AXanchorSliderMaxTitle").outerWidth().number()+10,minTitleWidth=axdom("#"+cfg.targetID+"_AX_"+objID).find(".AXanchorSliderMinTitle").outerWidth().number()+10;maxTitleWidth<30&&(maxTitleWidth=30),minTitleWidth<30&&(minTitleWidth=30),axdom("#"+cfg.targetID+"_AX_"+objID).find(".AXanchorSliderMinTitle").css({width:minTitleWidth+"px"}),axdom("#"+cfg.targetID+"_AX_"+objID).find(".AXanchorSliderMaxTitle").css({width:maxTitleWidth+"px"});var sliderBarWidth=w-minTitleWidth-maxTitleWidth;obj.bindAnchorTarget.find(".AXanchorSliderBar").css({width:sliderBarWidth+"px",left:minTitleWidth+"px",top:h/2+2}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").css({width:maxTitleWidth}),obj.config._maxTitleWidth=maxTitleWidth,obj.config._handleWidth=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").width(),obj.config._trackWidth=sliderBarWidth,this.bindSliderSetValue(objID,objSeq);var onmousedown=this.bindSliderMouseDown.bind(this);if(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").unbind("mousedown.AXInput").bind("mousedown.AXInput",function(){onmousedown(objID,objSeq)}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").unbind("dragstart.AXInput").bind("dragstart.AXInput",function(event){return event.stopPropagation(),!1}),document.addEventListener){var ontouchstart=this.sliderTouchStart.bind(this);obj.bindSliderTouchStart=function(event){ontouchstart(objID,objSeq)},AXgetId(cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").addEventListener("touchstart",obj.bindSliderTouchStart,!1)}obj.bindAnchorTarget.show(),obj.bindTarget.hide()},bindSliderMouseDown:function(objID,objSeq){var obj=(this.config,this.objects[objSeq]);if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(!obj.config.isMoving){var bindSliderMouseMove=this.bindSliderMouseMove.bind(this);obj.bindSliderMouseMove=function(event){bindSliderMouseMove(objID,objSeq,event)};var bindSliderMouseUp=this.bindSliderMouseUp.bind(this);obj.bindSliderMouseUp=function(event){bindSliderMouseUp(objID,objSeq,event)},axdom(document.body).unbind("mousemove.AXInput").bind("mousemove.AXInput",obj.bindSliderMouseMove),axdom(document.body).unbind("mouseup.AXInput").bind("mouseup.AXInput",obj.bindSliderMouseUp),obj.config.isMoving=!0}},bindSliderMouseMove:function(objID,objSeq,event){var cfg=this.config,obj=this.objects[objSeq],eX=event.pageX,cX=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderBar").offset().left,rX=eX-cX,valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,objVal=rX*valueWidth/pixelWidth,snap=obj.config.snap;void 0===snap&&(snap=1),snap>=1?(objVal=(objVal.number()+obj.config.min.number()).round(),objVal=parseInt(objVal/snap,10)*snap):(objVal=(objVal.number()+obj.config.min.number()).round(snap.toString().length-2),objVal=(parseFloat(objVal/snap)*snap).round(snap.toString().length-2));var rX=(objVal-obj.config.min)*pixelWidth/valueWidth;objVal<obj.config.min?(objVal=obj.config.min,rX=0):objVal>obj.config.max&&(objVal=obj.config.max,rX=pixelWidth),rX>pixelWidth&&(rX=pixelWidth);var sX=rX-obj.config._handleWidth/2,stX=rX-obj.config._maxTitleWidth/2;axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({width:rX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+objID).val(objVal)},bindSliderMouseUp:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]),objVal=axdom("#"+objID).val();if(obj.config.onChange||obj.config.onchange){(obj.config.onChange||obj.config.onchange).call({id:objID,value:objVal},objID,objVal)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change(),axdom(document.body).unbind("mousemove.AXInput"),axdom(document.body).unbind("mouseup.AXInput"),obj.config.isMoving=!1},bindSliderSetValue:function(objID,objSeq,value){var cfg=this.config,obj=this.objects[objSeq];if(void 0!=value)var objVal=value;else var objVal=axdom("#"+objID).val();objVal.number()<obj.config.min.number()?objVal=obj.config.min:objVal.number()>obj.config.max.number()&&(objVal=obj.config.max);var valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,pixelLeft=(objVal-obj.config.min)*pixelWidth/valueWidth;axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").css({left:pixelLeft-obj.config._handleWidth/2}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({width:pixelLeft}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").css({left:pixelLeft-obj.config._maxTitleWidth/2}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+objID).val(objVal)},sliderTouchStart:function(objID,objSeq){var obj=(this.config,this.objects[objSeq]);if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(!obj.config.isMoving){var bindSliderTouchMove=this.sliderTouchMove.bind(this);obj.bindSliderTouchMove=function(event){bindSliderTouchMove(objID,objSeq,event)};var bindSliderTouchEnd=this.sliderTouchEnd.bind(this);obj.bindSliderTouchEnd=function(event){bindSliderTouchEnd(objID,objSeq,event)},document.addEventListener&&(document.addEventListener("touchmove",obj.bindSliderTouchMove,!1),document.addEventListener("touchend",obj.bindSliderTouchEnd,!1)),obj.config.isMoving=!0}},sliderTouchMove:function(objID,objSeq,event){var cfg=this.config,obj=this.objects[objSeq];event.preventDefault();var touch=event.touches[0],eX=touch.pageX,cX=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderBar").offset().left,rX=eX-cX,valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,objVal=rX*valueWidth/pixelWidth,snap=obj.config.snap;snap||(snap=1),objVal=(objVal.number()+obj.config.min.number()).round(),objVal=parseInt(objVal/snap)*snap;var rX=(objVal-obj.config.min)*pixelWidth/valueWidth;objVal<obj.config.min?(objVal=obj.config.min,rX=0):objVal>obj.config.max&&(objVal=obj.config.max,rX=pixelWidth),rX>pixelWidth&&(rX=pixelWidth);var sX=rX-obj.config._handleWidth/2,stX=rX-obj.config._maxTitleWidth/2;axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandle").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({width:rX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+objID).val(objVal),obj.config.onChange?obj.config.onChange(objID,objVal):obj.config.onchange&&obj.config.onchange(objID,objVal),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()},sliderTouchEnd:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]),objVal=axdom("#"+objID).val();if(obj.config.onChange||obj.config.onchange){(obj.config.onChange||obj.config.onchange).call({id:objID,value:objVal},objID,objVal)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change(),document.addEventListener&&(document.removeEventListener("touchmove",obj.bindSliderTouchMove,!1),document.removeEventListener("touchend",obj.bindSliderTouchEnd,!1)),obj.config.isMoving=!1},bindTwinSliderGetVals:function(objValString,separator){var objVals=objValString.split(separator);return objVals.length<2?{min:objVals[0],max:objVals[0]}:{min:objVals[0],max:objVals[1]}},bindTwinSlider:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID));var w=obj.bindAnchorTarget.width(),h=obj.bindAnchorTarget.data("height"),objValString=obj.bindTarget.val(),separator=obj.config.separator||"~",objVal=this.bindTwinSliderGetVals(objValString,separator);obj.vals=objVal,objVal.min.number()<obj.config.min.number()?objVal.min=obj.config.min:objVal.min.number()>obj.config.max.number()&&(objVal.min=obj.config.max),objVal.max.number()<obj.config.min.number()?objVal.max=obj.config.min:objVal.max.number()>obj.config.max.number()&&(objVal.max=obj.config.max),obj.config.unit||(obj.config.unit="");var po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderBox" class="'+cfg.anchorSliderBoxClassName+'" style="left:0px;width:'+w+"px;height:"+h+'px;">'),po.push("\t<a "+obj.config.href+' class="AXanchorSliderMinTitle">'+obj.config.min.number().money()+obj.config.unit+"</a>"),po.push("\t<a "+obj.config.href+' class="AXanchorSliderMaxTitle">'+obj.config.max.number().money()+obj.config.unit+"</a>"),po.push('\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderBar" class="AXanchorSliderBar">'),po.push('\t\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderInside" class="AXanchorSliderBarInside"></div>'),po.push('\t\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandleMinTitle" class="AXanchorSliderHandleMinTitle">'+objVal.min.number().money()+obj.config.unit+"</div>"),po.push('\t\t<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandleMaxTitle" class="AXanchorSliderHandleMaxTitle">'+objVal.max.number().money()+obj.config.unit+"</div>"),po.push("\t\t<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandleMin" class="AXanchorSliderHandleMin">&nbsp;</a>'),po.push("\t\t<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_SliderHandleMax" class="AXanchorSliderHandleMax">&nbsp;</a>'),po.push("\t</div>"),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.css({height:h+"px",position:"relative",display:"inline-block",left:"auto",top:"auto"}),obj.bindAnchorTarget.show(),obj.bindTarget.hide();var maxTitleWidth=obj.bindAnchorTarget.find(".AXanchorSliderMaxTitle").outerWidth().number()+10,minTitleWidth=obj.bindAnchorTarget.find(".AXanchorSliderMinTitle").outerWidth().number()+10;obj.bindAnchorTarget.find(".AXanchorSliderMinTitle").css({width:minTitleWidth+"px"}),obj.bindAnchorTarget.find(".AXanchorSliderMaxTitle").css({width:maxTitleWidth+"px"});var sliderBarWidth=w-minTitleWidth-maxTitleWidth;obj.bindAnchorTarget.find(".AXanchorSliderBar").css({width:sliderBarWidth+"px",left:minTitleWidth+"px",top:h/2+2}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").css({width:maxTitleWidth}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").css({width:maxTitleWidth}),obj.config._maxTitleWidth=maxTitleWidth,obj.config._handleWidth=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").width(),obj.config._trackWidth=sliderBarWidth,this.bindTwinSliderSetValue(objID,objSeq);var onmousedown=this.bindTwinSliderMouseDown.bind(this);if(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").unbind("mousedown.AXInput").bind("mousedown.AXInput",function(){onmousedown(objID,objSeq,"min")}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").unbind("mousedown.AXInput").bind("mousedown.AXInput",function(){onmousedown(objID,objSeq,"max")}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").unbind("dragstart.AXInput").bind("dragstart.AXInput",function(event){return event.stopPropagation(),!1}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").unbind("dragstart.AXInput").bind("dragstart.AXInput",function(event){return event.stopPropagation(),!1}),document.addEventListener){var ontouchstart=this.twinSliderTouchStart.bind(this);obj.bindTwinSliderTouchStartMin=function(event){ontouchstart(objID,objSeq,"min")},obj.bindTwinSliderTouchStartMax=function(event){ontouchstart(objID,objSeq,"max")},AXgetId(cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").addEventListener("touchstart",obj.bindTwinSliderTouchStartMin,!1),AXgetId(cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").addEventListener("touchstart",obj.bindTwinSliderTouchStartMax,!1)}},bindTwinSliderMouseDown:function(objID,objSeq,handleName){var obj=(this.config,this.objects[objSeq]);if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(!obj.config.isMoving){var bindTwinSliderMouseMove=this.bindTwinSliderMouseMove.bind(this);obj.bindTwinSliderMouseMove=function(event){bindTwinSliderMouseMove(objID,objSeq,event,handleName)};var bindTwinSliderMouseUp=this.bindTwinSliderMouseUp.bind(this);obj.bindTwinSliderMouseUp=function(event){bindTwinSliderMouseUp(objID,objSeq,event,handleName)},axdom(document.body).unbind("mousemove.AXInput").bind("mousemove.AXInput",obj.bindTwinSliderMouseMove),axdom(document.body).unbind("mouseup.AXInput").bind("mouseup.AXInput",obj.bindTwinSliderMouseUp),obj.config.isMoving=!0}},bindTwinSliderMouseMove:function(objID,objSeq,event,handleName){var cfg=this.config,obj=this.objects[objSeq],eX=event.pageX,cX=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderBar").offset().left,rX=eX-cX,valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,objVal=rX*valueWidth/pixelWidth,snap=obj.config.snap;snap||(snap=1),objVal=(objVal.number()+obj.config.min.number()).round(),objVal=parseInt(objVal/snap)*snap;var rX=(objVal-obj.config.min)*pixelWidth/valueWidth;if(objVal<obj.config.min?(objVal=obj.config.min,rX=0):objVal>obj.config.max&&(objVal=obj.config.max,rX=pixelWidth),rX>pixelWidth&&(rX=pixelWidth),"min"==handleName){objVal>obj.vals.max&&(objVal=obj.vals.max,rX=obj.handleMaxLeft);var sX=rX-obj.config._handleWidth,stX=rX-obj.config._maxTitleWidth;obj.handleMinLeft=rX,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({width:rX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({left:obj.handleMinLeft,width:obj.handleMaxLeft-obj.handleMinLeft}),obj.vals.min=objVal}else{objVal<obj.vals.min&&(objVal=obj.vals.min,rX=obj.handleMinLeft);var sX=rX,stX=rX;obj.handleMaxLeft=rX,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({left:obj.handleMinLeft,width:obj.handleMaxLeft-obj.handleMinLeft}),obj.vals.max=objVal}var separator=obj.config.separator||"~";axdom("#"+objID).val(obj.vals.min+separator+obj.vals.max)},bindTwinSliderMouseUp:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]),objVal=axdom("#"+objID).val();if(obj.config.onChange||obj.config.onchange){(obj.config.onChange||obj.config.onchange).call({id:objID,value:objVal},objID,objVal)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change(),axdom(document.body).unbind("mousemove.AXInput"),axdom(document.body).unbind("mouseup.AXInput"),obj.config.isMoving=!1},bindTwinSliderSetValue:function(objID,objSeq,value){var cfg=this.config,obj=this.objects[objSeq];if(void 0!=value)var objValString=value;else var objValString=axdom("#"+objID).val();var separator=obj.config.separator||"~",objVal=this.bindTwinSliderGetVals(objValString,separator);obj.vals=objVal,objVal.min.number()<obj.config.min.number()?objVal.min=obj.config.min:objVal.min.number()>obj.config.max.number()&&(objVal.min=obj.config.max),objVal.max.number()<obj.config.min.number()?objVal.max=obj.config.min:objVal.max.number()>obj.config.max.number()&&(objVal.max=obj.config.max);var valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,pixelMinLeft=(objVal.min-obj.config.min)*pixelWidth/valueWidth,pixelMaxLeft=(objVal.max-obj.config.min)*pixelWidth/valueWidth;axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").css({left:pixelMinLeft-obj.config._handleWidth}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").css({left:pixelMinLeft-obj.config._maxTitleWidth}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").text(objVal.min.number().money()+obj.config.unit),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").css({left:pixelMaxLeft}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").css({left:pixelMaxLeft}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").text(objVal.max.number().money()+obj.config.unit),obj.handleMinLeft=pixelMinLeft,obj.handleMaxLeft=pixelMaxLeft,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({left:pixelMinLeft,width:pixelMaxLeft-pixelMinLeft}),axdom("#"+objID).val(obj.vals.min+separator+obj.vals.max)},twinSliderTouchStart:function(objID,objSeq,handleName){var obj=(this.config,this.objects[objSeq]);if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(!obj.config.isMoving){var bindTwinSliderTouchMove=this.twinSliderTouchMove.bind(this);obj.bindTwinSliderTouchMove=function(event){bindTwinSliderTouchMove(objID,objSeq,event,handleName)};var bindTwinSliderTouchEnd=this.twinSliderTouchEnd.bind(this);obj.bindTwinSliderTouchEnd=function(event){bindTwinSliderTouchEnd(objID,objSeq,event,handleName)},document.addEventListener&&(document.addEventListener("touchmove",obj.bindTwinSliderTouchMove,!1),document.addEventListener("touchend",obj.bindTwinSliderTouchEnd,!1)),obj.config.isMoving=!0}},twinSliderTouchMove:function(objID,objSeq,event,handleName){var cfg=this.config,obj=this.objects[objSeq];event.preventDefault();var touch=event.touches[0],eX=touch.pageX,cX=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderBar").offset().left,rX=eX-cX,valueWidth=obj.config.max.number()-obj.config.min.number(),pixelWidth=obj.config._trackWidth,objVal=rX*valueWidth/pixelWidth,snap=obj.config.snap;snap||(snap=1),objVal=(objVal.number()+obj.config.min.number()).round(),objVal=parseInt(objVal/snap)*snap;var rX=(objVal-obj.config.min)*pixelWidth/valueWidth;if(objVal<obj.config.min?(objVal=obj.config.min,rX=0):objVal>obj.config.max&&(objVal=obj.config.max,rX=pixelWidth),rX>pixelWidth&&(rX=pixelWidth),"min"==handleName){objVal>obj.vals.max&&(objVal=obj.vals.max,rX=obj.handleMaxLeft);var sX=rX-obj.config._handleWidth,stX=rX-obj.config._maxTitleWidth;obj.handleMinLeft=rX,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMin").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMinTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({width:rX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({left:obj.handleMinLeft,width:obj.handleMaxLeft-obj.handleMinLeft}),obj.vals.min=objVal}else{objVal<obj.vals.min&&(objVal=obj.vals.min,rX=obj.handleMinLeft);var sX=rX,stX=rX;obj.handleMaxLeft=rX,axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMax").css({left:sX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").css({left:stX}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderHandleMaxTitle").text(objVal.number().money()+obj.config.unit),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SliderInside").css({left:obj.handleMinLeft,width:obj.handleMaxLeft-obj.handleMinLeft}),obj.vals.max=objVal}var separator=obj.config.separator||"~";axdom("#"+objID).val(obj.vals.min+separator+obj.vals.max),obj.config.onChange?obj.config.onChange(objID,obj.vals.min+separator+obj.vals.max):obj.config.onchange&&obj.config.onchange(objID,obj.vals.min+separator+obj.vals.max),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()},twinSliderTouchEnd:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]),objVal=axdom("#"+objID).val();if(obj.config.onChange||obj.config.onchange){(obj.config.onChange||obj.config.onchange).call({id:objID,value:objVal},objID,objVal)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change(),document.removeEventListener("touchmove",obj.bindTwinSliderTouchMove,!1),document.removeEventListener("touchend",obj.bindTwinSliderTouchEnd,!1),obj.config.isMoving=!1},bindSwitch:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID));var w=obj.bindAnchorTarget.width(),h=obj.bindAnchorTarget.data("height"),objVal=obj.bindTarget.val(),switchValue=obj.config.on;objVal==switchValue?obj.switchValue="on":(switchValue=obj.config.off,obj.switchValue="off"),obj.bindTarget.val(switchValue);var po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SwitchBox" class="'+cfg.anchorSwitchBoxClassName+'" style="left:0px;top:0px;width:'+w+"px;height:"+h+'px;">'),po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SwitchDisplay" class="AXanchorSwitchDisplay" style="height:'+h+"px;line-height:"+h+'px;">'+switchValue+"</div>"),po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_SwitchHandle" class="AXanchorSwitchHandle" style="height:'+h+'px;">&nbsp;</a>'),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.css({height:h+"px",position:"relative",display:"inline-block",left:"auto",top:"auto"}),obj.bindTarget_switchBox=obj.bindAnchorTarget.find("."+cfg.anchorSwitchBoxClassName),obj.bindTarget_switchDisplay=obj.bindAnchorTarget.find(".AXanchorSwitchDisplay"),obj.bindTarget_switchHandle=obj.bindAnchorTarget.find(".AXanchorSwitchHandle"),"on"==obj.switchValue&&obj.bindAnchorTarget.find("."+cfg.anchorSwitchBoxClassName).addClass("on"),obj.bindAnchorTarget.show(),obj.bindTarget.hide();var bindSwitchClick=this.bindSwitchClick.bind(this);obj.bindSwitchClick=function(event){bindSwitchClick(objID,objSeq,event)},obj.bindAnchorTarget.find("."+cfg.anchorSwitchBoxClassName).unbind("click.AXInput").bind("click.AXInput",obj.bindSwitchClick)},bindSwitchClick:function(objID,objSeq,event){var cfg=this.config,obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if("on"==obj.switchValue?(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchBox").removeClass("on"),obj.switchValue="off",axdom("#"+objID).val(obj.config.off),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchDisplay").html(obj.config.off)):(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchBox").addClass("on"),obj.switchValue="on",axdom("#"+objID).val(obj.config.on),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchDisplay").html(obj.config.on)),obj.config.onChange||obj.config.onchange){var sendObj={targetID:objID,on:obj.config.on,off:obj.config.off,value:axdom("#"+objID).val()};obj.config.onChange&&obj.config.onChange.call(sendObj),obj.config.onchange&&obj.config.onchange.call(sendObj)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()},bindSwitchSetValue:function(objID,objSeq,value){var cfg=this.config,obj=this.objects[objSeq],objVal=value,switchValue=obj.config.on;if(objVal==switchValue?obj.switchValue="on":(switchValue=obj.config.off,obj.switchValue="off"),axdom("#"+objID).val(switchValue),"off"==obj.switchValue?(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchBox").removeClass("on"),obj.switchValue="off",axdom("#"+objID).val(obj.config.off),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchDisplay").html(obj.config.off)):(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchBox").addClass("on"),obj.switchValue="on",axdom("#"+objID).val(obj.config.on),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SwitchDisplay").html(obj.config.on)),obj.config.onChange||obj.config.onchange){var sendObj={targetID:objID,on:obj.config.on,off:obj.config.off,value:axdom("#"+objID).val()};obj.config.onChange?obj.config.onChange.call(sendObj):obj.config.onchange&&obj.config.onchange.call(sendObj)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()},bindSwitch_touchstart:function(){},bindSwitch_touchMove:function(){},bindSwitch_touchEnd:function(){},bindSegment:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID));var w=obj.bindAnchorTarget.width(),h=obj.bindAnchorTarget.data("height"),objVal=obj.bindTarget.val(),segmentOptions=obj.config.options;obj.selectedSegmentIndex=null,axf.each(segmentOptions,function(idx,seg){this.optionValue==objVal&&(obj.selectedSegmentIndex=idx,obj.selectedSegment=seg)}),null==obj.selectedSegmentIndex&&(obj.selectedSegmentIndex=0,obj.selectedSegment=segmentOptions[0]),obj.bindTarget.val(obj.selectedSegment.optionValue);var handleWidth=(w/segmentOptions.length).round()-2,po=[],theme=obj.config.theme||cfg.anchorSegmentBoxClassName;po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SegmentBox" class="'+theme+'" style="left:0px;top:0px;width:'+w+'px;">'),axf.each(segmentOptions,function(idx,seg){var addClass="";0==idx?addClass=" segmentLeft":idx==segmentOptions.length-1&&(addClass=" segmentRight"),obj.selectedSegmentIndex==idx&&(addClass+=" on"),seg.addClass&&(addClass+=" "+seg.addClass),po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+"_AX_SegmentHandle_AX_"+idx+'" class="AXanchorSegmentHandle'+addClass+'" style="width:'+handleWidth+'px;">'+seg.optionText+"</a>")}),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.css({height:h+"px",position:"relative",display:"inline-block",left:"auto",top:"auto"});var borderTop=obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css("border-top-width").number(),borderBot=obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css("border-bottom-width").number();obj.bindAnchorTarget.find(".AXanchorSegmentHandle").css({height:obj.bindAnchorTarget.innerHeight()-borderTop-borderBot+"px","line-height":obj.bindAnchorTarget.innerHeight()-borderTop-borderBot+"px"}),obj.bindAnchorTarget.show(),obj.bindTarget.hide();var bindSegmentClick=this.bindSegmentClick.bind(this);obj.bindSegmentClick=function(event){bindSegmentClick(objID,objSeq,event)},axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SegmentBox").find(".AXanchorSegmentHandle").unbind("click.AXInput").bind("click.AXInput",obj.bindSegmentClick)},bindSegmentClick:function(objID,objSeq,event){var cfg=this.config,obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;var segmentOptions=obj.config.options,myTarget=axf.get_event_target(event.target,{tagname:"a",clazz:"AXanchorSegmentHandle"});if(myTarget){var seq=myTarget.id.split(/_AX_/g).last();if(obj.selectedSegmentIndex!=seq&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SegmentHandle_AX_"+obj.selectedSegmentIndex).removeClass("on"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SegmentHandle_AX_"+seq).addClass("on"),obj.selectedSegmentIndex=seq,obj.selectedSegment=segmentOptions[seq]),axdom("#"+objID).val(obj.selectedSegment.optionValue),obj.config.onChange||obj.config.onchange){var sendObj={targetID:objID,options:segmentOptions,selectedIndex:obj.selectedSegmentIndex,selectedOption:obj.selectedSegment};obj.config.onChange?obj.config.onChange.call(sendObj):obj.config.onchange&&obj.config.onchange.call(sendObj)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()}},bindSegmentSetValue:function(objID,objSeq,value){var cfg=this.config,obj=this.objects[objSeq],selectedSegmentIndex=obj.selectedSegmentIndex,objVal=value,segmentOptions=obj.config.options;if(obj.selectedSegmentIndex=null,axf.each(segmentOptions,function(idx,seg){this.optionValue==objVal&&(obj.selectedSegmentIndex=idx,obj.selectedSegment=seg)}),null==obj.selectedSegmentIndex&&(obj.selectedSegmentIndex=0,obj.selectedSegment=segmentOptions[0]),axdom("#"+objID).val(obj.selectedSegment.optionValue),selectedSegmentIndex!=obj.selectedSegmentIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SegmentHandle_AX_"+selectedSegmentIndex).removeClass("on"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SegmentHandle_AX_"+obj.selectedSegmentIndex).addClass("on")),obj.config.onChange||obj.config.onchange){var sendObj={targetID:objID,options:segmentOptions,selectedIndex:obj.selectedSegmentIndex,selectedOption:obj.selectedSegment};obj.config.onChange?obj.config.onChange.call(sendObj):obj.config.onchange&&obj.config.onchange.call(sendObj)}obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.change()},bindDate:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID));var h=obj.bindAnchorTarget.data("height"),po=[];po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_dateHandle" class="'+cfg.anchorDateHandleClassName+'" style="right:0px;top:0px;width:'+h+"px;height:"+h+'px;">&nbsp;</a>'),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show();var bindDateExpand=this.bindDateExpand.bind(this),bindDateExpandClose=this.bindDateExpandClose.bind(this);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").unbind("click.AXInput").bind("click.AXInput",function(event){if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))bindDateExpandClose(objID,objSeq,event);else{var isReadOnly=obj.bindTarget.attr("readonly"),isDisabled=obj.bindTarget.attr("disabled");isReadOnly&&(isReadOnly="true"==isReadOnly.lcase()||"readonly"==isReadOnly.lcase()),isDisabled&&(isDisabled="true"==isDisabled.lcase()||"disabled"==isDisabled.lcase()),isReadOnly||isDisabled||bindDateExpand(objID,objSeq,!0,event)}}),obj.bindTarget.unbind("focus.AXInput").bind("focus.AXInput",function(event){setTimeout(function(){obj.bindTarget.select()},1)});var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";obj.bindTarget.unbind("keydown.AXInput").bind("keydown.AXInput",function(event){var _this=this;setTimeout(function(){if(event.keyCode==axf.Event.KEY_RETURN)_this.blur();else if(event.keyCode!=AXUtil.Event.KEY_BACKSPACE&&event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_LEFT&&event.keyCode!=AXUtil.Event.KEY_RIGHT){var va=_this.value.replace(/\D/gi,"");"y"==obj.config.selectType?va.length>4&&(_this.value=va.left(4)):"m"==obj.config.selectType?4==va.length?(va+=separator,_this.value=va):va.length>4&&(va=va.substr(0,4)+separator+va.substr(4,2),_this.value=va):va.length<4?_this.value=va:4==va.length?(va+=separator,_this.value=va):va.length<=6?(va=va.substr(0,4)+separator+va.substr(4,2)+separator,_this.value=va):va.length<=8?(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2),obj.config.expandTime&&(va+=" "),_this.value=va):obj.config.expandTime?va.length<=10?(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2)+" "+va.substr(8,2)+":",_this.value=va):va.length>12&&(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2)+" "+va.substr(8,2)+":"+va.substr(10,2),_this.value=va):(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2),_this.value=va)}})});var bindDateInputBlur=this.bindDateInputBlur.bind(this);obj.bindTarget.unbind("blur.AXInput").bind("blur.AXInput",function(event){bindDateInputBlur(objID,objSeq,event)}),!0===obj.config.expand&&(bindDateExpand(objID,objSeq,!0,event),setTimeout(function(){obj.bindTarget.focus()},100))},bindDateExpand:function(objID,objSeq,isToggle,event){var cfg=this.config,obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;for(var OO,oidx=0,__arr=this.objects;oidx<__arr.length&&(OO=__arr[oidx]);oidx++)OO.expandBox_axdom&&(OO.expandBox_axdom.remove(),OO.expandBox_axdom=null);if(AXUtil.clientWidth()<cfg.responsiveMobile)return void this.bindDateExpandMobile(objID,objSeq,isToggle,event);var obj=this.objects[objSeq],separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if(isToggle&&AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))return axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),void axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on");axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove();var objVal=axdom("#"+objID).val();obj.config.expandTime&&obj.config.selectType;new Date;"y"==obj.config.selectType?""!=objVal&&(objVal=objVal.left(4)+separator+"01"+separator+"01"):"m"==obj.config.selectType&&""!=objVal&&(objVal=objVal+separator+"02");var dfDate=(obj.config.defaultDate||"").date(),myDate=objVal.date(separator,dfDate),myYear=myDate.getFullYear(),myMonth=(myDate.getMonth()+1).setDigit(2),po=[];if(po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandBox" class="'+cfg.bindDateExpandBoxClassName+'" style="z-index:5100;">'),po.push("\t<div>"),po.push('\t\t<div class="dateControlBox">'),po.push("\t\t\t<a "+obj.config.href+' class="yearbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlYear">'+myYear+"년</a>"),po.push("\t\t\t<a "+obj.config.href+' class="monthbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlMonth">'+myMonth+"월</a>"),po.push("\t\t\t<a "+obj.config.href+' class="prevbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandPrev">P</a>'),po.push("\t\t\t<a "+obj.config.href+' class="nextbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandNext">N</a>'),po.push("\t\t</div>"),po.push('\t\t<div class="dateDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayBox"></div>'),obj.config.expandTime&&po.push('\t\t<div class="timeDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayTimeBox"></div>'),po.push("\t</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),obj.nDate=myDate,obj.mycalendar=new AXCalendar,obj.mycalendar.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayBox",basicDate:myDate,href:obj.config.href,minDate:obj.config.minDate,maxDate:obj.config.maxDate,onBeforeShowDay:obj.config.onBeforeShowDay}),obj.config.expandTime){obj.nDate=myDate;var mycalendartimeChange=this.bindDateTimeChange.bind(this);obj.mycalendartimeChange=function(myTime){mycalendartimeChange(objID,objSeq,myTime)},obj.mycalendartime=new AXCalendar,obj.mycalendartime.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayTimeBox",onChange:obj.mycalendartimeChange});var apm="AM",myTimes=myDate.print("hh:mi").split(":"),myHH=myTimes[0].number(),myMI=myTimes[1];12==myHH&&myMI>0?apm="PM":myHH>12&&(apm="PM",myHH-=12),obj.mycalendartime.printTimePage(myHH.setDigit(2)+":"+myMI.setDigit(2)+" "+apm)}var printDate="";"y"==obj.config.selectType?(obj.mycalendarPageType="y",obj.mycalendar.printYearPage(myDate.print("yyyy")),printDate=myDate.print("yyyy")):"m"==obj.config.selectType?(obj.mycalendarPageType="m",obj.mycalendar.printMonthPage(myDate),printDate=myDate.print("yyyy"+separator+"mm")):obj.config.defaultSelectType?("y"==obj.config.defaultSelectType?(obj.mycalendarPageType="y",obj.mycalendar.printYearPage(myDate.print("yyyy"))):"m"==obj.config.defaultSelectType?(obj.mycalendarPageType="m",obj.mycalendar.printMonthPage(myDate)):(obj.mycalendarPageType="d",obj.mycalendar.printDayPage(myDate)),printDate=myDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+myDate.print("hh:mi"))):(obj.mycalendarPageType="d",obj.mycalendar.printDayPage(myDate),printDate=myDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+myDate.print("hh:mi"))),obj.config.expandSetValue&&axdom("#"+objID).val(printDate);var expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox"),expBoxWidth=expandBox.outerWidth(),expBoxHeight=expandBox.outerHeight(),offset=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").offset(),handleWidth=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").width(),css=(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").height(),{});"left"==obj.config.align?css.left=offset.left.number()-expBoxWidth:"center"==obj.config.align?css.left=offset.left.number()-expBoxWidth/2+handleWidth:(obj.config.align,css.left=offset.left.number()+handleWidth),"top"==obj.config.valign?css.top=offset.top:"middle"==obj.config.valign?css.top=offset.top.number()-expBoxHeight/2+handleWidth/2:"bottom"==obj.config.valign?css.top=offset.top.number()-expBoxHeight+handleWidth:css.top=offset.top,void 0!=obj.config.customPos&&(css.top=css.top+obj.config.customPos.top,css.left=css.left+obj.config.customPos.left);var pElement=expandBox.offsetParent(),pBox={width:pElement.width(),height:pElement.height()},clientHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,clienWidth="Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth;clienWidth>pBox.width&&(pBox.width=clienWidth),clientHeight>pBox.height&&(pBox.height=clientHeight);var _box={width:expandBox.outerWidth()+10,height:expandBox.outerHeight()+10};_box.height.number()+css.top.number()>pBox.height&&(css.top=css.top-(_box.height.number()+css.top.number()-pBox.height)),css.top<0&&(css.top=0),_box.width.number()+css.left.number()>pBox.width&&(css.left=css.left-(_box.width.number()+css.left.number()-pBox.width)),css.left<0&&(css.left=0),expandBox.css(css),obj.expandBox_axdom=expandBox;var bindDateExpandBoxClick=this.bindDateExpandBoxClick.bind(this);obj.documentclickEvent=function(event){bindDateExpandBoxClick(objID,objSeq,event)};var bindDateKeyup=this.bindDateKeyup.bind(this);obj.inputKeyup=function(event){bindDateKeyup(objID,objSeq,event)},"y"==obj.config.selectType&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear").css({left:"70px"}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth").hide()),axdom(document).unbind("click.AXInput").bind("click.AXInput",obj.documentclickEvent),axdom("#"+objID).bind("keydown.AXInput",obj.inputKeyup)},bindDateExpandMobile:function(objID,objSeq,isToggle,event){var cfg=this.config,obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;if(axdom("#"+objID).unbind("keydown.AXInput").bind("keydown.AXInput",obj.inputKeyup),isToggle&&obj.modal&&obj.modal.opened)return obj.modal.close(),void axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on");obj.modal=new AXMobileModal,obj.modal.setConfig({addClass:"",height:obj.config.expandTime?532:388,width:300,head:{},onclose:function(){}});var initBindDateMobileModal=this.initBindDateMobileModal.bind(this),onLoad=function(modalObj){initBindDateMobileModal(objID,objSeq,modalObj)};obj.modal.open(null,onLoad)},initBindDateMobileModal:function(objID,objSeq,modalObj){var cfg=this.config,obj=this.objects[objSeq],separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-",objVal=axdom("#"+objID).val();obj.config.expandTime&&obj.config.selectType;new Date;"y"==obj.config.selectType?""!=objVal&&(objVal=objVal.left(4)+separator+"01"+separator+"01"):"m"==obj.config.selectType&&""!=objVal&&(objVal=objVal+separator+"01");var dfDate=(obj.config.defaultDate||"").date(),myDate=objVal.date(separator,dfDate),myYear=myDate.getFullYear(),myMonth=(myDate.getMonth()+1).setDigit(2),headPo=[];headPo.push('<div class="AXDateControlBox">'),headPo.push("\t<a "+obj.config.href+' class="AXDateControl yearbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlYear">'+(AXConfig.AXInput.yearText||"{year}년").replace("{year}",myYear)+"</a>"),headPo.push("\t<a "+obj.config.href+' class="AXDateControl monthbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlMonth">'+(AXConfig.AXInput.monthText||"{month}월").replace("{month}",myMonth)+"</a>"),headPo.push("\t<a "+obj.config.href+' class="AXDateControl prevbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandPrev">P</a>'),headPo.push("\t<a "+obj.config.href+' class="AXDateControl nextbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandNext">N</a>'),headPo.push("</div>");var bodyPo=[];bodyPo.push('<div class="AXDateContainer">'),bodyPo.push('<div class="AXDateDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayBox"></div>'),obj.config.expandTime&&bodyPo.push('\t\t<div class="AXTimeDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayTimeBox"></div>'),bodyPo.push("</div>");var footPo=[];if(footPo.push('<div class="AXDateButtonBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_buttonBox">'),footPo.push('\t<button class="AXButtonSmall W80 AXBindDateConfirm" type="button" id="'+cfg.targetID+"_AX_"+objID+'_AX_button_AX_confirm">'+(AXConfig.AXInput.confirmText||"확인")+"</button>"),footPo.push("</div>"),modalObj.modalHead.empty(),modalObj.modalHead.append(headPo.join("")),modalObj.modalBody.empty(),modalObj.modalBody.append(bodyPo.join("")),modalObj.modalFoot.empty(),modalObj.modalFoot.append(footPo.join("")),obj.nDate=myDate,obj.mycalendar=new AXCalendar,obj.mycalendar.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayBox",basicDate:myDate,href:obj.config.href}),obj.config.expandTime){obj.nDate=myDate;var mycalendartimeChange=this.bindDateTimeChange.bind(this);obj.mycalendartimeChange=function(myTime){mycalendartimeChange(objID,objSeq,myTime)},obj.mycalendartime=new AXCalendar,obj.mycalendartime.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayTimeBox",onChange:obj.mycalendartimeChange});var apm="AM",myTimes=myDate.print("hh:mi").split(":"),myHH=myTimes[0].number(),myMI=myTimes[1];12==myHH&&myMI>0?apm="PM":myHH>12&&(apm="PM",myHH-=12),obj.mycalendartime.printTimePage(myHH.setDigit(2)+":"+myMI.setDigit(2)+" "+apm)}var printDate="";"y"==obj.config.selectType?(obj.mycalendarPageType="y",obj.mycalendar.printYearPage(myDate.print("yyyy")),printDate=myDate.print("yyyy"),axdom("#"+objID).val(printDate)):"m"==obj.config.selectType?(obj.mycalendarPageType="m",obj.mycalendar.printMonthPage(myDate),printDate=myDate.print("yyyy"+separator+"mm"),axdom("#"+objID).val(printDate)):obj.config.defaultSelectType?("y"==obj.config.defaultSelectType?(obj.mycalendarPageType="y",obj.mycalendar.printYearPage(myDate.print("yyyy"))):"m"==obj.config.defaultSelectType?(obj.mycalendarPageType="m",obj.mycalendar.printMonthPage(myDate)):(obj.mycalendarPageType="d",obj.mycalendar.printDayPage(myDate)),printDate=myDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+myDate.print("hh:mi")),axdom("#"+objID).val(printDate)):(obj.mycalendarPageType="d",obj.mycalendar.printDayPage(myDate),printDate=myDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+myDate.print("hh:mi")),axdom("#"+objID).val(printDate));var _this=this;modalObj.modalHead.unbind("click.AXInput").bind("click.AXInput",function(event){_this.bindDateMobileModalHeadClick(objID,objSeq,event)}),modalObj.modalBody.unbind("click.AXInput").bind("click.AXInput",function(event){_this.bindDateMobileModalBodyClick(objID,objSeq,event)}),modalObj.modalFoot.unbind("click.AXInput").bind("click.AXInput",function(event){_this.bindDateMobileModalFootClick(objID,objSeq,event)})},bindDateMobileModalHeadClick:function(objID,objSeq,event){var obj=this.objects[objSeq],eid=(this.config,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return!!axdom(evt.parentNode).hasClass("AXDateControlBox")},find:function(evt,evtIDs){return!!axdom(evt).hasClass("AXDateControl")}});if(myTarget){var act=myTarget.id.split(/_AX_/g).last(),nDate=obj.nDate;"controlYear"==act?this.bindDateChangePage(objID,objSeq,nDate,"y"):"controlMonth"==act?"y"!=obj.config.selectType&&this.bindDateChangePage(objID,objSeq,nDate,"m"):"expandPrev"==act?"d"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(-1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(-1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindDateChangePage(objID,objSeq,nDate.add(-12,"y"),"y"):"expandNext"==act&&("d"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindDateChangePage(objID,objSeq,nDate.add(12,"y"),"y"))}},bindDateMobileModalBodyClick:function(objID,objSeq,event){var obj=this.objects[objSeq],eid=(this.config,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return!!axdom(evt.parentNode).hasClass("AXDateContainer")},find:function(evt,evtIDs){return!(!axdom(evt).hasClass("calendarDate")&&!axdom(evt).hasClass("calendarMonth"))}});if(myTarget){var ids=myTarget.id.split(/_AX_/g),act=ids.last(),nDate=obj.nDate,separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("date"==act){obj.nDate=ids[ids.length-2].date();var printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate),this.bindDateExpandClose(objID,objSeq,event)}else if("month"==act){var myMonth=ids[ids.length-2].number()-1;if("m"==obj.config.selectType){var yy=nDate.getFullYear(),dd=1;obj.nDate=new Date(Date.UTC(yy,myMonth,dd)),this.bindDateExpandClose(objID,objSeq,event)}else{var yy=nDate.getFullYear(),dd=1;obj.nDate=new Date(Date.UTC(yy,myMonth,dd)),this.bindDateChangePage(objID,objSeq,obj.nDate,"d")}}else if("year"==act){var myYear=ids[ids.length-2];if("y"==obj.config.selectType){var mm=0,dd=1;obj.nDate=new Date(Date.UTC(myYear,mm,dd)),this.bindDateExpandClose(objID,objSeq,event)}else{var mm=0,dd=1;obj.nDate=new Date(Date.UTC(myYear,mm,dd)),this.bindDateChangePage(objID,objSeq,obj.nDate,"m")}}}},bindDateMobileModalFootClick:function(objID,objSeq,event){var obj=this.objects[objSeq],eid=(this.config,event.target.id.split(/_AX_/g)),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return!!axdom(evt.parentNode).hasClass("AXDateButtonBox")},find:function(evt,evtIDs){return!!axdom(evt).hasClass("AXBindDateConfirm")}});if(myTarget){"confirm"==myTarget.id.split(/_AX_/g).last()&&obj.modal.close()}},bindDateExpandClose:function(objID,objSeq,event){var obj=this.objects[objSeq],cfg=this.config;if(!obj)return void axdom(document).unbind("click.AXInput");if(obj.modal&&obj.modal.opened){var objVal=axdom("#"+objID).val();if(""==objVal);else{var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";"y"==obj.config.selectType?axdom("#"+objID).val(obj.nDate.print("yyyy")):"m"==obj.config.selectType?axdom("#"+objID).val(obj.nDate.print("yyyy"+separator+"mm")):(printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate))}if(obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onChange)if(axdom.isFunction(obj.config.onChange))obj.config.onChange.call({objID:objID,value:axdom("#"+objID).val()});else{var st_date,ed_date;if(obj.config.onChange.earlierThan?(st_date=axdom("#"+objID).val(),ed_date=axdom("#"+obj.config.onChange.earlierThan).val()):obj.config.onChange.laterThan&&(ed_date=axdom("#"+objID).val(),st_date=axdom("#"+obj.config.onChange.laterThan).val()),""!=st_date&&""!=ed_date&&st_date.date().diff(ed_date)<0)return this.msgAlert(obj.config.onChange.err),void axdom("#"+objID).val("");obj.config.onChange.onChange.call({objID:objID,value:axdom("#"+objID).val(),eventType:"expandClose"})}return obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.trigger("change"),obj.modal.close(),void axdom(document).unbind("click.AXInput")}if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")){var objVal=axdom("#"+objID).val();if(""==objVal);else{var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";"y"==obj.config.selectType?axdom("#"+objID).val(obj.nDate.print("yyyy")):"m"==obj.config.selectType?axdom("#"+objID).val(obj.nDate.print("yyyy"+separator+"mm")):(printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate))}if(obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onChange)if(axdom.isFunction(obj.config.onChange))obj.config.onChange.call({objID:objID,value:axdom("#"+objID).val()});else{var st_date,ed_date;if(obj.config.onChange.earlierThan?(st_date=axdom("#"+objID).val(),ed_date=axdom("#"+obj.config.onChange.earlierThan).val()):obj.config.onChange.laterThan&&(ed_date=axdom("#"+objID).val(),st_date=axdom("#"+obj.config.onChange.laterThan).val()),""!=st_date&&""!=ed_date&&st_date.date().diff(ed_date)<0)return this.msgAlert(obj.config.onChange.err),void axdom("#"+objID).val("");obj.config.onChange.onChange?obj.config.onChange.onChange.call({objID:objID,value:axdom("#"+objID).val()}):obj.config.onChange.onchange&&obj.config.onChange.onchange.call({objID:objID,value:axdom("#"+objID).val()})}return obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.trigger("change"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),obj.expandBox_axdom=null,obj.mycalendartime=null,axdom(document).unbind("click.AXInput"),void event.stopPropagation()}},bindDateInputBlur:function(objID,objSeq,event){var obj=this.objects[objSeq];this.config;if(""==axdom("#"+objID).val());else{var clearDate=!1,nDate=obj.nDate||new Date,va=axdom("#"+objID).val().replace(/\D/gi,"");if(-1==va.search(/\d+/g)&&(clearDate=!0),clearDate)axdom("#"+objID).val("");else{var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("y"==obj.config.selectType){var yy=va.left(4).number();0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3);var mm=nDate.getMonth(),dd=nDate.getDate();obj.nDate=new Date(Date.UTC(yy,mm,dd,12)),axdom("#"+objID).val(obj.nDate.print("yyyy"))}else if("m"==obj.config.selectType){if(va.length>4)var yy=va.left(4).number(),mm=va.substr(4,2).number()-1,dd=1;else var yy=va.left(4).number(),mm=0,dd=1;0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),obj.nDate=new Date(Date.UTC(yy,mm,dd,12)),axdom("#"+objID).val(obj.nDate.print("yyyy"+separator+"mm"))}else{var needAlert=!1;if(va.length>5)var yy=va.left(4).number(),mm=va.substr(4,2).number(),dd=va.substr(6,2).number();else if(va.length>3)var yy="20"+va.substr(0,2),mm=va.substr(2,2).number(),dd=va.substr(4,2).number();else if(va.length>2)var yy=nDate.getFullYear(),mm=va.substr(0,2).number(),dd=va.substr(2,2).number();else var yy=nDate.getFullYear(),mm=nDate.getMonth()+1,dd=va.substr(0,2).number();if(0==yy&&(needAlert=!0),0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),obj.nDate=(yy+"-"+mm.setDigit(2)+"-"+dd.setDigit(2)).date(),obj.nDate.getFullYear()==yy.number()&&obj.nDate.getMonth()+1==mm.number()&&obj.nDate.getDate()==dd.number()||(needAlert=!0,obj.nDate=new Date),printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime){var hh,mi;try{printDate+=" "+obj.mycalendartime.getTime()}catch(e){va.length>11?(hh=va.substr(8,2).number(),mi=va.substr(10,2).number()):va.length>9?(hh=va.substr(8,2).number(),mi="00"):(hh="12",mi="00"),printDate+=" "+hh.setDigit(2)+":"+mi.setDigit(2)}}needAlert&&this.msgAlert("날짜 형식이 올바르지 않습니다."),axdom("#"+objID).val(printDate)}}}if(obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onChange&&axdom("#"+objID).data("val")&&axdom("#"+objID).data("val")!=axdom("#"+objID).val()){if(axdom.isFunction(obj.config.onChange))obj.config.onChange.call({objID:objID,value:axdom("#"+objID).val()});else{var st_date,ed_date;obj.config.onChange.earlierThan?(st_date=axdom("#"+objID).val(),ed_date=axdom("#"+obj.config.onChange.earlierThan).val()):obj.config.onChange.laterThan&&(ed_date=axdom("#"+objID).val(),st_date=axdom("#"+obj.config.onChange.laterThan).val()),""!=st_date&&""!=ed_date&&st_date.date().diff(ed_date)<0&&(this.msgAlert(obj.config.onChange.err),axdom("#"+objID).val("")),obj.config.onChange.onChange.call({objID:objID,value:axdom("#"+objID).val(),eventType:"blur"})}axdom("#"+objID).data("val",axdom("#"+objID).val())}event.stopPropagation()},unbindDate:function(obj){var cfg=this.config,objID=obj.id,objSeq=null;if(axf.each(this.objects,function(oidx,O){if(this.id==objID)return objSeq=oidx,!1}),null!=objSeq){var obj=this.objects[objSeq];axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom(document).unbind("click.AXInput"),axdom("#"+objID).unbind("keydown.AXInput")}var removeAnchorId,collect=[];axf.each(this.objects,function(){this.id!=obj.id?collect.push(this):removeAnchorId=this.anchorID}),this.objects=collect,axdom("#"+removeAnchorId).remove()},bindDateTimeChange:function(objID,objSeq,myTime){var obj=this.objects[objSeq],separator=(this.config,obj.config.separator||AXConfig.AXInput.dateSeparator||"-"),printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate)},bindDateExpandBoxClick:function(objID,objSeq,event){var obj=this.objects[objSeq],cfg=this.config,eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,until:function(evt,evtIDs){return"BODY"==evt.parentNode.tagName},find:function(evt,evtIDs){if(!evt.id)return!1;var checkID=cfg.targetID+"_AX_"+objID;return evt.id==objID||evt.id.substr(0,checkID.length)==checkID}});if(!!myTarget){if(axdom(myTarget).hasClass("disabled"))return;var ids=myTarget.id.split(/_AX_/g),ename=ids.last(),nDate=obj.nDate,separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("expandPrev"==ename)"d"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(-1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(-1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindDateChangePage(objID,objSeq,nDate.add(-12,"y"),"y");else if("expandNext"==ename)"d"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindDateChangePage(objID,objSeq,nDate.add(1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindDateChangePage(objID,objSeq,nDate.add(12,"y"),"y");else if("controlYear"==ename)this.bindDateChangePage(objID,objSeq,nDate,"y");else if("controlMonth"==ename)"y"!=obj.config.selectType&&this.bindDateChangePage(objID,objSeq,nDate,"m");else if("date"==ename){obj.nDate=ids[ids.length-2].date();var printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate),this.bindDateExpandClose(objID,objSeq,event)}else if("month"==ename){var myMonth=ids[ids.length-2].number()-1;if("m"==obj.config.selectType){var yy=nDate.getFullYear(),dd=1;obj.nDate=new Date(Date.UTC(yy,myMonth,dd,12)),axdom("#"+objID).val(obj.nDate.print("yyyy"+separator+"mm")),this.bindDateExpandClose(objID,objSeq,event)}else{var yy=nDate.getFullYear(),dd=1;obj.nDate=new Date(Date.UTC(yy,myMonth,dd,12)),this.bindDateChangePage(objID,objSeq,obj.nDate,"d")}}else if("year"==ename){var myYear=ids[ids.length-2];if("y"==obj.config.selectType){var mm=0,dd=1;obj.nDate=new Date(Date.UTC(myYear,mm,dd,12)),axdom("#"+objID).val(obj.nDate.print("yyyy")),this.bindDateExpandClose(objID,objSeq,event)}else{var mm=0,dd=1;obj.nDate=new Date(Date.UTC(myYear,mm,dd,12)),this.bindDateChangePage(objID,objSeq,obj.nDate,"m")}}}else this.bindDateExpandClose(objID,objSeq,event)},bindDateKeyup:function(objID,objSeq,event){var obj=this.objects[objSeq];this.config;"y"==obj.config.selectType||obj.config.selectType},bindDateChangePage:function(objID,objSeq,setDate,pageType){var obj=this.objects[objSeq],cfg=this.config,separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("m"==pageType){obj.mycalendarPageType="m",obj.nDate=setDate,obj.mycalendar.printMonthPage(setDate);var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear").html(myYear+"년")}else if("y"==pageType){obj.mycalendarPageType="y",obj.nDate=setDate,obj.mycalendar.printYearPage(setDate.getFullYear());var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear").html(myYear+"년")}else{obj.mycalendarPageType="d",obj.nDate=setDate,obj.mycalendar.printDayPage(setDate);var myYear=setDate.getFullYear(),myMonth=(setDate.getMonth()+1).setDigit(2);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear").html(myYear+"년"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth").html(myMonth+"월")}if("y"==obj.config.selectType)axdom("#"+objID).val(obj.nDate.print("yyyy"));else if("m"==obj.config.selectType)axdom("#"+objID).val(obj.nDate.print("yyyy"+separator+"mm"));else{var printDate=obj.nDate.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime.getTime()),axdom("#"+objID).val(printDate)}},bindTwinDate:function(objID,objSeq,option){var cfg=this.config,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTargetStart=axdom("#"+obj.config.startTargetID);var h=obj.bindAnchorTarget.data("height"),po=[],handleLeft=0;obj.config&&(handleLeft=(obj.config.handleLeft||0).number()),po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+'_AX_dateHandle" class="'+cfg.anchorDateHandleClassName+'" style="right:'+(0-handleLeft)+"px;top:0px;width:"+h+"px;height:"+h+'px;">&nbsp;</a>'),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show();var bindDateExpand=this.bindTwinDateExpand.bind(this),bindTwinDateExpandClose=this.bindTwinDateExpandClose.bind(this);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").unbind("click.AXInput").bind("click.AXInput",function(event){if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))bindTwinDateExpandClose(objID,objSeq,event);else{var isReadOnly=obj.bindTarget.attr("readonly"),isDisabled=obj.bindTarget.attr("disabled");isReadOnly&&(isReadOnly="true"==isReadOnly.lcase()||"readonly"==isReadOnly.lcase()),isDisabled&&(isDisabled="true"==isDisabled.lcase()||"disabled"==isDisabled.lcase()),isReadOnly||isDisabled||bindDateExpand(objID,objSeq,!0,event)}}),obj.bindTarget.unbind("focus.AXInput").bind("focus.AXInput",function(event){setTimeout(function(){},1)}),obj.bindTargetStart.unbind("focus.AXInput").bind("focus.AXInput",function(event){setTimeout(function(){},1)});var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";axdom("#"+objID+", #"+obj.config.startTargetID).unbind("keyup.AXInput").bind("keyup.AXInput",function(event){if(event.keyCode!=AXUtil.Event.KEY_BACKSPACE&&event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_LEFT&&event.keyCode!=AXUtil.Event.KEY_RIGHT){var va=this.value.replace(/\D/gi,""),_this=this;"y"==obj.config.selectType?va.length>4&&(_this.value=va.left(4)):"m"==obj.config.selectType?4==va.length?(va+=separator,_this.value=va):va.length>4&&(va=va.substr(0,4)+separator+va.substr(4,2),_this.value=va):va.length<4?_this.value=va:va.length<=6?(va=va.substr(0,4)+separator+va.substr(4,2),_this.value=va):va.length<=8?(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2),_this.value=va):va.length<=10?obj.config.expandTime?(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2)+" "+va.substr(8,2),_this.value=va):(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2),_this.value=va):va.length>10&&(obj.config.expandTime?(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2)+" "+va.substr(8,2)+":"+va.substr(10,2),_this.value=va):(va=va.substr(0,4)+separator+va.substr(4,2)+separator+va.substr(6,2),_this.value=va))}});var bindTwinDateInputBlur=this.bindTwinDateInputBlur.bind(this);obj.bindTarget.unbind("blur.AXInput").bind("blur.AXInput",function(event){bindTwinDateInputBlur(objID,objSeq,event,2)}),axdom("#"+obj.config.startTargetID).unbind("blur.AXInput").bind("blur.AXInput",function(event){bindTwinDateInputBlur(objID,objSeq,event,1)});var objVal1=obj.bindTargetStart.val(),objVal2=obj.bindTarget.val(),myDate1=objVal1.date(separator),myDate2=objVal2.date(separator);obj.nDate1=myDate1,obj.nDate2=myDate2},bindTwinDateExpand:function(objID,objSeq,isToggle,event){for(var OO,cfg=this.config,obj=this.objects[objSeq],oidx=0,__arr=this.objects;oidx<__arr.length&&(OO=__arr[oidx]);oidx++)OO.expandBox_axdom&&(OO.expandBox_axdom.remove(),OO.expandBox_axdom=null);var obj=this.objects[objSeq];if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if(isToggle&&AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))return axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),void axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on");axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove();var objVal1=axdom("#"+obj.config.startTargetID).val(),objVal2=axdom("#"+objID).val();obj.config.expandTime&&obj.config.selectType;new Date;"y"==obj.config.selectType?(""!=objVal1?objVal1=objVal1.left(4)+separator+"01"+separator+"02":!0,""!=objVal2&&(objVal2=objVal2.left(4)+separator+"01"+separator+"02")):"m"==obj.config.selectType&&(""!=objVal1?objVal1=objVal1+separator+"02":!0,""!=objVal2&&(objVal2=objVal2+separator+"02")),AXUtil.isEmpty(objVal1)&&(objVal1="");var myDate1=objVal1.date(separator),myDate2=objVal2.date(separator),myYear1=myDate1.getFullYear(),myYear2=myDate2.getFullYear(),myMonth1=(myDate1.getMonth()+1).setDigit(2),myMonth2=(myDate2.getMonth()+1).setDigit(2),buttonText=obj.config.buttonText||"OK",po=[];if(po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandBox" class="'+cfg.bindTwinDateExpandBoxClassName+'" style="z-index:5100;">'),po.push("\t<div>"),po.push('\t\t<table cellpadding="0" cellspacing="0">'),po.push("\t\t\t<tbody>"),po.push("\t\t\t\t<tr>"),po.push('\t\t\t\t\t<td style="padding-right:3px;">'),po.push('\t\t\t\t\t<div class="dateTypeName">START</div>'),po.push('\t\t\t\t\t<div class="dateControlBox">'),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="yearbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlYear1">'+myYear1+"년</a>"),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="monthbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlMonth1">'+myMonth1+"월</a>"),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="prevbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandPrev1">P</a>'),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="nextbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandNext1">N</a>'),po.push("\t\t\t\t\t</div>"),po.push('\t\t\t\t\t<div class="dateDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayBox1"></div>'),obj.config.expandTime&&po.push('\t\t\t\t\t<div class="timeDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayTimeBox1"></div>'),po.push("\t\t\t\t\t</td>"),po.push('\t\t\t\t\t<td style="padding-left:3px;">'),po.push('\t\t\t\t\t<div class="dateTypeName">END</div>'),po.push('\t\t\t\t\t<div class="dateControlBox">'),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="yearbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlYear2">'+myYear2+"년</a>"),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="monthbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_controlMonth2">'+myMonth2+"월</a>"),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="prevbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandPrev2">P</a>'),po.push("\t\t\t\t\t\t<a "+obj.config.href+' class="nextbutton" id="'+cfg.targetID+"_AX_"+objID+'_AX_expandNext2">N</a>'),po.push("\t\t\t\t\t</div>"),po.push('\t\t\t\t\t<div class="dateDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayBox2"></div>'),obj.config.expandTime&&po.push('\t\t\t\t\t<div class="timeDisplayBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_displayTimeBox2"></div>'),po.push("\t\t\t\t\t</td>"),po.push("\t\t\t\t</tr>"),po.push("\t\t\t</tbody>"),po.push("\t\t</table>"),po.push("\t</div>"),po.push('\t<div style="padding-top:5px;" align="center">'),po.push('\t\t<input type="button" value="'+buttonText+'" class="AXButton Classic W70" id="'+cfg.targetID+"_AX_"+objID+'_AX_closeButton">'),po.push("\t</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),obj.nDate1=myDate1,obj.mycalendar1=new AXCalendar,obj.mycalendar1.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayBox1",basicDate:myDate1,minDate:obj.config.minDate,maxDate:obj.config.maxDate,onBeforeShowDay:obj.config.onBeforeShowDay}),obj.nDate2=myDate2,obj.mycalendar2=new AXCalendar,obj.mycalendar2.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayBox2",basicDate:myDate2,minDate:obj.config.minDate,maxDate:obj.config.maxDate,onBeforeShowDay:obj.config.onBeforeShowDay}),obj.config.expandTime){obj.nDate1=myDate1;var mycalendartimeChange1=this.bindTwinDateTimeChange.bind(this);obj.mycalendartimeChange1=function(myTime){mycalendartimeChange1(objID,objSeq,myTime,1)},obj.mycalendartime1=new AXCalendar,obj.mycalendartime1.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayTimeBox1",onChange:obj.mycalendartimeChange1});var apm="AM",myTimes=myDate1.print("hh:mi").split(":"),myHH=myTimes[0].number(),myMI=myTimes[1];myHH>12&&(apm="PM",myHH-=12),obj.mycalendartime1.printTimePage(myHH.setDigit(2)+":"+myMI.setDigit(2)+" "+apm),obj.nDate2=myDate2;var mycalendartimeChange2=this.bindTwinDateTimeChange.bind(this);obj.mycalendartimeChange2=function(myTime){mycalendartimeChange2(objID,objSeq,myTime,2)},obj.mycalendartime2=new AXCalendar,obj.mycalendartime2.setConfig({targetID:cfg.targetID+"_AX_"+objID+"_AX_displayTimeBox2",onChange:obj.mycalendartimeChange2});var apm="AM",myTimes=myDate2.print("hh:mi").split(":"),myHH=myTimes[0].number(),myMI=myTimes[1];myHH>12&&(apm="PM",myHH-=12),obj.mycalendartime2.printTimePage(myHH.setDigit(2)+":"+myMI.setDigit(2)+" "+apm)}var printDate1="",printDate2="";"y"==obj.config.selectType?(obj.mycalendarPageType="y",obj.mycalendar1.printYearPage(myDate1.print("yyyy")),obj.mycalendar2.printYearPage(myDate2.print("yyyy")),printDate1=myDate1.print("yyyy"),printDate2=myDate2.print("yyyy")):"m"==obj.config.selectType?(obj.mycalendarPageType="m",obj.mycalendar1.printMonthPage(myDate1),obj.mycalendar2.printMonthPage(myDate2),printDate1=myDate1.print("yyyy"+separator+"mm"),printDate2=myDate2.print("yyyy"+separator+"mm")):(obj.mycalendarPageType="d",obj.mycalendar1.printDayPage(myDate1),obj.mycalendar2.printDayPage(myDate2),printDate1=myDate1.print("yyyy"+separator+"mm"+separator+"dd"),printDate2=myDate2.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate1+=" "+myDate1.print("hh:mi"),printDate2+=" "+myDate2.print("hh:mi"))),obj.config.expandSetValue&&(axdom("#"+obj.config.startTargetID).val(printDate1),axdom("#"+objID).val(printDate2));var expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox"),expBoxWidth=expandBox.outerWidth(),expBoxHeight=expandBox.outerHeight(),offset=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").offset(),handleWidth=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").width(),css=(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_dateHandle").height(),{});"left"==obj.config.align?css.left=offset.left.number()-expBoxWidth:"center"==obj.config.align?css.left=offset.left.number()-expBoxWidth/2+handleWidth:(obj.config.align,css.left=offset.left.number()+handleWidth),"top"==obj.config.valign?css.top=offset.top:"middle"==obj.config.valign?css.top=offset.top.number()-expBoxHeight/2+handleWidth/2:"bottom"==obj.config.valign?css.top=offset.top.number()-expBoxHeight+handleWidth:css.top=offset.top,void 0!=obj.config.customPos&&(css.top=css.top+obj.config.customPos.top,css.left=css.left+obj.config.customPos.left);var pElement=expandBox.offsetParent(),pBox={width:pElement.width(),height:pElement.height()},clientHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,clienWidth="Q"==AXUtil.docTD?document.body.scrollWidth:document.documentElement.scrollWidth;clienWidth>pBox.width&&(pBox.width=clienWidth),clientHeight>pBox.height&&(pBox.height=clientHeight);var _box={width:expandBox.outerWidth()+10,height:expandBox.outerHeight()+10};_box.height.number()+css.top.number()>pBox.height&&(css.top=css.top-(_box.height.number()+css.top.number()-pBox.height)),css.top<0&&(css.top=0),_box.width.number()+css.left.number()>pBox.width&&(css.left=css.left-(_box.width.number()+css.left.number()-pBox.width)),css.left<0&&(css.left=0),expandBox.css(css),obj.expandBox_axdom=expandBox;var bindTwinDateExpandBoxClick=this.bindTwinDateExpandBoxClick.bind(this);obj.documentclickEvent=function(event){bindTwinDateExpandBoxClick(objID,objSeq,event)};var bindTwinDateKeyup=this.bindTwinDateKeyup.bind(this);obj.inputKeyup=function(event){bindTwinDateKeyup(objID,objSeq,event)},"y"==obj.config.selectType&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear1").css({left:"70px"}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth1").hide(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear2").css({left:"70px"}),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth2").hide()),axdom(document).unbind("click.AXInput").bind("click.AXInput",obj.documentclickEvent),axdom("#"+objID).unbind("keydown.AXInput").bind("keydown.AXInput",obj.inputKeyup);var bindTwinDateExpandClose=this.bindTwinDateExpandClose.bind(this);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_closeButton").unbind("click.AXInput").bind("click.AXInput",function(event){bindTwinDateExpandClose(objID,objSeq,event)})},bindTwinDateTimeChange:function(objID,objSeq,myTime,seq){var obj=this.objects[objSeq];this.config;if(1==seq){var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-",printDate=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime1.getTime()),axdom("#"+obj.config.startTargetID).val(printDate)}else{var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-",printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate)}},bindTwinDateExpandClose:function(objID,objSeq,event){var obj=this.objects[objSeq],cfg=this.config;if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")){var objVal1=axdom("#"+obj.config.startTargetID).val(),objVal2=axdom("#"+objID).val(),separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";return""==objVal1&&""==objVal2||("y"==obj.config.selectType?(objVal1.length<4?axdom("#"+obj.config.startTargetID).val(obj.nDate1.print("yyyy")):(objVal1=objVal1.left(4),axdom("#"+obj.config.startTargetID).val(objVal1),axdom("#"+obj.config.startTargetID).trigger("change")),objVal2.length<4?axdom("#"+objID).val(obj.nDate2.print("yyyy")):(objVal2=objVal2.left(4),axdom("#"+objID).val(objVal2),axdom("#"+objID).trigger("change"))):"m"==obj.config.selectType?(axdom("#"+obj.config.startTargetID).val(obj.nDate1.print("yyyy"+separator+"mm")),axdom("#"+obj.config.startTargetID).trigger("change"),axdom("#"+objID).val(obj.nDate2.print("yyyy"+separator+"mm")),axdom("#"+objID).trigger("change")):(printDate1=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd"),printDate2=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate1+=" "+obj.mycalendartime1.getTime(),printDate2+=" "+obj.mycalendartime2.getTime()),axdom("#"+obj.config.startTargetID).val(printDate1),axdom("#"+objID).val(printDate2),axdom("#"+obj.config.startTargetID).trigger("change"),axdom("#"+objID).trigger("change")),obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onChange&&obj.config.onChange.call({ST_objID:obj.config.startTargetID,ED_objID:objID,ST_value:axdom("#"+obj.config.startTargetID).val(),ED_value:axdom("#"+objID).val()}),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.trigger("change")),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),obj.expandBox_axdom=null,axdom(document).unbind("click.AXInput"),axdom("#"+objID).unbind("keydown.AXInput"),void event.stopPropagation()}},bindTwinDateExpandBoxClick:function(objID,objSeq,event){var obj=this.objects[objSeq],cfg=this.config,eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,until:function(evt,evtIDs){return"body"==evt.parentNode.tagName},find:function(evt,evtIDs){return""!=evt.id&&null!=evt.id&&void 0!=evt.id&&(evt.id==objID||evt.id==obj.config.startTargetID||evt.id.substr(0,cfg.targetID.length)==cfg.targetID&&(-1!=evt.id.search(objID)||-1!=evt.id.search(obj.config.startTargetID)))}});if(!!myTarget){if(axdom(myTarget).hasClass("disabled"))return;var ids=myTarget.id.split(/_AX_/g),ename=ids.last(),boxType=ids[ids.length-3],nDate1=obj.nDate1,nDate2=obj.nDate2,separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("expandPrev1"==ename)"d"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(-1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(-1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(-12,"y"),"y");else if("expandPrev2"==ename)"d"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(-1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(-1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(-12,"y"),"y");else if("expandNext1"==ename)"d"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindTwinDateChangePage(objID,objSeq,1,nDate1.add(12,"y"),"y");else if("expandNext2"==ename)"d"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(1,"m"),"d"):"m"==obj.mycalendarPageType?this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(1,"y"),"m"):"y"==obj.mycalendarPageType&&this.bindTwinDateChangePage(objID,objSeq,2,nDate2.add(12,"y"),"y");else if("controlYear1"==ename)this.bindTwinDateChangePage(objID,objSeq,1,nDate1,"y");else if("controlYear2"==ename)this.bindTwinDateChangePage(objID,objSeq,2,nDate2,"y");else if("controlMonth1"==ename)"y"!=obj.config.selectType&&this.bindTwinDateChangePage(objID,objSeq,1,nDate1,"m");else if("controlMonth2"==ename)"y"!=obj.config.selectType&&this.bindTwinDateChangePage(objID,objSeq,2,nDate2,"m");else if("date"==ename){if("displayBox1"==boxType){obj.nDate1=ids[ids.length-2].date();var printDate=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime1.getTime()),axdom("#"+obj.config.startTargetID).val(printDate),obj.mycalendar1.dayPageSetDay(obj.nDate1)}else{obj.nDate2=ids[ids.length-2].date();var printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate),obj.mycalendar2.dayPageSetDay(obj.nDate2)}if(obj.nDate1.diff(obj.nDate2)<0)if("displayBox1"==boxType){obj.nDate2=obj.nDate1;var printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate),obj.mycalendar2.printDayPage(obj.nDate2),this.bindTwinDateChangePage(objID,objSeq,2,obj.nDate2,"d")}else{obj.nDate1=obj.nDate2;var printDate=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime1.getTime()),axdom("#"+obj.config.startTargetID).val(printDate),obj.mycalendar1.printDayPage(obj.nDate1),this.bindTwinDateChangePage(objID,objSeq,1,obj.nDate1,"d")}}else if("month"==ename){var myMonth=ids[ids.length-2].number()-1;if("displayBox1"==boxType)if("m"==obj.config.selectType){var yy=nDate1.getFullYear(),dd=nDate1.getDate();obj.nDate1=new Date(Date.UTC(yy,myMonth,dd));var printDate=obj.nDate1.print("yyyy"+separator+"mm");axdom("#"+obj.config.startTargetID).val(printDate),obj.mycalendar1.monthPageSetMonth(obj.nDate1)}else{var yy=nDate1.getFullYear(),dd=nDate1.getDate();obj.nDate1=new Date(Date.UTC(yy,myMonth,dd)),this.bindTwinDateChangePage(objID,objSeq,1,obj.nDate1,"d")}else if("m"==obj.config.selectType){var yy=nDate2.getFullYear(),dd=nDate2.getDate();obj.nDate2=new Date(Date.UTC(yy,myMonth,dd));var printDate=obj.nDate2.print("yyyy"+separator+"mm");axdom("#"+objID).val(printDate),obj.mycalendar2.monthPageSetMonth(obj.nDate2)}else{var yy=nDate2.getFullYear(),dd=nDate2.getDate();obj.nDate2=new Date(Date.UTC(yy,myMonth,dd)),this.bindTwinDateChangePage(objID,objSeq,2,obj.nDate2,"d")}if("m"==obj.config.selectType&&obj.nDate1.diff(obj.nDate2)<0){obj.nDate2=obj.nDate1;var printDate=obj.nDate2.print("yyyy"+separator+"mm");axdom("#"+objID).val(printDate),axdom("#"+obj.config.startTargetID).val(printDate),obj.mycalendar2.monthPageSetMonth(obj.nDate2)}}else if("year"==ename){var myYear=ids[ids.length-2];if("displayBox1"==boxType)if("y"==obj.config.selectType){var mm=nDate1.getMonth(),dd=nDate1.getDate();obj.nDate1=new Date(Date.UTC(myYear,mm,dd));var printDate=obj.nDate1.print("yyyy");axdom("#"+obj.config.startTargetID).val(printDate),obj.mycalendar1.yearPageSetYear(obj.nDate1)}else{var mm=nDate1.getMonth(),dd=nDate1.getDate();obj.nDate1=new Date(Date.UTC(myYear,mm,dd)),this.bindTwinDateChangePage(objID,objSeq,1,obj.nDate1,"m")}else if("y"==obj.config.selectType){var mm=nDate2.getMonth(),dd=nDate2.getDate();obj.nDate2=new Date(Date.UTC(myYear,mm,dd));var printDate=obj.nDate2.print("yyyy");axdom("#"+objID).val(printDate),obj.mycalendar2.yearPageSetYear(obj.nDate2)}else{var mm=nDate2.getMonth(),dd=nDate2.getDate();obj.nDate2=new Date(Date.UTC(myYear,mm,dd)),this.bindTwinDateChangePage(objID,objSeq,2,obj.nDate2,"m")}if("y"==obj.config.selectType&&obj.nDate1.print("yyyy").number()>obj.nDate2.print("yyyy").number()){obj.nDate2=obj.nDate1;var printDate=obj.nDate2.print("yyyy");axdom("#"+obj.config.startTargetID).val(printDate),axdom("#"+objID).val(printDate),obj.mycalendar2.yearPageSetYear(obj.nDate2)}}}else this.bindTwinDateExpandClose(objID,objSeq,event)},bindTwinDateKeyup:function(objID,objSeq,event){"y"==obj.config.selectType||obj.config.selectType},bindTwinDateChangePage:function(objID,objSeq,objType,setDate,pageType){var obj=this.objects[objSeq],cfg=this.config,separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("m"==pageType)if(1==objType){obj.nDate1=setDate,obj.mycalendar1.printMonthPage(setDate);var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear1").html(myYear+"년")}else{obj.nDate2=setDate,obj.mycalendar2.printMonthPage(setDate);var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear2").html(myYear+"년")}else if("y"==pageType)if(1==objType){obj.nDate1=setDate,obj.mycalendar1.printYearPage(setDate.getFullYear());var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear1").html(myYear+"년")}else{obj.nDate2=setDate,obj.mycalendar2.printYearPage(setDate.getFullYear());var myYear=setDate.getFullYear();axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear2").html(myYear+"년")}else if(1==objType){obj.nDate1=setDate,obj.mycalendar1.printDayPage(setDate);var myYear=setDate.getFullYear(),myMonth=(setDate.getMonth()+1).setDigit(2);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear1").html(myYear+"년"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth1").html(myMonth+"월")}else{obj.nDate2=setDate,obj.mycalendar2.printDayPage(setDate);var myYear=setDate.getFullYear(),myMonth=(setDate.getMonth()+1).setDigit(2);axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlYear2").html(myYear+"년"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_controlMonth2").html(myMonth+"월")}if(1==objType)if("y"==obj.config.selectType)axdom("#"+obj.config.startTargetID).val(obj.nDate1.print("yyyy"));else if("m"==obj.config.selectType)axdom("#"+obj.config.startTargetID).val(obj.nDate1.print("yyyy"+separator+"mm"));else{var printDate=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime1.getTime()),axdom("#"+obj.config.startTargetID).val(printDate)}else if("y"==obj.config.selectType)axdom("#"+objID).val(obj.nDate2.print("yyyy"));else if("m"==obj.config.selectType)axdom("#"+objID).val(obj.nDate2.print("yyyy"+separator+"mm"));else{var printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd");obj.config.expandTime&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate)}},bindTwinDateInputBlur:function(objID,objSeq,event,seq){var objVal,targetObjID,obj=this.objects[objSeq];this.config;if(1==seq?(targetObjID=obj.config.startTargetID,objVal=axdom("#"+obj.config.startTargetID).val()):(targetObjID=objID,objVal=axdom("#"+objID).val()),""==objVal);else{var clearDate=!1,nDate=obj["nDate"+seq]||new Date,va=axdom("#"+targetObjID).val().replace(/\D/gi,"");if(-1==va.search(/\d+/g)&&(clearDate=!0),clearDate)axdom("#"+targetObjID).val("");else{var separator=obj.config.separator||AXConfig.AXInput.dateSeparator||"-";if("y"==obj.config.selectType){var yy=va.left(4).number();0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3);var mm=nDate.getMonth(),dd=nDate.getDate();obj["nDate"+seq]=new Date(Date.UTC(yy,mm,dd,12)),axdom("#"+targetObjID).val(obj["nDate"+seq].print("yyyy"))}else if("m"==obj.config.selectType){if(va.length>5)var yy=va.left(4).number(),mm=va.substr(4,2).number()-1,dd=1;else var yy=va.left(4).number(),mm=0,dd=1;0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),obj["nDate"+seq]=new Date(Date.UTC(yy,mm,dd,12)),axdom("#"+targetObjID).val(obj["nDate"+seq].print("yyyy"+separator+"mm"))}else{var yy,mm,dd,hh,mi,needAlert=!1;if(va.length>7?(yy=va.left(4).number(),mm=va.substr(4,2).number(),dd=va.substr(6,2).number()):va.length>4?(yy="20"+va.substr(0,2),mm=va.substr(2,2).number(),dd=va.substr(4,2).number()):va.length>2?(yy=nDate.getFullYear(),mm=va.substr(0,2).number(),dd=va.substr(2,2).number()):(yy=nDate.getFullYear(),mm=nDate.getMonth()+1,dd=va.substr(0,2).number()),va.length>=9?(hh=va.substr(8,2).number(),mi=va.substr(10,2).number()):(hh="00",mi="00"),0==yy&&(needAlert=!0),0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),obj["nDate"+seq]=(yy+"-"+mm.setDigit(2)+"-"+dd.setDigit(2)).date(),obj["nDate"+seq].getFullYear()==yy.number()&&obj["nDate"+seq].getMonth()+1==mm.number()&&obj["nDate"+seq].getDate()==dd.number()||(needAlert=!0,obj["nDate"+seq]=new Date),printDate=obj["nDate"+seq].print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&(printDate+=" "+hh.setDigit(2)+":"+mi.setDigit(2)),needAlert&&this.msgAlert("날짜 형식이 올바르지 않습니다."),axdom("#"+targetObjID).val(printDate),void 0==obj.nDate1){var va=axdom("#"+obj.config.startTargetID).val().replace(/\D/gi,"");if(-1!=va.search(/\d+/g)){if(va.length>7)var yy=va.left(4).number(),mm=va.substr(4,2).number(),dd=va.substr(6,2).number();else if(va.length>5)var yy=va.left(4).number(),mm=va.substr(4,2).number(),dd=1;else var yy=va.left(4).number(),mm=nDate.getMonth()+1,dd=nDate.getDate();0==yy&&(needAlert=!0),0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),obj.nDate1=(yy+"-"+mm.setDigit(2)+"-"+dd.setDigit(2)).date()}}void 0==obj.nDate2&&(obj.nDate2=obj.nDate1,printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&obj.mycalendartime2&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate)),obj.nDate1.diff(obj.nDate2)<0&&(1==seq?(obj.nDate2=obj.nDate1,printDate=obj.nDate2.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&obj.mycalendartime2&&(printDate+=" "+obj.mycalendartime2.getTime()),axdom("#"+objID).val(printDate)):(obj.nDate1=obj.nDate2,printDate=obj.nDate1.print("yyyy"+separator+"mm"+separator+"dd"),obj.config.expandTime&&obj.mycalendartime1&&(printDate+=" "+obj.mycalendartime1.getTime()),axdom("#"+obj.config.startTargetID).val(printDate)))}}}obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onChange&&obj.config.onChange.call({event:event,ST_objID:obj.config.startTargetID,ED_objID:objID,ST_value:axdom("#"+obj.config.startTargetID).val(),ED_value:axdom("#"+objID).val()}),event.stopPropagation()},bindChecked:function(objID,objSeq){var cfg=this.config,_this=this,obj=this.objects[objSeq];obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget.css({opacity:0});var anchorHandle,h=obj.bindAnchorTarget.data("height"),marginWidth=obj.bindTarget.css("margin-left").number()+obj.bindTarget.css("margin-right").number(),marginHeight=obj.bindTarget.css("margin-top").number()+obj.bindTarget.css("margin-bottom").number(),chk_size=Math.max(h+marginWidth,h+marginHeight)-1,left=(obj.bindTarget.css("margin-left").number()-obj.bindTarget.css("margin-right").number()).abs(),linked_items=[],onchange=function(e){if(obj.bindTarget.get(0).checked?anchorHandle.addClass("checked"):anchorHandle.removeClass("checked"),linked_items.length>0)for(var li=0;li<linked_items.length;li++){var aHandle=jQuery(linked_items[li]).next().find("."+cfg.anchorCheckedContainerClassName+"_radio");linked_items[li].checked?aHandle.addClass("checked"):aHandle.removeClass("checked")}},po=[];if(po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_HandleContainer"'),"radio"==obj.bindTarget.attr("type")?po.push(' class="'+cfg.anchorCheckedContainerClassName+'_radio" '):po.push(' class="'+cfg.anchorCheckedContainerClassName+'" '),po.push(' style="left:'+left+"px;top:0px;width:"+chk_size+"px;height:"+chk_size+'px;"'),po.push(' onselectstart="return false;">'),po.push('<a class="checked-icon"></a>'),po.push("</div>"),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show(),anchorHandle="radio"==obj.bindTarget.attr("type")?obj.bindAnchorTarget.find("."+cfg.anchorCheckedContainerClassName+"_radio"):obj.bindAnchorTarget.find("."+cfg.anchorCheckedContainerClassName),obj.bindTarget.unbind("change.AXInput").bind("change.AXInput",onchange),anchorHandle.bind("click",function(e){obj.bindTarget.get(0).checked=!obj.bindTarget.get(0).checked,obj.bindTarget.trigger("change"),_this.stopEvent(e)}),"radio"==obj.bindTarget.attr("type")){var nm=obj.bindTarget.attr("name");jQuery("input[name="+nm+"]").each(function(){objID!=this.id&&linked_items.push(this)})}onchange()}}),AXInput=new AXInputConverter;AXInput.setConfig({targetID:"inputBasic",href:AXConfig.anchorHref}),axdom.fn.unbindInput=function(config){return axf.each(this,function(){void 0==config&&(config={}),config.id=this.id,AXInput.unbind(config)}),this},axdom.fn.bindSearch=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),void 0==config&&(config={}),config.id=this.id,config.bindType="search",AXInput.bind(config)}),this},axdom.fn.bindNumber=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="number",config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.bindMoney=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="money",AXInput.bind(config)}),this},axdom.fn.bindSelector=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="selector",config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.bindSelectorBlur=function(config){return axf.each(this,function(){AXInput.bindSelectorBlur(this.id)}),this},axdom.fn.bindSlider=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="slider",AXInput.bind(config)}),this},axdom.fn.bindTwinSlider=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="twinSlider",AXInput.bind(config)}),this},axdom.fn.bindSwitch=function(config){axf.each(this,function(){return this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="switch",AXInput.bind(config),this})},axdom.fn.bindSegment=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="segment",AXInput.bind(config)}),this},axdom.fn.bindDate=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="date",config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.unbindDate=function(config){return axf.each(this,function(){config=config||{},config.id=this.id,AXInput.unbindDate(config)}),this},axdom.fn.bindDateTime=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="date",config.expandTime=!0,AXInput.bind(config)}),this},axdom.fn.bindTwinDate=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="twinDate",config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.bindTwinDateTime=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="twinDateTime",config.expandTime=!0,config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.bindPlaceHolder=function(config){return axf.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="placeHolder",config.href=AXConfig.anchorHref,AXInput.bind(config)}),this},axdom.fn.bindChecked=function(config){return axf.each(this,function(){config=config||{},config.id=this.id||(this.id="axchecked-"+axf.getUniqueId()),config.bindType="checked",AXInput.bind(config)}),this},axdom.fn.setConfigInput=function(config){return axf.each(this,function(){AXInput.bindSetConfig(this.id,config)}),this},axdom.fn.setValueInput=function(value){return axf.each(this,function(){AXInput.bindSetValue(this.id,value)}),this},jQuery.fn.bindInputDisabled=function(Disabled){return axf.each(this,function(){AXInput.bindInputDisabled(this.id,Disabled)}),this};var AXInputConverterPro=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.objects=[],this.inputTypes=[{type:"pattern",type:"tagSelector"}],this.config.anchorClassName="AXanchor",this.config.anchorSelectorExpandBoxClassName="AXanchorSelectorExpandBox",this.config.anchorSelectorExpandScrollClassName="AXanchorSelectorExpandScroll",this.config.responsiveMobile=AXConfig.mobile.responsiveWidth},init:function(){axdom(window).resize(this.alignAllAnchor.bind(this)),this.config.reserveKeys={options:AXConfig.AXInput&&AXConfig.AXInput.keyOptions||"options",optionValue:AXConfig.AXInput&&AXConfig.AXInput.keyOptionValue||"optionValue",optionText:AXConfig.AXInput&&AXConfig.AXInput.keyOptionText||"optionText"}},windowResize:function(){var windowResizeApply=this.windowResizeApply.bind(this);this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.windowResizeObserver=setTimeout(function(){windowResizeApply()},10)},windowResizeApply:function(){this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.alignAllAnchor()},alignAllAnchor:function(){for(var i=0;i<this.objects.length;i++)this.alignAnchor(this.objects[i].id,i)},bindSetConfig:function(objID,configs){var findIndex=null;if(axf.each(this.objects,function(index,O){if(O.id==objID)return findIndex=index,!1}),null!=findIndex){var _self=this.objects[findIndex];axf.each(configs,function(k,v){_self.config[k]=v})}},bind:function(obj){var cfg=this.config;if(!AXgetId(obj.id))return void trace("bind 대상이 없어 bind 처리할 수 없습니다.");for(var objID=obj.id,objSeq=null,index=0;index<this.objects.length;index++)if(this.objects[index].id==objID){objSeq=index;break}void 0==obj.href&&(obj.href=cfg.href),null==objSeq?(objSeq=this.objects.length,this.objects.push({id:objID,anchorID:cfg.targetID+"_AX_"+objID,config:obj,bindType:obj.bindType})):(this.objects[objSeq].isDel=void 0,this.objects[objSeq].config=obj),"checked"!=obj.bindType&&this.appendAnchor(objID,objSeq,obj.bindType),"null"==obj.bindType||("pattern"==obj.bindType?this.bindPattern(objID,objSeq):"tagSelector"==obj.bindType&&(this.objects[objSeq].config.reserveKeys||(this.objects[objSeq].config.reserveKeys=axdom.extend({},this.config.reserveKeys)),this.bindTagSelector(objID,objSeq)))},unbind:function(obj){var removeAnchorId,removeIdx,cfg=this.config;if(axf.each(this.objects,function(idx,O){O.id!=obj.id||1!=O.isDel&&(removeAnchorId=this.anchorID,removeIdx=idx)}),removeAnchorId){this.objects[removeIdx].isDel=!0,axdom("#"+obj.id).removeAttr("data-axbind"),axdom("#"+removeAnchorId).remove();var objID=obj.id,obj=this.objects[removeIdx];obj.documentclickEvent&&axdom(document).unbind("click.AXInput",obj.documentclickEvent),axdom("#"+objID).unbind("keydown.AXInput"),axdom("#"+objID).unbind("keydown.AXInputCheck"),axdom("#"+objID).unbind("change.AXInput"),obj.bindSliderMouseMove&&axdom(document.body).unbind("mousemove.AXInput",obj.bindSliderMouseMove),obj.bindSliderMouseUp&&axdom(document.body).unbind("mouseup.AXInput",obj.bindSliderMouseUp),obj.bindSliderTouchMove&&document.removeEventListener("touchmove.AXInput",obj.bindSliderTouchMove,!1),obj.bindSliderTouchEnd&&document.removeEventListener("touchend.AXInput",obj.bindSliderTouchEnd,!1),obj.bindTwinSliderMouseMove&&axdom(document.body).unbind("mousemove.AXInput",obj.bindTwinSliderMouseMove),obj.bindTwinSliderMouseUp&&axdom(document.body).unbind("mouseup.AXInput",obj.bindTwinSliderMouseUp),AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox")&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_Handle").removeClass("on"))}},appendAnchor:function(objID,objSeq,bindType){var cfg=this.config,obj=this.objects[objSeq];axdom("#"+cfg.targetID+"_AX_"+objID).remove();var anchorNode=axdom('<div id="'+cfg.targetID+"_AX_"+objID+'" class="'+cfg.anchorClassName+'" style="display:none;"></div>'),iobj=axdom("#"+objID);iobj.attr("data-axbind",bindType),iobj.after(anchorNode),obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID),obj.bindTarget=iobj;var iobjPosition=iobj.position(),l=iobjPosition.left,t=iobjPosition.top,w=0,h=0,marginW=(iobj.css("border-left-width").number(),iobj.css("border-top-width").number(),iobj.css("margin-left").number());iobj.css("margin-top").number();l+=marginW,w=iobj.outerWidth(),h=iobj.outerHeight();var css={left:l,top:t,width:w,height:0};obj.bindAnchorTarget.css(css),obj.bindAnchorTarget.data("height",h);var _this=this;setTimeout(function(){_this.alignAnchor(objID,objSeq)},10)},alignAnchor:function(objID,objSeq){var obj=(this.config,this.objects[objSeq]);if(AXgetId(objID))if("tagSelector"==obj.bindType)obj.tagList.length>0&&obj.bindTarget.css({"padding-top":obj.tagContainer.height()});else{var iobjPosition=obj.bindTarget.position(),l=iobjPosition.left,t=iobjPosition.top,w=obj.bindTarget.outerWidth(),h=obj.bindTarget.outerHeight();if("none"==obj.bindTarget.css("display")){h=obj.bindAnchorTarget.data("height");var css={width:w}}else var css={left:l,top:t,width:w,height:0};obj.bindAnchorTarget.css(css),obj.bindAnchorTarget.data("height",h),"null"==obj.bindType||obj.bindType}},bindPattern:function(objID,objSeq){var obj=this.objects[objSeq],cfg=this.config,_this=this;if(obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),"_custom"==obj.config.pattern){var h=obj.bindAnchorTarget.data("height");obj.bindAnchorTarget.css({height:h});var po=[],inputCoverClass=obj.bindTarget.attr("class"),inputCoverFont=obj.bindTarget.css("font-family");po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_inputCover" class="'+inputCoverClass+'" style="background:transparent;cursor:text;font-family:'+inputCoverFont+';white-space:nowrap;"></div>'),obj.bindAnchorTarget.append(po.join("")),obj.bindAnchorTarget.show(),obj.bindTarget.css({color:obj.bindTarget.css("background-color")}),obj.bindTargetCover=obj.bindAnchorTarget.find("#"+cfg.targetID+"_AX_"+objID+"_AX_inputCover"),obj.bindTargetCover.bind("click",function(){obj.bindTarget.focus()});var val=obj.bindTarget.val().trim();return""!=val&&(val=this.bindPatternGetValue(objID,objSeq,obj.bindTarget.val())),obj.bindTarget.val(val),obj.bindTarget.attr("onselectstart","return false"),obj.bindTarget.unbind("keypress.AXInput").bind("keypress.AXInput",function(event){}),obj.bindTarget.unbind("keyup.AXInput").bind("keyup.AXInput",function(event){obj.bindTargetCover.html(_this.bindPatternGetValue(objID,objSeq,event.target.value)+"<div class='edit-input-cursor'>|</div>")}),obj.bindTarget.unbind("focus.AXInput").bind("focus.AXInput",function(event){obj.bindTargetCover.html(_this.bindPatternGetValue(objID,objSeq,event.target.value)+"<div class='edit-input-cursor'>|</div>")}),void obj.bindTarget.unbind("blur.AXInput").bind("blur.AXInput",function(event){obj.bindTargetCover.find(".edit-input-cursor").remove()})}if("_custom"==obj.config.pattern)return obj.bindTarget.unbind("keypress.AXInput").bind("keypress.AXInput",function(event){var elemFocusPosition,elemFocusEndPosition,elem=event.target;if("selectionStart"in elem)elemFocusPosition=elem.selectionStart,elemFocusEndPosition=elem.selectionEnd;else if(document.selection){var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;sel.moveStart("character",-elem.value.length),elemFocusPosition=sel.text.length-selLen,elemFocusEndPosition=elemFocusPosition+selLen}obj.DSP=elemFocusPosition,obj.DEP=elemFocusEndPosition,""==elem.value&&(obj.originalValue=""),obj.prevValue=event.target.value}),void obj.bindTarget.unbind("keyup.AXInput").bind("keyup.AXInput",function(event){var elemFocusPosition,elem=event.target;if("selectionStart"in elem)elemFocusPosition=elem.selectionStart,elemFocusEndPosition=elem.selectionEnd;else if(document.selection){var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;sel.moveStart("character",-elem.value.length),elemFocusPosition=sel.text.length-selLen,elemFocusEndPosition=elemFocusPosition+selLen}obj.USP=elemFocusPosition,obj.UEP=elemFocusEndPosition;var v1=elem.value,v2=obj.prevValue,editedText=(v2.substring(obj.DSP,obj.DEP),v1.substring(obj.DEP,obj.UEP));if(v1!=v2&&v1.length>v2.length)if(obj.DSP==obj.DEP&&obj.USP==obj.UEP&&obj.DSP+1==obj.USP){if(obj.USP==v1.length)obj.originalValue+=editedText;else if(obj.USP<v1.length){obj.originalValue=obj.originalValue.substring(0,obj.DEP)+editedText+obj.originalValue.substr(obj.DEP)}}else obj.USP==v1.length?obj.originalValue+=editedText:obj.USP<v1.length&&trace("중간에서 다중문자 타이핑");else v1!=v2&&v1.length<v2.length?obj.DSP==obj.DEP&&obj.USP==obj.UEP&&obj.DSP-1==obj.USP?obj.USP==v1.length?trace("끝에서 한글자 삭제"):obj.USP<v1.length&&trace("중간에서 한글자 삭제"):obj.USP==v1.length?trace("끝에서 다중문자 삭제"):obj.USP<v1.length&&trace("중간에서 다중문자 삭제"):obj.DSP==obj.DEP&&obj.USP==obj.UEP&&obj.DSP+1==obj.USP?trace("커서 우로 이동"):obj.DSP==obj.DEP&&obj.USP==obj.UEP&&obj.DSP==obj.USP+1?trace("커서 좌로 이동"):obj.DSP==obj.DEP&&obj.USP==obj.UEP&&obj.DSP==obj.USP&&trace("제자리")});var eventStop=function(event){return event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),event.cancelBubble=!0,!1},bindPatternCheck=this.bindPatternCheck.bind(this),val=obj.bindTarget.val().trim();""!=val&&(val=this.bindPatternGetValue(objID,objSeq,obj.bindTarget.val(),"blur")),obj.bindTarget.val(val),obj.bindTarget.unbind("focus.AXInput").bind("focus.AXInput",function(event){"custom"==obj.config.pattern&&(void 0===obj.originalValue&&(obj.originalValue=event.target.value),event.target.value=_this.bindPatternGetValue(objID,objSeq,obj.originalValue,"keyup"))}),obj.bindTarget.unbind("keydown.AXInput").bind("keydown.AXInput",function(event){if(event.which&&(event.which>47&&event.which<58||event.which>36&&event.which<41||event.which>95&&event.which<106||event.which==axf.Event.KEY_BACKSPACE||event.which==axf.Event.KEY_TAB||event.which==axf.Event.KEY_RETURN||event.which==axf.Event.KEY_DELETE||event.which==axf.Event.NUMPAD_SUBTRACT||event.which==axf.Event.NUMPAD_DECIMAL||event.which==axf.Event.KEY_MINUS||event.which==axf.Event.KEY_EQUAL||event.which==axf.Event.KEY_PERIOD||event.which==axf.Event.KEY_HOME||event.which==axf.Event.KEY_END)){var isStop=!1;if(190!=event.which||"moneyint"!=obj.config.pattern&&"numberint"!=obj.config.pattern)if(event.which==axf.Event.KEY_MINUS||event.which==axf.Event.KEY_EQUAL||event.which==axf.Event.KEY_PERIOD)("money"!=obj.config.pattern&&"moneyint"!=obj.config.pattern&&"number"!=obj.config.pattern&&"numberint"!=obj.config.pattern||!obj.config.allow_minus)&&(isStop=!0);else if(event.which==axf.Event.KEY_BACKSPACE||event.which==axf.Event.KEY_TAB||event.which==axf.Event.KEY_RETURN||event.which==axf.Event.KEY_LEFT||event.which==axf.Event.KEY_RIGHT||event.which==axf.Event.KEY_DELETE||event.which==axf.Event.KEY_HOME||event.which==axf.Event.KEY_END)13==event.which&&obj.bindTarget.trigger("blur");else if("datetime"==obj.config.pattern.left(8))14==event.target.value.replace(/\D/g,"").length&&(isStop=!0);else if("date"==obj.config.pattern.left(4))8==event.target.value.replace(/\D/g,"").length&&(isStop=!0);else if("bizno"==obj.config.pattern)10==event.target.value.replace(/\D/g,"").length&&(isStop=!0);else if("money"==obj.config.pattern||"moneyint"==obj.config.pattern||"number"==obj.config.pattern||"numberint"==obj.config.pattern){if(Object.isNumber(obj.config.max_length)&&event.target.value.replace(/\D/g,"").length>=obj.config.max_length&&(isStop=!0),!isStop&&Object.isNumber(obj.config.max_round)){var dotIndex=0;(dotIndex=event.target.value.indexOf("."))>-1&&event.target.value.substr(dotIndex+1).length>=obj.config.max_round&&(isStop=!0)}}else Object.isNumber(obj.config.max_length)&&event.target.value.replace(/[^A-Za-z0-9]/g,"").length==obj.config.max_length.number()&&(isStop=!0);else isStop=!0;isStop&&eventStop(event)}else event.ctrlKey||event.metaKey?obj.bindTarget.data("ctrlKey","T"):(obj.bindTarget.data("ctrlKey","F"),eventStop(event))}),obj.bindTarget.unbind("keyup.AXInput").bind("keyup.AXInput",function(event){var elemFocusPosition,elem=obj.bindTarget.get(0);if("selectionStart"in elem)elemFocusPosition=elem.selectionStart;else if(document.selection){var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;sel.moveStart("character",-elem.value.length),elemFocusPosition=sel.text.length-selLen}obj.bindTarget.data("focusPosition",elemFocusPosition),obj.bindTarget.data("prevLen",elem.value.length);var event=window.event||event;event.keyCode&&event.keyCode!=axf.Event.KEY_TAB&&16!=event.keyCode&&17!=event.keyCode&&event.which!=axf.Event.KEY_HOME&&event.which!=axf.Event.KEY_END&&("T"!=obj.bindTarget.data("ctrlKey")||65!=event.keyCode&&91!=event.keyCode)&&(event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_BACKSPACE&&event.keyCode!=AXUtil.Event.KEY_LEFT&&event.keyCode!=AXUtil.Event.KEY_RIGHT?bindPatternCheck(objID,objSeq,"keyup"):event.keyCode!=AXUtil.Event.KEY_DELETE&&event.keyCode!=AXUtil.Event.KEY_BACKSPACE||bindPatternCheck(objID,objSeq,"keyup"))}),obj.bindTarget.unbind("change.AXInput").bind("change.AXInput",function(event){}),obj.bindTarget.unbind("blur.AXInput").bind("blur.AXInput",function(event){bindPatternCheck(objID,objSeq,"blur")})},bindPatternCheck:function(objID,objSeq,eventType){var val,nval,obj=this.objects[objSeq];obj.config.onBlur||(obj.config.onBlur=obj.config.onBlur),obj.config.onChange||(obj.config.onChange=obj.config.onchange),"blur"==eventType?(val=obj.bindTarget.val(),nval=this.bindPatternGetValue(objID,objSeq,val,eventType),obj.bindTarget.val(nval),val!=nval&&obj.bindTarget.trigger("change"),Object.isFunction(obj.config.onBlur)&&obj.config.onBlur.call({objID:objID,objSeq:objSeq,value:nval})):(val=obj.bindTarget.val(),nval=this.bindPatternGetValue(objID,objSeq,val,eventType),obj.bindTarget.val(nval),val!=nval&&obj.bindTarget.trigger("change"),axf.isEmpty(obj.bindTarget.data("focusPosition"))||obj.bindTarget.setCaret(obj.bindTarget.data("focusPosition").number()+(obj.bindTarget.val().length-obj.bindTarget.data("prevLen"))),Object.isFunction(obj.config.onChange)&&obj.config.onChange.call({objID:objID,objSeq:objSeq,value:nval}))},bindPatternGetValue:function(objID,objSeq,val,eventType){var regExpPattern,obj=this.objects[objSeq],returnValue="",getFormatterDate=function(_val,_pattern,ynm,mnd,dnt,tnt){var returnValue="";if(""==_val);else if("blur"==eventType){var nDate=new Date;if(_val.length>7)var yy=_val.left(4).number(),mm=_val.substr(4,2).number()-1,dd=_val.substr(6,2).number();else if(_val.length>4)var yy="20"+_val.substr(0,2),mm=_val.substr(2,2).number()-1,dd=_val.substr(4,2).number();else if(_val.length>2)var yy=nDate.getFullYear(),mm=_val.substr(0,2).number()-1,dd=_val.substr(2,2).number();else var yy=nDate.getFullYear(),mm=nDate.getMonth(),dd=_val.substr(0,2).number();if(0==yy&&!0,0==yy&&(yy=nDate.getFullYear()),yy<1e3&&(yy+=2e3),nDate=new Date(yy,mm,dd,12),nDate.getFullYear()==yy.number()&&nDate.getMonth()==mm.number()&&nDate.getDate()==dd.number()||(!0,nDate=new Date),printDate=nDate.print("yyyy"+ynm+"mm"+mnd+"dd")," "!=dnt&&(printDate+=dnt),"datetime"==_pattern.left(8)){" "==dnt&&(printDate+=dnt);var hh,mm,ss=null;_val.length>11?(hh=_val.substr(8,2).number().setDigit(2),mm=_val.substr(10,2).number().setDigit(2),ss=_val.substr(12,2).number().setDigit(2)):_val.length>8?(hh=_val.substr(8,2).number().setDigit(2),mm="00"):(hh="12",mm="00"),printDate+=hh+tnt+mm+function(){if(null!=ss)return tnt+ss}()}returnValue=printDate}else _val.length<5?returnValue=_val:_val.length<7?returnValue=_val.substr(0,4)+ynm+_val.substr(4):_val.length<9?(returnValue=_val.substr(0,4)+ynm+_val.substr(4,2)+mnd+_val.substr(6,2)," "!=dnt&&(returnValue+=dnt)):returnValue=_val.length<11&&"datetime"==_pattern.left(8)?_val.substr(0,4)+ynm+_val.substr(4,2)+mnd+_val.substr(6,2)+dnt+_val.substr(8,2):"datetime"==_pattern.left(8)?_val.substr(0,4)+ynm+_val.substr(4,2)+mnd+_val.substr(6,2)+dnt+_val.substr(8,2)+tnt+_val.substr(10,2)+function(){return""!=_val.substr(12,2)?tnt+_val.substr(12,2):""}():_val.substr(0,4)+ynm+_val.substr(4,2)+mnd+_val.substr(6,2);return returnValue},getNumberApplyConfig=function(_val,valType){if("float"==valType&&Object.isNumber(obj.config.max_round)){var dotIndex=0;(dotIndex=_val.indexOf("."))>-1&&(_val=_val.substring(0,dotIndex+1)+_val.substr(dotIndex+1).replace(/\D/g,"").left(obj.config.max_round))}var __val=_val.replace(/\D/g,"");return Object.isNumber(obj.config.max_length)&&__val.length>obj.config.max_length&&(_val=obj.config.allow_minus&&"-"==val.left(1)?"-"+__val.left(obj.config.max_length):__val.left(obj.config.max_length)),__val=null,_val},getFormatterTime=function(_val,_pattern,tnt){var returnValue="";if(""==_val);else if("blur"==eventType){new Date;if(_val.length>2)var hh=_val.substr(0,2).number(),mi=_val.substr(2,2).number();else if(_val.length>0)var hh=_val.substr(0,2).number(),mi=0;else var hh=0,mi=0;hh>23&&(hh=23),mi>59&&(mi=59),returnValue=hh.setDigit(2)+tnt+mi.setDigit(2)}else returnValue=_val.length<3?_val:_val.substr(0,2)+tnt+_val.substr(2,2);return returnValue};if("money"==obj.config.pattern||"moneyint"==obj.config.pattern||"number"==obj.config.pattern||"numberint"==obj.config.pattern){if("moneyint"==obj.config.pattern)val=val.replace(/[^0-9^\-]/g,""),"blur"==eventType&&(val=getNumberApplyConfig(val,"int")),returnValue=""==val?"":Math.ceil(val).money();else if("money"==obj.config.pattern){val=val.replace(/[^0-9^\.^\-]/g,""),"blur"==eventType&&(val=getNumberApplyConfig(val,"float")),regExpPattern=new RegExp("([0-9])([0-9][0-9][0-9][,.])");var arrNumber=val.split(".");arrNumber[0]+=".";do{arrNumber[0]=arrNumber[0].replace(regExpPattern,"$1,$2")}while(regExpPattern.test(arrNumber[0]));returnValue=arrNumber.length>1?Object.isNumber(obj.config.max_round)?arrNumber[0]+arrNumber[1].left(obj.config.max_round):arrNumber.join(""):arrNumber[0].split(".")[0],"blur"==eventType&&"."==returnValue.right(1)&&(returnValue=returnValue.replace(/\./g,""))}else if("numberint"==obj.config.pattern)val=val.replace(/[^0-9^\-]/g,""),"blur"==eventType&&(val=getNumberApplyConfig(val,"int")),returnValue=""==val?"":Math.ceil(val);else if("number"==obj.config.pattern){val=val.replace(/[^0-9^\.^\-]/g,""),"blur"==eventType&&(val=getNumberApplyConfig(val,"float"));var arrNumber=val.split(".");arrNumber[0]+=".",returnValue=arrNumber.length>1?Object.isNumber(obj.config.max_round)?arrNumber[0]+arrNumber[1].left(obj.config.max_round):arrNumber.join(""):arrNumber[0].split(".")[0],"blur"==eventType&&"."==returnValue.right(1)&&(returnValue=returnValue.replace(/\./g,""))}returnValue=obj.config.allow_minus?returnValue.toString().substring(0,1)+returnValue.toString().substr(1).replace(/\-/g,""):returnValue.toString().replace(/\-/g,"")}else if("bizno"==obj.config.pattern)val=val.replace(/\D/g,""),regExpPattern=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,returnValue=val.replace(regExpPattern,function(a,b){var nval=[arguments[1]];return arguments[2]&&nval.push(arguments[2]),arguments[3]&&nval.push(arguments[3]),nval.join("-")});else if("phone"==obj.config.pattern){val=val.replace(/\D/g,""),regExpPattern=/^(010|011|016|017|018|019)(\d+)*$/;var regExpPattern2=/^(070|080|060|050|02|031|032|033|041|042|043|051|052|053|054|055|061|062|063|064)(\d+)*$/;if(regExpPattern.test(val))returnValue=val.replace(regExpPattern,function(a,b){var nval=[arguments[1]];return arguments[2]&&(arguments[2].length<4?nval.push(arguments[2]):arguments[2].length<8?nval.push(arguments[2].substring(0,3)+"-"+arguments[2].substr(3)):arguments[2].length>8?nval.push(arguments[2].substring(0,4)+"-"+arguments[2].substr(4,4)+", "+arguments[2].substr(8)):nval.push(arguments[2].substring(0,4)+"-"+arguments[2].substr(4,4))),nval.join("-")});else if(regExpPattern2.test(val))returnValue=val.replace(regExpPattern2,function(a,b){var nval=[arguments[1]];return arguments[2]&&(arguments[2].length<4?nval.push(arguments[2]):arguments[2].length<8?nval.push(arguments[2].substring(0,3)+"-"+arguments[2].substr(3)):arguments[2].length>8?nval.push(arguments[2].substring(0,4)+"-"+arguments[2].substr(4,4)+", "+arguments[2].substr(8)):nval.push(arguments[2].substring(0,4)+"-"+arguments[2].substr(4,4))),nval.join("-")});else{var regExpPattern3=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;returnValue=val.replace(regExpPattern3,function(a,b){var nval=[arguments[1]];return arguments[2]&&nval.push(arguments[2]),arguments[3]&&nval.push(arguments[3]),arguments[4]&&nval.push(arguments[4]),arguments[5]&&nval.push(arguments[5]),nval.join("-")})}}else if("date"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"-","-"," ",":");else if("date(/)"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"/","/"," ",":");else if("date(년월일)"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"년","월","일",":");else if("datetime"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"-","-"," ",":");else if("datetime(/)"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"/","/"," ",":");else if("datetime(년월일)"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterDate(val,obj.config.pattern,"년","월","일","시");else if("time"==obj.config.pattern)val=val.replace(/\D/g,""),returnValue=getFormatterTime(val,obj.config.pattern,":");else{if("custom"==obj.config.pattern){val=val.replace(/[^0-9^a-z^A-Z]/g,"");var ess=val.split(""),pss=obj.config.patternString.split("");"blur"==eventType&&(obj.originalValue=val);for(var newText="",eidx=0,pidx=0;ess[eidx];)"9"==pss[pidx]?(newText+=ess[eidx].number(),pidx++,eidx++):"Z"==pss[pidx]?(ess[eidx]>0?newText+=ess[eidx]:newText+="1",pidx++,eidx++):"X"==pss[pidx]?(newText+="blur"==eventType?"*":ess[eidx],pidx++,eidx++):void 0!==pss[pidx]?(newText+=pss[pidx],pidx++):(newText+=ess[eidx],eidx++);return newText}returnValue=Object.isFunction(obj.config.pattern)?obj.config.pattern.call({val:val,objID:objID,config:obj.config},val):val}return returnValue},bindPatternGetText:function(objID,objSeq){if(!Object.isNumber(objSeq))for(var index=0;index<this.objects.length;index++)if(this.objects[index].id==objID){objSeq=index;break}if(Object.isNumber(objSeq)){var obj=this.objects[objSeq],val=obj.bindTarget.val();return"moneyint"==obj.config.pattern?val.replace(/[\D]/g,""):"money"==obj.config.pattern?""==val?"":val.number():"bizno"==obj.config.pattern?val.replace(/\D/g,""):"phone"==obj.config.pattern?val.replace(/\D/g,""):"date"==obj.config.pattern||"date(/)"==obj.config.pattern||"date(년월일)"==obj.config.pattern?val.replace(/\D/g,""):"datetime"==obj.config.pattern||"datetime(/)"==obj.config.pattern||"datetime(년월일)"==obj.config.pattern?val.replace(/\D/g,""):"time"==obj.config.pattern?val.replace(/\D/g,""):"custom"==obj.config.pattern?obj.originalValue:Object.isFunction(obj.config.depattern)?obj.config.depattern.call({val:val,objID:objID,config:obj.config},val):val}},bindPatternGetDisplayText:function(objID,objSeq){if(!Object.isNumber(objSeq))for(var index=0;index<this.objects.length;index++)if(this.objects[index].id==objID){objSeq=index;break}if(Object.isNumber(objSeq)){var obj=this.objects[objSeq],val=obj.bindTarget.val();return Object.isFunction(obj.config.depattern)?obj.config.depattern.call({val:val,objID:objID,config:obj.config},val):val}},bindPatternSetText:function(objID,objSeq,val){if(!Object.isNumber(objSeq))for(var index=0;index<this.objects.length;index++)if(this.objects[index].id==objID){objSeq=index;break}if(Object.isNumber(objSeq)){var obj=this.objects[objSeq];obj.bindTarget.val(this.bindPatternGetValue(objID,objSeq,val,"blur")),obj.bindTarget.trigger("change")}},bindTagSelector:function(objID,objSeq){var po,_this=this,cfg=this.config,obj=this.objects[objSeq];obj.config.onchange||(obj.config.onchange=obj.config.onChange),obj.bindAnchorTarget||(obj.bindAnchorTarget=axdom("#"+cfg.targetID+"_AX_"+objID)),obj.bindTarget||(obj.bindTarget=axdom("#"+objID)),obj.bindTarget_paddingTop||(obj.bindTarget_paddingTop=obj.bindTarget.css("padding-top")),obj.bindTarget.css({"box-sizing":"content-box",padding:obj.bindTarget_paddingTop}),obj.tagList=[],obj.deletedTagList=[],obj.bindAnchorTarget.show(),obj.bindAnchorTarget.data("height"),po=[],po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_tagContainer" class="AXTag-selector-tagcontainer">'),po.push("</div>"),obj.bindAnchorTarget.html(po.join("")),obj.tagContainer=obj.bindAnchorTarget.find("#"+cfg.targetID+"_AX_"+objID+"_AX_tagContainer"),obj.tagContainer.bind("click",function(e){var event_type="";e=e||window.event;var target=axf.get_event_target(e.target,function(el){return axdom(el).hasClass("AXTag-selector-tagitem-remove")?(event_type="remove",!0):axdom(el).hasClass("AXTag-selector-tagitem")?(event_type="item",!0):void 0});target&&"remove"==event_type?this.bindTagSelector_removeItem(objID,objSeq,axdom(target).attr("data-tag-index")):target||obj.bindTarget.focus()}.bind(this)),obj.tagExpandBoxId=cfg.targetID+"_AX_"+objID+"_AX_expandBox",obj.bindTarget.unbind("focus.AXTagSelector").bind("focus.AXTagSelector",function(event){obj.keydownTimer&&clearTimeout(obj.keydownTimer),obj.keydownTimer=setTimeout(function(event){""!=event.target.value&&_this.bindTagSelector_onkeydown(event,objID,objSeq)}.bind(_this,event),100)}),obj.bindTarget.unbind("keydown.AXTagSelector").bind("keydown.AXTagSelector",function(event){if("disable"==obj.bindAnchorTarget.attr("disable")||"disable"==obj.bindTarget.attr("disable"))return!1;obj.keydownTimer&&clearTimeout(obj.keydownTimer),obj.keydownTimer=setTimeout(function(event){_this.bindTagSelector_onkeydown(event,objID,objSeq)}.bind(_this,event),100)})},bindTagSelector_onkeydown:function(e,objID,objSeq){var po,anchorWidth,anchorHeight,styles,focusedIndex,_this=this,cfg=this.config,obj=this.objects[objSeq];if("keydown"==e.type){if(""==e.target.value&&e.keyCode==axf.Event.KEY_BACKSPACE)return obj.tagList.length>0&&(obj.ready_backspace?(this.bindTagSelector_removeItem(objID,objSeq,obj.tagList.length-1),this.bindTagSelector_close(objID,objSeq),obj.config.focusedIndex=void 0,delete obj.ready_backspace):obj.ready_backspace=!0),this;if(delete obj.ready_backspace,e.keyCode==axf.Event.KEY_RETURN||e.keyCode==axf.Event.KEY_DOWN||e.keyCode==axf.Event.KEY_UP)return AXgetId(obj.tagExpandBoxId)?(e.keyCode==axf.Event.KEY_RETURN?void 0!==obj.config.focusedIndex&&(this.bindTagSelector_addItem(objID,objSeq,obj.config.focusedIndex),this.bindTagSelector_close(objID,objSeq),obj.config.focusedIndex=void 0):e.keyCode==axf.Event.KEY_DOWN?(focusedIndex=0,void 0!==obj.config.focusedIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on"),focusedIndex=Number(obj.config.focusedIndex)+1,obj.config.options.length<=focusedIndex&&(focusedIndex=obj.config.options.length-1)),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+focusedIndex+"_AX_option").addClass("on"),obj.config.focusedIndex=focusedIndex,obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+focusedIndex+"_AX_option")):e.keyCode==axf.Event.KEY_UP&&(focusedIndex=0,void 0!==obj.config.focusedIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on"),0>(focusedIndex=Number(obj.config.focusedIndex)-1)&&(focusedIndex=0)),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+focusedIndex+"_AX_option").addClass("on"),obj.config.focusedIndex=focusedIndex,obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+focusedIndex+"_AX_option")),this):this}if(!AXgetId(obj.tagExpandBoxId)){anchorWidth=obj.bindAnchorTarget.width()-2,anchorHeight=obj.bindAnchorTarget.data("height")-1,styles=[],styles.push("top:"+anchorHeight+"px"),styles.push("width:"+(obj.config.selectorWidth||anchorWidth)+"px"),styles.push("z-index:10000"),po=[],po.push('<div id="'+obj.tagExpandBoxId+'" class="bindSelectorNodes '+cfg.anchorSelectorExpandBoxClassName+'" style="'+styles.join(";")+'">'),po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandScroll" class="bindSelectorNodes '+cfg.anchorSelectorExpandScrollClassName+'">'),po.push('\t<div class="AXLoadingSmall bindSelectorNodes"></div>'),po.push("</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),obj.tagExpandBox=axdom("#"+obj.tagExpandBoxId),obj.tagExpandBoxScroll=obj.tagExpandBox.find("#"+cfg.targetID+"_AX_"+objID+"_AX_expandScroll"),obj.config.positionFixed&&obj.tagExpandBox.css({position:"fixed"});var offset=(obj.tagExpandBox.outerHeight(),obj.config.positionFixed?obj.bindAnchorTarget.position():obj.bindAnchorTarget.offset());obj.config.position&&(offset=obj.bindAnchorTarget.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top));var css={};css.top=offset.top+anchorHeight,"bottom"==obj.config.direction&&(css.top-=obj.tagExpandBox.outerHeight()),css.left=offset.left,obj.tagExpandBox.css(css),axdom(document.body).unbind("click.AXTagSelector").bind("click.AXTagSelector",function(e){obj.blurTimer&&clearTimeout(obj.blurTimer),obj.blurTimer=setTimeout(function(){_this.bindTagSelector_onclick(e||window.event,objID,objSeq)},100)}.bind(this)),obj.bindTarget.unbind("blur.AXTagSelector").bind("blur.AXTagSelector",function(e){obj.blurTimer&&clearTimeout(obj.blurTimer),obj.blurTimer=setTimeout(function(){_this.bindTagSelector_onclick(e||window.event,objID,objSeq)},700)}.bind(this))}this.bindTagSelector_setOptions(objID,objSeq,obj.bindTarget.val())},bindTagSelector_setOptions:function(objID,objSeq,kword){var po,next_fn,_this=this,cfg=this.config,obj=this.objects[objSeq],maxHeight=obj.config.maxHeight||130;obj.deletedTagList=obj.deletedTagList||[],next_fn=function(){if(0==po.length){var selectorOptionEmpty="";AXConfig.AXInput&&(selectorOptionEmpty=AXConfig.AXInput.selectorOptionEmpty||"empty options"),po.push('<div class="empty">'+selectorOptionEmpty+"</div>")}obj.tagExpandBoxScroll.html(po.join(""));var expandScrollHeight=obj.tagExpandBoxScroll.outerHeight();if(expandScrollHeight>maxHeight&&(expandScrollHeight=maxHeight),obj.tagExpandBox.css({height:expandScrollHeight+"px"}),obj.myUIScroll&&obj.myUIScroll.unbind(),obj.myUIScroll=new AXScroll,obj.myUIScroll.setConfig({CT_className:"AXScrollSmall",targetID:cfg.targetID+"_AX_"+objID+"_AX_expandBox",scrollID:cfg.targetID+"_AX_"+objID+"_AX_expandScroll",touchDirection:!1}),obj.myUIScroll.scrollTop(0),void 0!=obj.config.selectedIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.selectedIndex+"_AX_option").addClass("on"),obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.selectedIndex+"_AX_option"),obj.config.focusedIndex=obj.config.selectedIndex),"bottom"==obj.config.direction){var offset=obj.config.positionFixed?obj.bindAnchorTarget.position():obj.bindAnchorTarget.offset();obj.config.position&&(offset=obj.bindAnchorTarget.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top)),obj.tagExpandBox.css({top:offset.top-obj.tagExpandBox.outerHeight()})}if(void 0!==kword&&""!=kword){kword=kword.replace(/\//g,"\\/");for(var sw=axf.consonantKR((kword||"").dec()),reAt=new RegExp("^"+sw+".*","i"),ix=null,i=0,l=obj.config.options.length;i<l;i++)if(reAt.test(obj.config.options[i][obj.config.reserveKeys.optionText]||"")){ix=i;break}null!=ix&&(void 0!==obj.config.focusedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+ix+"_AX_option").addClass("on"),obj.config.focusedIndex=ix,obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+ix+"_AX_option"))}else void 0!=obj.config.focusedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on")};var get_options=function(options){for(var npo=[],i=0,l=options.length;i<l;i++){var O=options[i];O[obj.config.reserveKeys.optionText]=O[obj.config.reserveKeys.optionText]?O[obj.config.reserveKeys.optionText].dec():"",O.desc=O.desc?O.desc.dec():"",O.optionDesc=O.optionDesc?O.optionDesc.dec():"";var styles,descStr=O.desc||O.optionDesc;""!=descStr&&(descStr="<span>"+descStr+"</span>"),styles="";for(var tag,ti=0,tl=obj.tagList.length;ti<tl;ti++)tag=obj.tagList[ti],tag[obj.config.reserveKeys.optionValue]==O[obj.config.reserveKeys.optionValue]&&(styles=' style="text-decoration: line-through;"');npo.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+"_AX_"+i+'_AX_option" class="bindSelectorNodes" '+styles+">"+O[obj.config.reserveKeys.optionText]+descStr+"</a>")}return npo};if(obj.config.ajaxUrl&&""!=kword){obj.inProgress=!0;var url=obj.config.ajaxUrl,pars=obj.config.ajaxPars||{},_method="post",_headers={},_contentType=AXConfig.AXReq.contentType,_responseType=AXConfig.AXReq.responseType,_dataType=AXConfig.AXReq.dataType,_async=AXConfig.AXReq.async;obj.config.method&&(_method=obj.config.method),obj.config.headers&&(_headers=obj.config.headers),obj.config.contentType&&(_contentType=obj.config.contentType),obj.config.responseType&&(_responseType=obj.config.responseType),obj.config.dataType&&(_dataType=obj.config.dataType),obj.config.ajaxAsync&&(_async=obj.config.ajaxAsync);var selectorName=obj.config.selectorName||obj.bindTarget.attr("name");""==pars?pars=selectorName+"="+(kword||"").enc():"string"==(typeof pars).toLowerCase()?pars+="&"+selectorName+"="+kword.enc():"object"==(typeof pars).toLowerCase()&&(pars[selectorName]=kword.enc()),new AXReq(url,{type:_method,headers:_headers,contentType:_contentType,responseType:_responseType,dataType:_dataType,async:_async,debug:void 0!==obj.config.debug&&obj.config.debug,pars:pars,onsucc:function(res){res.error?axf.alert(res.error):(obj.config.options=res[obj.config.reserveKeys.options]||[],obj.config.focusedIndex=void 0,po=get_options(obj.config.options),next_fn.call(_this)),obj.inProgress=!1}})}else if(obj.config.onsearch){obj.config.onsearch.call({id:objID,value:kword},objID,kword,function(res){obj.config.options=res,obj.config.focusedIndex=void 0,po=get_options(obj.config.options),next_fn.call(_this)}.bind(this))}else{if(!obj.config.options)return console.log("config.options is not defined"),this;po=get_options(obj.config.options),next_fn.call(this)}},bindTagSelector_onclick:function(e,objID,objSeq){this.config,this.objects[objSeq];if("blur"==e.type)this.bindTagSelector_close(objID,objSeq);else if("click"==e.type){var click_type="",target=axf.get_event_target(e.target,function(el){return axdom(el).hasClass("bindSelectorNodes")?(click_type="option",!0):el.id==objID?(click_type="input",!0):void 0});if(target){if("option"==click_type){var ids=target.id.split(/_AX_/g),optionIndex=ids[ids.length-2];this.bindTagSelector_addItem(objID,objSeq,optionIndex),this.bindTagSelector_close(objID,objSeq)}}else this.bindTagSelector_close(objID,objSeq)}},bindTagSelector_close:function(objID,objSeq){var obj=(this.config,this.objects[objSeq]);obj.tagExpandBox&&obj.tagExpandBox.remove(),axdom(document.body).unbind("click.AXTagSelector"),obj.bindTarget.unbind("blur.AXTagSelector")},bindTagSelector_addItem:function(objID,objSeq,optionIndex){var objName,po,addOption,pass_add,obj=(this.config,this.objects[objSeq]);if(isNaN(Number(optionIndex)))return console.log("optionIndex is NaN"),this;addOption=obj.config.options[optionIndex],pass_add=!0;for(var tag,i=0,l=obj.tagList.length;i<l;i++)if(tag=obj.tagList[i],tag[obj.config.reserveKeys.optionValue]==addOption[obj.config.reserveKeys.optionValue]){pass_add=!1;break}pass_add&&(objName=obj.bindTarget.attr("name"),po=[],obj.config.optionValue_inputName||(obj.config.optionValue_inputName=objName),po.push('<span class="AXTag-selector-tagitem" data-option-value="'+addOption[obj.config.reserveKeys.optionValue]+'">'),obj.config.optionValue_inputName&&po.push('<input type="hidden" name="'+obj.config.optionValue_inputName+'" value="'+addOption[obj.config.reserveKeys.optionValue]+'" />'),obj.config.optionText_inputName&&po.push('<input type="hidden" name="'+obj.config.optionText_inputName+'" value="'+addOption[obj.config.reserveKeys.optionText]+'" />'),po.push(addOption[obj.config.reserveKeys.optionText]),po.push('<span class="AXTag-selector-tagitem-remove" data-tag-index="'+obj.tagList.length+'"></span>'),po.push("</span>"),obj.tagContainer.append(po.join("")),obj.tagList.push(addOption),obj.bindTarget.css({"padding-top":obj.tagContainer.height()}).val(""),obj.bindAnchorTarget.data("height",obj.bindTarget.outerHeight()),axdom(window).resize())},bindTagSelector_removeItem:function(objID,objSeq,tagIndex){var po,obj=(this.config,this.objects[objSeq]),objName=obj.bindTarget.attr("name");void 0!==tagIndex&&(obj.tagContainer.find('[data-tag-index="'+tagIndex+'"]').remove(),obj.deletedTagList.push(obj.tagList[tagIndex]),obj.tagList.splice(tagIndex,1)),po=[];for(var tag,i=0,l=obj.tagList.length;i<l;i++)tag=obj.tagList[i],po.push('<span class="AXTag-selector-tagitem" data-option-value="'+tag[obj.config.reserveKeys.optionValue]+'">'),po.push('<input type="hidden" name="'+objName+'" value="'+tag[obj.config.reserveKeys.optionValue]+'" />'),po.push(tag[obj.config.reserveKeys.optionText]),po.push('<span class="AXTag-selector-tagitem-remove" data-tag-index="'+i+'"></span>'),po.push("</span>");obj.tagContainer.html(po.join("")),0==obj.tagList.length?obj.bindTarget.css({"padding-top":obj.bindTarget_paddingTop}).val(""):obj.bindTarget.css({"padding-top":obj.tagContainer.height()}).val(""),obj.bindAnchorTarget.data("height",obj.bindTarget.outerHeight()),axdom(window).resize()},bindTagSelector_setItem:function(objID,tags){for(var obj,objSeq=(this.config,null),i=0,l=this.objects.length;i<l;i++)if(this.objects[i].id===objID){objSeq=i;break}if(obj=this.objects[objSeq],obj.deletedTagList=[],Object.isArray(tags)){obj.tagList=[];for(var tag,i=0,l=tags.length;i<l;i++){var tag=tags[i];void 0===tag[obj.config.reserveKeys.optionValue]&&(tag[obj.config.reserveKeys.optionValue]=tag.toString()),void 0===tag[obj.config.reserveKeys.optionText]&&(tag[obj.config.reserveKeys.optionText]=tag.toString()),obj.tagList.push(tag)}this.bindTagSelector_removeItem(objID,objSeq)}return this},bindTagSelector_getItem:function(objID){for(var obj,objSeq=(this.config,null),i=0,l=this.objects.length;i<l;i++)if(this.objects[i].id===objID){objSeq=i;break}return obj=this.objects[objSeq],{list:obj.tagList,deletedList:obj.deletedTagList}}}),AXInputPro=new AXInputConverterPro;AXInputPro.setConfig({targetID:"inputBasic"}),axdom.fn.bindPattern=function(config){return axf.each(this,function(){this.id||(this.id="AXInputPro-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="pattern",AXInputPro.bind(config)}),this},axdom.fn.bindPatternSetConfig=function(config){return axf.each(this,function(){AXInputPro.bindSetConfig(this.id,config)}),this},axdom.fn.bindPatternGetText=function(){var returnVals="";return axf.each(this,function(){var getVal=AXInputPro.bindPatternGetText(this.id);""==returnVals?returnVals=getVal:Object.isString(returnVals)?(returnVals=[returnVals],returnVals.push(getVal)):Object.isArray(returnVals)&&returnVals.push(getVal)}),returnVals},axdom.fn.bindPatternSetText=function(val){return axf.each(this,function(){AXInputPro.bindPatternSetText(this.id,null,val)}),this},axdom.fn.bindPatternGetDisplayText=function(){var returnVals="";return axf.each(this,function(){var getVal=AXInputPro.bindPatternGetDisplayText(this.id);""==returnVals?returnVals=getVal:Object.isString(returnVals)?(returnVals=[returnVals],returnVals.push(getVal)):Object.isArray(returnVals)&&returnVals.push(getVal)}),returnVals},axdom.fn.bindTagSelector=function(config){return axf.each(this,function(){this.id||(this.id="AXInputPro-"+axf.getUniqueId()),config=config||{},config.id=this.id,config.bindType="tagSelector",AXInputPro.bind(config)}),this},axdom.fn.bindTagSelector_setItem=function(list){return axf.each(this,function(){AXInputPro.bindTagSelector_setItem(this.id,list)}),this},axdom.fn.bindTagSelector_getItem=function(){if(this[0])return AXInputPro.bindTagSelector_getItem(this[0].id)};var AXSelectConverter=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.objects=[],this.config.anchorClassName="AXanchor",this.config.anchorSelectClassName="AXanchorSelect"},init:function(){var browser=AXUtil.browser;this.isMobile=browser.mobile,axdom(window).resize(this.alignAllAnchor.bind(this)),this.config.reserveKeys={options:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptions||"options",optionValue:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionValue||"optionValue",optionText:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionText||"optionText",optionData:AXConfig.AXSelect&&AXConfig.AXSelect.keyOptionData||"optionData"}},windowResize:function(){var windowResizeApply=this.windowResizeApply.bind(this);this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.windowResizeObserver=setTimeout(function(){windowResizeApply()},10)},windowResizeApply:function(){this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.alignAllAnchor()},alignAllAnchor:function(){for(var i=0;i<this.objects.length;i++)this.alignAnchor(this.objects[i].id,i)},bindSetConfig:function(objID,configs){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null==findIndex);else{var _self=this.objects[findIndex];axdom.each(configs,function(k,v){_self.config[k]=v})}},unbind:function(obj){for(var removeAnchorId,removeIdx,O,index=0;index<this.objects.length&&(O=this.objects[index]);index++)O.id!=obj.id||1!=O.isDel&&(removeAnchorId=O.anchorID,removeIdx=index);if(removeAnchorId){var objDom=axdom("#"+obj.id),objAnchorDom=axdom("#"+removeAnchorId);this.objects[removeIdx].isDel=!0,objDom.removeAttr("data-axbind"),objDom.css({visibility:"visible"}),this.isMobile?(objAnchorDom.before(axdom("#"+obj.id)),objAnchorDom.remove()):(objAnchorDom.remove(),objDom.show())}},bind:function(obj){var cfg=this.config;AXgetId(obj.id)||(obj.id="AXSelect-"+axf.getUniqueId());var objID=obj.id,objSeq=null,objConfig={},reserveKeys=jQuery.extend({},cfg.reserveKeys);objConfig=jQuery.extend(objConfig,obj,!0),void 0===objConfig.reserveKeys&&(objConfig.reserveKeys={}),objConfig.reserveKeys=jQuery.extend(reserveKeys,objConfig.reserveKeys,!0);for(var O,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){objSeq=index;break}void 0===objConfig.href&&(objConfig.href=cfg.href),null==objSeq?(objSeq=this.objects.length,this.objects.push({id:objID,anchorID:cfg.targetID+"_AX_"+objID,config:objConfig})):(this.objects[objSeq].isDel=void 0,this.objects[objSeq].config=objConfig),this.appendAnchor(objID,objSeq),this.bindSelect(objID,objSeq),this.windowResize()},appendAnchor:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];AXgetId(cfg.targetID+"_AX_"+objID)&&axdom("#"+cfg.targetID+"_AX_"+objID).remove();var anchorNode=axdom('<div id="'+cfg.targetID+"_AX_"+objID+'" class="'+cfg.anchorClassName+'" style="display:none;"></div>'),iobj=axdom("#"+objID);iobj.attr("data-axbind","select"),this.isMobile?iobj.before(anchorNode):iobj.after(anchorNode);var iobjPosition=iobj.position(),l=iobjPosition.left,t=iobjPosition.top,w=0,h=0;w=iobj.outerWidth(),h=iobj.outerHeight();var css={left:l,top:t,width:w,height:h},objDom=axdom("#"+cfg.targetID+"_AX_"+objID);objDom.css(css),objDom.data("height",h),obj.iobj=iobj,obj.objDom=objDom},alignAnchor:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq],iobj=obj.iobj,iobjPosition=iobj.position(),l=iobjPosition.left,t=iobjPosition.top,w=0,h=0,borderT=(iobj.css("border-left-width").number(),iobj.css("border-top-width").number()),borderB=iobj.css("border-bottom-width").number(),marginW=iobj.css("margin-left").number();iobj.css("margin-top").number();l+=marginW,w=iobj.outerWidth(),h=iobj.outerHeight();var css={left:l,top:t,width:w,height:h};obj.objDom.css(css),obj.objDom.data("height",h),obj.objDom.find("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBox").css({width:w,height:h}),obj.objDom.find("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox").css({height:h-(borderT+borderB)+"px"}),obj.objDom.find("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectText").css({"line-height":h-(borderT+borderB)+"px"}),obj.objDom.find("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBoxArrow").css({height:h})},bindSelect:function(objID,objSeq){var options,sendObj,cfg=this.config,_this=this,obj=this.objects[objSeq],iobj=obj.iobj,objDom=obj.objDom;obj.config.onChange||(obj.config.onChange=obj.config.onchange),obj.config.onLoad||(obj.config.onLoad=obj.config.onload);var w=objDom.width(),h=objDom.data("height"),borderT=iobj.css("border-top-width").number(),borderB=iobj.css("border-bottom-width").number(),fontSize=iobj.css("font-size").number(),tabIndex=iobj.attr("tabindex"),po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_SelectBox" class="'+cfg.anchorSelectClassName+'" style="width:'+w+"px;height:"+h+'px;">'),po.push("<a "+obj.config.href+' class="selectedTextBox" id="'+cfg.targetID+"_AX_"+objID+'_AX_SelectTextBox" style="height:'+(h-(borderT+borderB))+'px;"'),po.push(' data-ax-anchor="axselect" '),iobj.attr("data-return-tab-next-focus-id")&&po.push(' data-return-tab-next-focus-id = "'+iobj.attr("data-return-tab-next-focus-id")+'"'),iobj.attr("data-return-tab-prev-focus-id")&&po.push(' data-return-tab-prev-focus-id = "'+iobj.attr("data-return-tab-prev-focus-id")+'"'),void 0!=tabIndex&&po.push(' tabindex="'+tabIndex+'"'),po.push(">"),po.push('\t<div class="selectedText" id="'+cfg.targetID+"_AX_"+objID+'_AX_SelectText" style="line-height:'+(h-(borderT+borderB))+"px;padding:0px 4px;font-size:"+fontSize+'px;"></div>'),po.push('\t<div class="selectBoxArrow" id="'+cfg.targetID+"_AX_"+objID+'_AX_SelectBoxArrow" style="height:'+h+'px;"></div>'),po.push("</a>"),po.push("</div>"),objDom.empty(),objDom.append(po.join("")),objDom.show();var objDom_selectTextBox=objDom.find("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox");obj.selectedIndex=AXgetId(objID).options.selectedIndex;for(var options=[],oi=0;oi<AXgetId(objID).options.length;oi++)options.push({optionValue:AXgetId(objID).options[oi].value,optionText:AXgetId(objID).options[oi].text.enc()});if(obj.options=AXUtil.copyObject(options),this.isMobile){iobj.css({opacity:0});var bindSelectChange=this.bindSelectChange.bind(this);obj.objOnChange=function(){bindSelectChange(objID,objSeq),obj.config.onChange&&(obj.selectedIndex=AXgetId(objID).options.selectedIndex,AXgetId(objID).options[obj.selectedIndex].selected=!0,obj.config.selectedObject=obj.options[obj.selectedIndex],options=AXgetId(objID).options[obj.selectedIndex],sendObj={optionIndex:obj.selectedIndex,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj))},objDom_selectTextBox.unbind("click.AXSelect").bind("click.AXSelect",function(event){axdom("#"+objID).click()}),iobj.addClass("rootSelectBox"),iobj.bind("change.AXSelect",obj.objOnChange)}else{iobj.css({visibility:"hidden"});var bindSelectExpand=this.bindSelectExpand.bind(this),bindSelectFocus=(this.bindSelectClose.bind(this),this.bindSelectFocus.bind(this)),bindSelectBlur=this.bindSelectBlur.bind(this);objDom_selectTextBox.bind("click.AXSelect",function(event){axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox").focus(),bindSelectExpand(objID,objSeq,!0,event)}),objDom_selectTextBox.bind("keydown.AXSelect",function(event){event.keyCode==AXUtil.Event.KEY_SPACE&&(bindSelectExpand(objID,objSeq,!0,event),_this.stopEvent(event)),event.keyCode!=AXUtil.Event.KEY_TAB&&event.keyCode!=AXUtil.Event.KEY_RETURN&&(_this.selectTextBox_onkeydown_obj?(clearTimeout(_this.selectTextBox_onkeydown_obj),_this.selectTextBox_onkeydown_data+=String.fromCharCode(event.keyCode)):_this.selectTextBox_onkeydown_data=String.fromCharCode(event.keyCode),_this.selectTextBox_onkeydown_obj=setTimeout(function(){_this.selectTextBox_onkeydown(objID,objSeq,event)},300))}),objDom_selectTextBox.bind("focus.AXSelect",function(event){bindSelectFocus(objID)}),objDom_selectTextBox.bind("blur.AXSelect",function(event){bindSelectBlur(objID)})}if(obj.config.ajaxUrl){var bindSelectChangeBind=this.bindSelectChange.bind(this),bindSelectChange=function(){bindSelectChangeBind(objID,objSeq,"load")},url=obj.config.ajaxUrl,pars=obj.config.ajaxPars,_method="post",_headers={},_contentType=AXConfig.AXReq.contentType,_responseType=AXConfig.AXReq.responseType,_dataType=AXConfig.AXReq.dataType,_async=AXConfig.AXReq.async;obj.config.method&&(_method=obj.config.method),obj.config.headers&&(_headers=obj.config.headers),obj.config.contentType&&(_contentType=obj.config.contentType),obj.config.responseType&&(_responseType=obj.config.responseType),obj.config.dataType&&(_dataType=obj.config.dataType),obj.config.ajaxAsync&&(_async=obj.config.ajaxAsync),obj.selectedIndex=null,iobj.html("<option></option>"),obj.inProgress=!0,new AXReq(url,{type:_method,headers:_headers,contentType:_contentType,responseType:_responseType,dataType:_dataType,async:_async,debug:void 0!==obj.config.debug&&obj.config.debug,pars:pars,onsucc:function(res){if(res.result&&res.result==AXConfig.AXReq.okCode||void 0==res.result&&!res.error){var po=[],adj=0;obj.config.options=res[obj.config.reserveKeys.options],obj.config.isspace&&(po.push("<option value='"+(obj.config.isspaceValue||"")+"'"),0==obj.selectedIndex&&po.push(' selected="selected"'),po.push(">"+(obj.config.isspaceTitle||"&nbsp;")+"</option>"),adj=-1);for(var opts,oidx=0;oidx<res[obj.config.reserveKeys.options].length&&(opts=res[obj.config.reserveKeys.options][oidx]);oidx++)po.push('<option value="'+opts[obj.config.reserveKeys.optionValue]+'" data-option="'+opts[obj.config.reserveKeys.optionData]+'" '),(obj.config.setValue==opts[obj.config.reserveKeys.optionValue]||opts.selected||(obj.selectedIndex||0).number()+adj==oidx)&&po.push(' selected="selected"'),po.push(">"+opts[obj.config.reserveKeys.optionText].dec()+"</option>");axdom("#"+objID).html(po.join(""));for(var options=[],oi=0;oi<AXgetId(objID).options.length;oi++)options.push({optionValue:AXgetId(objID).options[oi].value,optionText:AXgetId(objID).options[oi].text.enc(),optionData:AXgetId(objID).options[oi].getAttribute("data-option")});obj.options=AXUtil.copyObject(options),obj.selectedIndex=AXgetId(objID).options.selectedIndex,obj.config.onChange&&obj.config.alwaysOnChange&&(obj.config.focusedIndex=obj.selectedIndex,obj.config.selectedObject=obj.options[obj.selectedIndex],sendObj={optionIndex:obj.selectedIndex,optionValue:obj.options[obj.selectedIndex].optionValue,optionText:obj.options[obj.selectedIndex].optionText,optionData:obj.options[obj.selectedIndex].optionData,value:obj.options[obj.selectedIndex].optionValue,text:obj.options[obj.selectedIndex].optionText,data:obj.options[obj.selectedIndex].optionData},obj.config.onChange.call(sendObj,sendObj,"isPostBack")),bindSelectChange(),obj.config.onLoad&&(sendObj={selectedIndex:obj.selectedIndex,selectedObject:obj.options[obj.selectedIndex],options:obj.options,response:res},obj.config.onLoad.call(sendObj,sendObj)),_this.alignAnchor(objID,objSeq)}obj.inProgress=!1}})}else if(obj.config.options){iobj.html("<option></option>");var po=[],adj=0;obj.config.isspace&&(po.push("<option value='"+(obj.config.isspaceValue||"")+"'"),0==obj.selectedIndex&&po.push(' selected="selected"'),po.push(">"+(obj.config.isspaceTitle||"&nbsp;")+"</option>"),adj=-1);for(var opts,oidx=0;oidx<obj.config.options.length&&(opts=obj.config.options[oidx]);oidx++){var optionText=(opts[obj.config.reserveKeys.optionText]||"").dec();po.push('<option value="'+opts[obj.config.reserveKeys.optionValue]+'"'),(obj.config.setValue==opts[obj.config.reserveKeys.optionValue]||opts.selected||obj.selectedIndex.number()+adj==oidx)&&po.push(' selected="selected"'),po.push(">"+optionText+"</option>")}iobj.html(po.join(""));for(var options=[],oi=0;oi<AXgetId(objID).options.length;oi++)options.push({optionValue:AXgetId(objID).options[oi].value,optionText:AXgetId(objID).options[oi].text.enc()});if(obj.options=AXUtil.copyObject(options),obj.selectedIndex=AXgetId(objID).options.selectedIndex,this.bindSelectChange(objID,objSeq,"load"),obj.config.onChange&&obj.config.alwaysOnChange&&(obj.config.focusedIndex=obj.selectedIndex,obj.config.selectedObject=obj.options[obj.selectedIndex],options=AXgetId(objID).options[obj.selectedIndex],options||(options={value:"",text:""}),sendObj={optionIndex:obj.selectedIndex,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj,"isPostBack")),obj.config.onLoad){var selectedOption=this.getSelectedOption(objID,objSeq);obj.config.onLoad.call({selectedIndex:obj.selectedIndex,selectedObject:{optionValue:selectedOption.value,optionText:selectedOption.text}})}this.alignAnchor(objID,objSeq)}else{if(this.bindSelectChange(objID,objSeq,"load"),obj.config.onChange&&obj.config.alwaysOnChange){var selectedOption=this.getSelectedOption(objID,objSeq);selectedOption&&(sendObj={optionIndex:selectedOption.index,optionValue:selectedOption.value,optionText:selectedOption.text,value:selectedOption.value,text:selectedOption.text},obj.config.onChange.call(sendObj,sendObj,"isPostBack"))}if(obj.config.onLoad){var selectedOption=this.getSelectedOption(objID,objSeq);obj.config.onLoad.call({selectedIndex:obj.selectedIndex,selectedObject:{optionValue:selectedOption.value,optionText:selectedOption.text}})}this.alignAnchor(objID,objSeq)}},selectTextBox_onkeydown:function(objID,objSeq,event){for(var O,_this=(this.config,this),obj=this.objects[objSeq],bindSelectClose=this.bindSelectClose.bind(this),chkVal=_this.selectTextBox_onkeydown_data||"",chkIndex=null,index=0;index<obj.options.length&&(O=obj.options[index]);index++)if(O.optionValue.left(chkVal.length).lcase()==chkVal.lcase()||O.optionText.left(chkVal.length).lcase()==chkVal.lcase()){chkIndex=index;break}null!=chkIndex&&(obj.selectedIndex=chkIndex,obj.config.focusedIndex=chkIndex,obj.config.selectedObject=obj.options[chkIndex],obj.config.isChangedSelect=!0,bindSelectClose(objID,objSeq,event)),_this.selectTextBox_onkeydown_data=""},getSelectedOption:function(objID,objSeq){var obj=(this.config,this.objects[objSeq]);if(AXgetId(objID)&&AXgetId(objID).options.selectedIndex>-1){try{obj.selectedIndex!=AXgetId(objID).options.selectedIndex&&(obj.selectedIndex=AXgetId(objID).options.selectedIndex)}catch(e){}var options=AXgetId(objID).options[AXgetId(objID).options.selectedIndex];return{value:options.value,text:options.text,data:options.getAttribute("data-option"),index:AXgetId(objID).options.selectedIndex}}obj.selectedIndex=0;var options=AXgetId(objID).options[0];return options=options?{value:options.value,text:options.text,data:options.getAttribute("data-option")}:{value:"",text:"",data:""},{value:options.value,text:options.text,data:options.data,index:0}},bindSelectChange:function(objID,objSeq,isLoad){var cfg=this.config,obj=this.objects[objSeq],selectedOption=this.getSelectedOption(objID,objSeq);selectedOption&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectText").html(selectedOption.text),obj&&!this.isMobile&&(obj.iobj||(obj.iobj=axdom("#"+objID)),"load"!=isLoad&&obj.iobj.trigger("change"))},bindSelectExpand:function(objID,objSeq,isToggle,event){var _this=this,cfg=this.config,obj=this.objects[objSeq],jqueryTargetObjID=axdom("#"+cfg.targetID+"_AX_"+objID);if(!jqueryTargetObjID.data("disabled")){if(isToggle&&AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))return void(obj.config.isChangedSelect?this.bindSelectClose(objID,objSeq,event):(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBoxArrow").removeClass("on"),axdom(document).unbind("click.AXSelect"),axdom(document).unbind("keydown.AXSelect")));axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBoxArrow").removeClass("on");var anchorWidth=axdom("#"+cfg.targetID+"_AX_"+objID).width()-2,anchorHeight=axdom("#"+cfg.targetID+"_AX_"+objID).data("height")-1,styles=[];styles.push("width:"+anchorWidth+"px");var po=[];po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandBox" class="AXselectExpandBox" style="'+styles.join(";")+'">'),po.push('<div id="'+cfg.targetID+"_AX_"+objID+'_AX_expandScroll" class="AXselectExpandScroll">'),po.push('\t<div class="AXLoadingSmall"></div>'),po.push("</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBoxArrow").addClass("on");var expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox");obj.config.positionFixed&&expandBox.css({position:"fixed"});var expBoxHeight=expandBox.outerHeight(),offset=obj.config.positionFixed?jqueryTargetObjID.position():jqueryTargetObjID.offset();obj.config.position&&(offset=jqueryTargetObjID.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top));var css={};css.top=offset.top+anchorHeight,css.left=offset.left;var bodyHeight;bodyHeight="Q"==AXUtil.docTD?document.body.scrollHeight:document.documentElement.scrollHeight,obj.config.positionFixed||bodyHeight<css.top.number()+expBoxHeight&&(css={top:offset.top-expBoxHeight,left:offset.left}),expandBox.css(css),obj.config.onexpand?obj.config.onexpand.call({obj:obj,objID:objID,objSeq:objSeq},function(args){if(void 0!==args){obj.options=obj.config.options=axf.copyObject(args.options);var po=[],adj=0;obj.config.isspace&&(po.push("<option value='"+(obj.config.isspaceValue||"")+"'"),0==obj.selectedIndex&&po.push(' selected="selected"'),po.push(">"+(obj.config.isspaceTitle||"&nbsp;")+"</option>"),adj=-1);for(var opts,oidx=0;oidx<obj.options.length;oidx++){var opts=obj.options[oidx];po.push('<option value="'+opts[obj.config.reserveKeys.optionValue]+'" data-option="'+opts[obj.config.reserveKeys.optionData]+'" '),(obj.config.setValue==opts[obj.config.reserveKeys.optionValue]||opts.selected||(obj.selectedIndex||0).number()+adj==oidx)&&po.push(' selected="selected"'),po.push(">"+opts[obj.config.reserveKeys.optionText].dec()+"</option>")}axdom("#"+objID).html(po.join("")),_this.bindSelectSetOptions(objID,objSeq),_this.alignAnchor(objID,objSeq)}}):this.bindSelectSetOptions(objID,objSeq)}},bindSelectClose:function(objID,objSeq,event){var options,sendObj,obj=this.objects[objSeq],cfg=this.config;if(AXgetId(cfg.targetID+"_AX_"+objID+"_AX_expandBox"))return axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").remove(),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectBoxArrow").removeClass("on"),axdom(document).unbind("click.AXSelect"),axdom(document).unbind("keydown.AXSelect"),axdom(document.body).off("focus.AXSelect","input,select,button,a,textarea"),obj.config.isChangedSelect&&(AXgetId(objID).options[obj.selectedIndex].selected=!0,obj.config.onChange&&(options=AXgetId(objID).options[obj.selectedIndex],sendObj={optionIndex:obj.selectedIndex,optionValue:options.value,optionText:options.text,optionData:options.getAttribute("data-option"),value:options.value,text:options.text,data:options.data},obj.config.onChange.call(sendObj,sendObj)),obj.config.isChangedSelect=!1,this.bindSelectChange(objID,objSeq)),void(event&&event.stopPropagation());obj.config.isChangedSelect&&(AXgetId(objID).options[obj.selectedIndex].selected=!0,obj.config.onChange&&(options=AXgetId(objID).options[obj.selectedIndex],sendObj={optionIndex:obj.selectedIndex,optionValue:options.value,optionText:options.text,optionData:options.getAttribute("data-option"),value:options.value,text:options.text,data:options.data},obj.config.onChange.call(sendObj,sendObj)),obj.config.isChangedSelect=!1,this.bindSelectChange(objID,objSeq))},bindSelectSetOptions:function(objID,objSeq){var obj=this.objects[objSeq],cfg=this.config,jqueryTargetObjID=axdom("#"+cfg.targetID+"_AX_"+objID),maxHeight=obj.config.maxHeight||200;if(obj.options){0==obj.options.length&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").hide();for(var O,po=[],index=0;index<obj.options.length&&(O=obj.options[index]);index++)po.push("<a "+obj.config.href+' id="'+cfg.targetID+"_AX_"+objID+"_AX_"+index+'_AX_option">'+O.optionText.dec()+"</a>");axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandScroll").html(po.join(""));var expandScrollHeight=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandScroll").height();expandScrollHeight>maxHeight&&(expandScrollHeight=maxHeight),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox").css({height:expandScrollHeight+"px"});var bindSelectOptionsClick=this.bindSelectOptionsClick.bind(this);obj.documentclickEvent=function(event){bindSelectOptionsClick(objID,objSeq,event)};var bindSelectKeyup=this.bindSelectKeyup.bind(this);obj.documentKeyup=function(event){bindSelectKeyup(objID,objSeq,event)},axdom(document).unbind("click.AXSelect").bind("click.AXSelect",obj.documentclickEvent),axdom(document).unbind("keydown.AXSelect").bind("keydown.AXSelect",obj.documentKeyup),axdom(document.body).off("focus.AXSelect").on("focus.AXSelect","input,select,button,a,textarea",obj.documentclickEvent),obj.myUIScroll&&obj.myUIScroll.unbind(),obj.myUIScroll=new AXScroll,obj.myUIScroll.setConfig({CT_className:"AXScrollSmall",targetID:cfg.targetID+"_AX_"+objID+"_AX_expandBox",scrollID:cfg.targetID+"_AX_"+objID+"_AX_expandScroll",touchDirection:!1}),void 0!=obj.selectedIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.selectedIndex+"_AX_option").addClass("on"),obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+obj.selectedIndex+"_AX_option"),obj.config.focusedIndex=obj.selectedIndex);var bodyHeight;bodyHeight="Q"==AXUtil.docTD?document.body.clientHeight:document.documentElement.clientHeight;var anchorHeight=jqueryTargetObjID.data("height")-1,expandBox=axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_expandBox"),expBoxHeight=expandBox.outerHeight(),offset=obj.config.positionFixed?jqueryTargetObjID.position():jqueryTargetObjID.offset();obj.config.position&&(offset=jqueryTargetObjID.offset(),void 0!=obj.config.position.top&&(offset.top=obj.config.position.top));var css={};css.top=offset.top+anchorHeight,obj.config.positionFixed||bodyHeight<css.top.number()+expBoxHeight&&(css={top:offset.top-expBoxHeight,left:offset.left},expandBox.css(css))}},bindSelectOptionsClick:function(objID,objSeq,event){var obj=this.objects[objSeq],cfg=this.config,isSelectorClick=!1,eid=event.target.id.split(/_AX_/g),tgid=event.target.id;if(""==event.target.id?isSelectorClick=!1:(event.target.id==objID||eid[0]==cfg.targetID&&tgid.substr(eid[0].length+4,objID.length)==objID)&&(isSelectorClick=!0),isSelectorClick){if("option"==eid.last()){var selectedIndex=eid[eid.length-2];obj.selectedIndex=selectedIndex,obj.config.focusedIndex=selectedIndex,obj.config.selectedObject=obj.options[selectedIndex],obj.config.isChangedSelect=!0,this.bindSelectClose(objID,objSeq,event)}}else this.bindSelectClose(objID,objSeq,event)},bindSelectKeyup:function(objID,objSeq,event){var obj=this.objects[objSeq];this.config;if(event.keyCode==AXUtil.Event.KEY_TAB||event.keyCode==AXUtil.Event.KEY_ESC)return void this.bindSelectClose(objID,objSeq,event);if(event.keyCode==AXUtil.Event.KEY_UP){if(!obj.options)return;if(0==obj.options.length)return;var focusIndex=obj.options.length-1;void 0==obj.config.focusedIndex||0==obj.config.focusedIndex||(focusIndex=obj.config.focusedIndex-1),this.bindSelectorSelect(objID,objSeq,focusIndex),this.stopEvent(event)}else if(event.keyCode==AXUtil.Event.KEY_DOWN){if(!obj.options)return;if(0==obj.options.length)return;var focusIndex=0;void 0==obj.config.focusedIndex||obj.config.focusedIndex==obj.options.length-1||(focusIndex=obj.config.focusedIndex.number()+1),this.bindSelectorSelect(objID,objSeq,focusIndex),this.stopEvent(event)}else event.keyCode,AXUtil.Event.KEY_RETURN},bindSelectorSelect:function(objID,objSeq,index,changeValue){var obj=this.objects[objSeq],cfg=this.config;void 0!=obj.config.focusedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.config.focusedIndex+"_AX_option").removeClass("on"),axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+index+"_AX_option").addClass("on"),obj.config.focusedIndex=index,obj.selectedIndex=index,obj.config.selectedObject=obj.options[index],obj.config.isChangedSelect=!0,obj.myUIScroll.focusElement(cfg.targetID+"_AX_"+objID+"_AX_"+index+"_AX_option")},bindSelectorSelectClear:function(objID,objSeq){var obj=this.objects[objSeq],cfg=this.config;void 0!=obj.selectedIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_"+obj.selectedIndex+"_AX_option").removeClass("on"),obj.selectedIndex=null,obj.config.focusedIndex=null,obj.config.selectedObject=null,obj.config.isChangedSelect=!0},bindSelectChangeValue:function(objID,value,onEnd){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null!=findIndex){var options,sendObj,obj=this.objects[findIndex];this.config;if(this.isMobile){for(var oi=0;oi<AXgetId(objID).options.length;oi++)if(AXgetId(objID).options[oi].value==value){var selectedIndex=oi;AXgetId(objID).options[oi].selected=!0,obj.config.selectedObject={optionIndex:oi,optionValue:AXgetId(objID).options[oi].value,optionText:AXgetId(objID).options[oi].text.enc()},this.bindSelectChange(objID,findIndex),obj.config.onChange&&(options=AXgetId(objID).options[oi],sendObj={optionIndex:oi,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj));break}}else{for(var O,selectedIndex=null,oidx=0;oidx<obj.options.length&&(O=obj.options[oidx]);oidx++)if((O.optionValue||O.value||"")==value){selectedIndex=oidx;break}null!=selectedIndex&&(obj.selectedIndex=selectedIndex,obj.config.focusedIndex=selectedIndex,AXgetId(objID).options[obj.selectedIndex].selected=!0,obj.config.selectedObject=obj.options[selectedIndex],this.bindSelectChange(objID,findIndex),obj.config.onChange&&(options=AXgetId(objID).options[selectedIndex],sendObj={optionIndex:selectedIndex,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj)))}}},bindSelectDisabled:function(objID,_disabled){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null!=findIndex){var cfg=(this.objects[findIndex],this.config);if(axf.getId(objID).disabled="boolean"==typeof _disabled?_disabled:!AXgetId(objID).disabled,this.isMobile);else{var bindTarget=axdom("#"+cfg.targetID+"_AX_"+objID);bindTarget.data("disabled",axf.getId(objID).disabled),axf.getId(objID).disabled?bindTarget.find(".AXanchorSelect").addClass("disable"):bindTarget.find(".AXanchorSelect").removeClass("disable")}}},bindSelectUpdate:function(objID){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null!=findIndex){var selectedIndex,options,sendObj,obj=this.objects[findIndex];obj.config.onChange&&(selectedIndex=AXgetId(objID).options.selectedIndex,options=AXgetId(objID).options[selectedIndex],sendObj={optionIndex:selectedIndex,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj)),this.bindSelectChange(objID,findIndex)}},bindSelectFocus:function(objID,elFocus){for(var O,cfg=this.config,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}null!=findIndex&&(axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox").addClass("focus"),elFocus&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox").focus())},bindSelectBlur:function(objID){for(var O,cfg=this.config,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}null!=findIndex&&axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox").removeClass("focus")},bindSelectGetAnchorObject:function(objID){for(var O,cfg=this.config,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null!=findIndex)return axdom("#"+cfg.targetID+"_AX_"+objID+"_AX_SelectTextBox")},bindSelectGetValue:function(objID,onEnd){for(var O,findIndex=null,index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){findIndex=index;break}if(null==findIndex)return{optionValue:null,optionText:null,error:"바인드 된 오브젝트를 찾을 수 없습니다."};var obj=this.objects[findIndex];this.config;if(void 0!=obj.selectedIndex){var options=AXgetId(objID).options[obj.selectedIndex];return{optionValue:options.value,optionText:options.text,optionData:options.getAttribute("data-option")}}return{optionValue:null,optionText:null}},bindSelectAddOptions:function(objID,options){for(var O,objSeq=(this.config,null),index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){objSeq=index;break}if(null==objSeq)return void trace("not found element id");var obj=this.objects[objSeq],iobj=obj.iobj;if(!Object.isArray(options))return void trace("options 아규먼트가 없습니다.");for(var newOptions=obj.options,i=0;i<options.length;i++){for(var hasValue=!1,oi=0;oi<obj.options.length;oi++)obj.options[oi].optionValue==options[i].optionValue&&(hasValue=!0);hasValue||newOptions.push({optionText:options[i].optionText.enc(),optionValue:options[i].optionValue})}obj.options=newOptions,iobj.css({opacity:100});for(var opts,po=[],oidx=0;oidx<obj.options.length&&(opts=obj.options[oidx]);oidx++){var optionText=(opts.optionText||"").dec();po.push('<option value="'+opts.optionValue+'"'),obj.selectedIndex==oidx&&po.push(' selected="selected"'),po.push(">"+optionText+"</option>")}return iobj.empty(),iobj.append(po.join("")),this.alignAnchor(objID,objSeq),obj.options},bindSelectRemoveOptions:function(objID,options){for(var O,objSeq=(this.config,null),index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){objSeq=index;break}if(null==objSeq)return void trace("not found element id");var obj=this.objects[objSeq],iobj=obj.iobj;if(!Object.isArray(options))return void trace("options 아규먼트가 없습니다.");for(var newOptions=[],oi=0;oi<obj.options.length;oi++){for(var hasValue=!1,i=0;i<options.length;i++)obj.options[oi].optionValue==options[i].optionValue&&(hasValue=!0);hasValue||newOptions.push({optionText:obj.options[oi].optionText,optionValue:obj.options[oi].optionValue})}obj.options=newOptions,iobj.css({opacity:100});for(var opts,po=[],oidx=0;oidx<obj.options.length&&(opts=obj.options[oidx]);oidx++){var optionText=(opts.optionText||"").dec();po.push('<option value="'+opts.optionValue+'"'),obj.selectedIndex==oidx&&po.push(' selected="selected"'),po.push(">"+optionText+"</option>")}return iobj.empty(),iobj.append(po.join("")),this.alignAnchor(objID,objSeq),obj.options},bindSelectUpdateOptions:function(objID,options,optionIndex){for(var O,objSeq=(this.config,null),index=0;index<this.objects.length&&(O=this.objects[index]);index++)if(O.id==objID&&1!=O.isDel){objSeq=index;break}if(null==objSeq)return void trace("not found element id");var obj=this.objects[objSeq],iobj=obj.iobj;if(void 0===optionIndex&&!Object.isArray(options))return void trace("options 아규먼트가 없습니다.");var newOptions=[];if(void 0===optionIndex){for(var i=0;i<options.length;i++)newOptions.push(jQuery.extend({optionText:options[i].optionText.enc(),optionValue:options[i].optionValue},options[i]));obj.selectedIndex=0}else{var _adj=0;obj.config.isspace&&(_adj=1);for(var i=0;i<obj.config.options.length;i++)i+_adj==optionIndex?newOptions.push(jQuery.extend({optionText:options.optionText.enc(),optionValue:options.optionValue},options)):newOptions.push(obj.config.options[i])}obj.config.options=newOptions,iobj.css({opacity:100}),iobj.html("<option></option>");var po=[],adj=0;obj.config.isspace&&(po.push("<option value='"+(obj.config.isspaceValue||"")+"'"),0==obj.selectedIndex&&po.push(' selected="selected"'),po.push(">"+(obj.config.isspaceTitle||"&nbsp;")+"</option>"),adj=-1);for(var opts,oidx=0;oidx<obj.config.options.length&&(opts=obj.config.options[oidx]);oidx++){var optionText=(opts.optionText||"").dec();po.push('<option value="'+opts.optionValue+'"'),(obj.config.setValue==opts.optionValue||opts.selected||(obj.selectedIndex||0).number()+adj==oidx)&&po.push(' selected="selected"'),po.push(">"+optionText+"</option>")}iobj.html(po.join(""));for(var options=[],oi=0;oi<AXgetId(objID).options.length;oi++)options.push({optionValue:AXgetId(objID).options[oi].value,optionText:AXgetId(objID).options[oi].text.enc()});return obj.options=AXUtil.copyObject(options),obj.selectedIndex=AXgetId(objID).options.selectedIndex,this.bindSelectChange(objID,objSeq,"load"),obj.config.onChange&&obj.config.alwaysOnChange&&(obj.config.focusedIndex=obj.selectedIndex,obj.config.selectedObject=obj.options[obj.selectedIndex],options=AXgetId(objID).options[obj.selectedIndex],sendObj={optionIndex:obj.selectedIndex,optionValue:options.value,optionText:options.text,value:options.value,text:options.text},obj.config.onChange.call(sendObj,sendObj,"isPostBack")),this.alignAnchor(objID,objSeq),iobj.css({opacity:0}),this}}),AXSelect=new AXSelectConverter;AXSelect.setConfig({targetID:"AXselect"}),axdom.fn.unbindSelect=function(config){return axdom.each(this,function(){void 0==config&&(config={}),config.id=this.id,AXSelect.unbind(config)}),this},axdom.fn.bindSelect=function(config){return axdom.each(this,function(){this.id||(this.id="AXInput-"+axf.getUniqueId()),void 0==config&&(config={}),config.id=this.id,AXSelect.bind(config)}),this},axdom.fn.setConfigSelect=function(config){return axdom.each(this,function(){AXSelect.bindSetConfig(this.id,config)}),this},axdom.fn.bindSelectSetValue=function(value,onEnd){return axdom.each(this,function(){AXSelect.bindSelectChangeValue(this.id,value,onEnd)}),this},axdom.fn.bindSelectGetValue=function(onEnd){return AXSelect.bindSelectGetValue(this[0].id,onEnd)},axdom.fn.setValueSelect=function(value,onEnd){return axdom.each(this,function(){AXSelect.bindSelectChangeValue(this.id,value,onEnd)}),this},axdom.fn.bindSelectDisabled=function(Disabled){return axdom.each(this,function(){AXSelect.bindSelectDisabled(this.id,Disabled)}),this},axdom.fn.bindSelectUpdate=function(){return axdom.each(this,function(){AXSelect.bindSelectUpdate(this.id)}),this},axdom.fn.bindSelectFocus=function(){return axdom.each(this,function(){AXSelect.bindSelectFocus(this.id,!0)}),this},axdom.fn.bindSelectBlur=function(){return axdom.each(this,function(){AXSelect.bindSelectBlur(this.id)}),this},axdom.fn.bindSelectGetAnchorObject=function(){var returnObj;return axdom.each(this,function(){returnObj=AXSelect.bindSelectGetAnchorObject(this.id)}),returnObj},axdom.fn.bindSelectAddOptions=function(options){var returnObj;return axdom.each(this,function(){returnObj=AXSelect.bindSelectAddOptions(this.id,options)}),returnObj},axdom.fn.bindSelectRemoveOptions=function(options){var returnObj;return axdom.each(this,function(){returnObj=AXSelect.bindSelectRemoveOptions(this.id,options)}),returnObj},axdom.fn.bindSelectUpdateOptions=function(options,oidx){var returnObj;return axdom.each(this,function(){returnObj=AXSelect.bindSelectUpdateOptions(this.id,options,oidx)}),returnObj};var AXMobileMenu=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.moveSens=0,this.config.moveSens=1,this.touchMode,this.selectedPoi=null,this.config.width=300,this.config.height=388,this.config.reserveKeys={labelKey:"label",urlKey:"url",targetKey:"target",addClassKey:"addClass",subMenuKey:"cn"}},init:function(){var cfg=this.config;cfg.onclick||(cfg.onclick=cfg.onClick),cfg.menuBoxID&&(cfg.menu=this.collectMenuItem(cfg.menuBoxID)),this.modal=new AXMobileModal,this.modal.setConfig({addClass:"AXMobileMenu",height:cfg.height,width:cfg.width,head:{close:{onclick:function(){}}},onclose:function(){}})},open:function(){var onLoad=(this.config,this.initMenu.bind(this));return this.modal.open(null,onLoad),this},initMenu:function(obj){var cfg=this.config;if(this.modalObj=obj,this.modalID=obj.jQueryModal.get(0).id,this.selectedPoi){var lpoi=this.selectedPoi.last(),apoi=this.selectedPoi.concat();apoi.pop();var menu=cfg.menu;if(axf.each(apoi,function(idx,P){menu=0==idx?menu[P]:menu[cfg.reserveKeys.subMenuKey][P]}),menu[cfg.reserveKeys.subMenuKey]&&menu[cfg.reserveKeys.subMenuKey][lpoi][cfg.reserveKeys.subMenuKey]&&menu[cfg.reserveKeys.subMenuKey][lpoi][cfg.reserveKeys.subMenuKey].length>0){apoi.push(lpoi);var tpl=this.getMenu(this.modalID,menu[cfg.reserveKeys.subMenuKey][lpoi],apoi)}else var tpl=this.getMenu(this.modalID,menu,apoi)}else var tpl=this.getMenu(this.modalID,cfg.menu);if(AXUtil.browser.mobile){var modalBodyID=obj.modalBody.get(0).id,touchstart=this.touchstart.bind(this);this.touchstartBind=function(){touchstart()},document.addEventListener&&AXgetId(modalBodyID).addEventListener("touchstart",this.touchstartBind,!1)}else obj.modalBody.unbind("mousedown.AXMobileMenu").bind("mousedown.AXMobileMenu",this.touchstart.bind(this));obj.modalBody.attr("onselectstart","return false"),obj.modalBody.bind("click.AXMobileMenu",this.onclickModalBody.bind(this)),this.printMenu(tpl)},printMenu:function(tpl){var obj=this.modalObj;obj.modalHead.empty(),obj.modalHead.append(tpl.headPo),obj.modalBody.empty(),obj.modalBody.append(tpl.bodyPo),obj.modalFoot.empty(),obj.modalFoot.append(tpl.pagePo),obj.modalHead.find(".mobileMenuHome").bind("click",this.onclickHome.bind(this)),obj.modalHead.find(".mobileMenuPrev").bind("click",this.onclickPrev.bind(this)),this.menuPageWidth=obj.modalBody.find(".mobileMenuBodyPage").width()+9,this.mobileMenuBodyScroll=obj.modalBody.find(".mobileMenuBodyScroll"),obj.modalBody.find(".mobileMenuBodyScroll").css({width:tpl.pageNum*this.menuPageWidth})},getMenu:function(modalID,_menu,poi){var cfg=this.config,countPerBlock=9,menu=_menu,menuTitle="";void 0==poi||0==poi.length?poi=[]:(menuTitle=menu[cfg.reserveKeys.labelKey],menu=menu[cfg.reserveKeys.subMenuKey]);var headPo=[];headPo.push("<a "+cfg.href+' class="mobileMenuHome">home</a>'),""!=menuTitle&&headPo.push("<a "+cfg.href+' class="mobileMenuPrev" id="',modalID,"_AX_menuTitle_AX_",poi.join("_"),'">',menuTitle,"</a>");var bodyPo=[];bodyPo.push('<div class="mobileMenuBody">'),bodyPo.push('\t<div class="mobileMenuBodyScroll" id="',modalID,'_AX_bodyScroll">'),bodyPo.push('\t\t<div class="mobileMenuBodyPage">');var ppoi=poi.join("_");""!=ppoi&&(ppoi+="_");var selectedPoi="";this.selectedPoi&&(selectedPoi=this.selectedPoi.join("_")),axf.each(menu,function(midx,M){midx%countPerBlock==0&&midx>0&&(bodyPo.push("\t</div>"),bodyPo.push('\t<div class="mobileMenuBodyPage">'));var addClass=[];this[cfg.reserveKeys.addClassKey]&&addClass.push(this[cfg.reserveKeys.addClassKey]),selectedPoi==ppoi+midx&&addClass.push("selected"),bodyPo.push("<a "+cfg.href+' class="mobileMenuItem '+addClass.join(" ")+'" id="',modalID,"_AX_",ppoi,midx,'">'),bodyPo.push(this[cfg.reserveKeys.labelKey]),this[cfg.reserveKeys.subMenuKey]&&this[cfg.reserveKeys.subMenuKey].length>0&&bodyPo.push('<span class="hasSubMenu"></span>'),bodyPo.push("</a>")}),bodyPo.push("\t\t</div>"),bodyPo.push("\t</div>"),bodyPo.push("</div>");var pageNum=(menu.length/countPerBlock).ceil();this.pageNo=0,this.pageNum=pageNum;var pagePo=[];return pagePo.push('<div class="mobileMenuFoot">'),axf.each(pageNum.rangeFrom(1),function(pidx,p){0==pidx?pagePo.push('<div class="pageNav on" '):pagePo.push('<div class="pageNav" '),pagePo.push(' id="',modalID,"_AX_pageNav_AX_",pidx,'"></div>')}),pagePo.push("</div>"),{headPo:headPo.join(""),bodyPo:bodyPo.join(""),pagePo:pagePo.join(""),pageNum:pageNum}},close:function(){this.config;return this.modal.close(),this},setHighLight:function(menuID){var cfg=this.config,menu=cfg.menu,pois="",treeFn=function(subTree,parentPoi){axf.each(subTree,function(idx,M){if(M[cfg.reserveKeys.primaryKey]==menuID)return pois=parentPoi+"_"+idx,!1;M[cfg.reserveKeys.subMenuKey]&&M[cfg.reserveKeys.subMenuKey].length>0&&treeFn(M[cfg.reserveKeys.subMenuKey],parentPoi+"_"+idx)})};axf.each(menu,function(idx,M){if(M[cfg.reserveKeys.primaryKey]==menuID)return pois=idx+"",!1;M[cfg.reserveKeys.subMenuKey]&&M[cfg.reserveKeys.subMenuKey].length>0&&treeFn(M[cfg.reserveKeys.subMenuKey],idx)});var poi;return""!=pois&&(poi=pois.split(/_/g)),this.selectedPoi=poi,this},setHighLightMenu:function(menuID){return this.setHighLight(menuID)},setHighLightOriginID:function(menuID){var cfg=this.config,menu=cfg.menu,pois="",treeFn=function(subTree,parentPoi){axf.each(subTree,function(idx,M){if(M._id==menuID)return pois=parentPoi+"_"+idx,!1;M[cfg.reserveKeys.subMenuKey]&&M[cfg.reserveKeys.subMenuKey].length>0&&treeFn(M[cfg.reserveKeys.subMenuKey],parentPoi+"_"+idx)})};axf.each(menu,function(idx,M){if(M._id==menuID)return pois=idx+"",!1;M[cfg.reserveKeys.subMenuKey]&&M[cfg.reserveKeys.subMenuKey].length>0&&treeFn(M[cfg.reserveKeys.subMenuKey],idx)});var poi;""!=pois&&(poi=pois.split(/_/g)),this.selectedPoi=poi},onclickModalBody:function(event){var cfg=this.config,eid=event.target.id.split(/_AX_/g),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return!!axdom(evt.parentNode).hasClass("mobileMenuBodyScroll")},find:function(evt,evtIDs){return!!axdom(evt).hasClass("mobileMenuItem")}});if(myTarget){var poi=myTarget.id.split(/_AX_/g).last(),menu=cfg.menu,apoi=poi.split(/_/g);if(axf.each(apoi,function(idx,P){menu=0==idx?menu[P]:menu[cfg.reserveKeys.subMenuKey][P]}),menu[cfg.reserveKeys.subMenuKey]&&menu[cfg.reserveKeys.subMenuKey].length>0){var menuItem=this.modalObj.modalBody.find("#"+myTarget.id);menuItem.css({opacity:0});var menuItemPos=menuItem.position(),mobileMenuBody=this.modalObj.modalBody.find(".mobileMenuBodyScroll"),bodyPos=mobileMenuBody.position(),cloneMenuItem=axdom("<div class='mobileMenuItemGhost' id='"+this.modalID+"_AX_cloneMenuItem'>"+menuItem.html()+"</div>");mobileMenuBody.append(cloneMenuItem),cloneMenuItem.css({position:"absolute",left:menuItemPos.left,top:menuItemPos.top});var getMenuBind=this.getMenu.bind(this),printMenuBind=this.printMenu.bind(this),modalID=this.modalID;return void cloneMenuItem.animate({left:9-bodyPos.left,top:0,width:270,height:270},300,"backInOut").animate({opacity:0},100,"expoOut",function(){var tpl=getMenuBind(modalID,menu,apoi);printMenuBind(tpl)})}cfg.onclick&&cfg.onclick.call(menu,menu)}},onclickHome:function(event){var cfg=this.config,tpl=this.getMenu(this.modalID,cfg.menu);this.printMenu(tpl)},onclickPrev:function(event){var cfg=this.config,poi=event.target.id.split(/_AX_/g).last(),menu=cfg.menu,apoi=poi.split(/_/g);apoi.pop(),axf.each(apoi,function(idx,P){menu=0==idx?menu[P]:menu[cfg.reserveKeys.subMenuKey][P]});var tpl=this.getMenu(this.modalID,menu,apoi);this.printMenu(tpl)},setTree:function(tree){return this.config.menu=tree,this},collectMenuItem:function(targetID){var cfg=this.config,menuBox=axdom("#"+targetID),tree=[],initChilds=function(EL,cid,_tree){var childDiv=jQuery(EL).children("."+cfg.childsMenu.className).get(0);if(childDiv){var childDivID=cid.replace("PMA","PMC");childDiv.id?childDivID=childDiv.id:childDiv.id=childDivID,jQuery("#"+childDivID+">ul>li").each(function(ci,EL){var citem={},c_domEL=axdom(EL);c_domEL.children("A").attr("data-axmenuid")?citem._id=c_domEL.children("A").attr("data-axmenuid"):c_domEL.children("A").get(0).id?citem._id=c_domEL.children("A").get(0).id:c_domEL.children("A").get(0).id=citem._id=cid+"_"+ci,citem[cfg.reserveKeys.primaryKey]=cid+"_"+ci,citem[cfg.reserveKeys.labelKey]=c_domEL.children("A").text(),citem[cfg.reserveKeys.urlKey]=c_domEL.children("A").attr("href"),citem[cfg.reserveKeys.targetKey]=c_domEL.children("A").attr("target")||"_self",citem[cfg.reserveKeys.addClassKey]=c_domEL.children("A").attr("class")||"",citem[cfg.reserveKeys.subMenuKey]=[],_tree[cfg.reserveKeys.subMenuKey].push(citem),initChilds(EL,citem[cfg.reserveKeys.primaryKey],_tree[cfg.reserveKeys.subMenuKey][ci])})}};return menuBox.find("."+cfg.parentMenu.className).each(function(pi,EL){EL.id||(EL.id=cfg.menuBoxID+"_PM_"+pi);var item={},domEL=axdom(EL),nid="";domEL.children("A").attr("data-axmenuid")?item._id=domEL.children("A").attr("data-axmenuid"):domEL.children("A").get(0).id?item._id=domEL.children("A").get(0).id:domEL.children("A").get(0).id=item._id=cfg.menuBoxID+"_PMA_"+pi,nid=domEL.children("A").get(0).id?domEL.children("A").get(0).id:cfg.menuBoxID+"_PMA_"+pi,item._child_id=nid.replace("PMA","PMC"),item[cfg.reserveKeys.primaryKey]=targetID+"_PM_"+pi,item[cfg.reserveKeys.labelKey]=domEL.children("A").text(),item[cfg.reserveKeys.urlKey]=domEL.children("A").attr("href"),item[cfg.reserveKeys.targetKey]=domEL.children("A").attr("target")||"_self",item[cfg.reserveKeys.addClassKey]=domEL.children("A").attr("class")||"",item[cfg.reserveKeys.subMenuKey]=[],tree.push(item);var child=domEL.children("."+cfg.childMenu.className).get(0);child&&(child.id||(child.id=item._child_id),jQuery("#"+item._child_id+">ul>li").each(function(ci,EL){var citem={},c_domEL=axdom(EL);c_domEL.children("A").attr("data-axmenuid")?citem._id=c_domEL.children("A").attr("data-axmenuid"):c_domEL.children("A").get(0).id?citem._id=c_domEL.children("A").get(0).id:c_domEL.children("A").get(0).id=citem._id=item._child_id.replace("PMC","PMA")+"_"+ci,citem[cfg.reserveKeys.primaryKey]=item._child_id.replace("PMC","PMA")+"_"+ci,citem[cfg.reserveKeys.labelKey]=c_domEL.children("A").text(),citem[cfg.reserveKeys.urlKey]=c_domEL.children("A").attr("href"),citem[cfg.reserveKeys.targetKey]=c_domEL.children("A").attr("target")||"_self",citem[cfg.reserveKeys.addClassKey]=c_domEL.children("A").attr("class")||"",citem[cfg.reserveKeys.subMenuKey]=[],tree[pi][cfg.reserveKeys.subMenuKey].push(citem),initChilds(EL,citem[cfg.reserveKeys.primaryKey],tree[pi][cfg.reserveKeys.subMenuKey][ci])}))}),tree},touchstart:function(e){var touch,event=(this.config,window.event);if(AXUtil.browser.mobile){if(touch=event.touches[0],!touch.pageX)return}else{var event=e;touch={pageX:e.pageX,pageY:e.pageY}}if(this.touchStartXY={sTime:(new Date).getTime()/1e3,sLeft:this.mobileMenuBodyScroll.position().left,x:touch.pageX,y:touch.pageY},AXUtil.browser.mobile){var event=window.event,touchEnd=this.touchEnd.bind(this);this.touchEndBind=function(){touchEnd(event)};var touchMove=this.touchMove.bind(this);this.touchMoveBind=function(){touchMove(event)},document.addEventListener&&(document.addEventListener("touchend",this.touchEndBind,!1),document.addEventListener("touchmove",this.touchMoveBind,!1))}else axdom(document.body).bind("mouseup.AXMobileMenu",this.touchEnd.bind(this)),axdom(document.body).bind("mousemove.AXMobileMenu",this.touchMove.bind(this));this.mobileMenuBodyScroll.stop()},touchMove:function(e){this.touhEndObserver&&clearTimeout(this.touhEndObserver);var touch,event=(this.config,window.event);if(AXUtil.browser.mobile){if(touch=event.touches[0],!touch.pageX)return}else{var event=e;touch={pageX:e.pageX,pageY:e.pageY}}if((this.touchStartXY.x-touch.pageX).abs()<(this.touchStartXY.y-touch.pageY).abs());else if((this.touchStartXY.x-touch.pageX).abs()>(this.touchStartXY.y-touch.pageY).abs()){if(this.moveBlock(touch.pageX-this.touchStartXY.x),!event.preventDefault)return!1;event.preventDefault()}((this.touchStartXY.x-touch.pageX).abs()-(this.touchStartXY.y-touch.pageY).abs()).abs()},touchEnd:function(e){this.config,window.event;AXUtil.browser.mobile?document.removeEventListener&&(document.removeEventListener("touchend",this.touchEndBind,!1),document.removeEventListener("touchmove",this.touchMoveBind,!1)):(axdom(document.body).unbind("mouseup.AXMobileMenu"),axdom(document.body).unbind("mousemove.AXMobileMenu"));var moveEndBlock=this.moveEndBlock.bind(this);this.touhEndObserver=setTimeout(function(){moveEndBlock()},10)},moveBlock:function(moveX){var newLeft=(this.config,this.touchStartXY.sLeft+1*moveX);newLeft>.5*this.menuPageWidth?newLeft=.5*this.menuPageWidth:newLeft<1.5*-this.mobileMenuBodyScroll.width()&&(newLeft=1.5*-this.mobileMenuBodyScroll.width()),this.mobileMenuBodyScroll.css({left:newLeft})},moveEndBlock:function(){if(this.touchStartXY){var sTime=this.touchStartXY.sTime,eTime=(new Date).getTime()/1e3,dTime=eTime-sTime,eLeft=this.mobileMenuBodyScroll.position().left,dLeft=eLeft-this.touchStartXY.sLeft,velocity=Math.ceil(dLeft/dTime/10),endLeft=Math.ceil(eLeft+velocity);endLeft>0&&(endLeft=0);var calLeft=endLeft.abs()%this.menuPageWidth,absPage=(endLeft.abs()/this.menuPageWidth).floor(),newLeft=0;calLeft<this.menuPageWidth/2||(absPage+=1),absPage>this.pageNum-1&&(absPage=this.pageNum-1),newLeft=this.menuPageWidth*absPage,this.touchStartXY.sLeft=-newLeft,this.mobileMenuBodyScroll.animate({left:-newLeft},(this.mobileMenuBodyScroll.position().left+newLeft).abs(),"cubicOut",function(){}),this.modalObj.modalFoot.find("#"+this.modalID+"_AX_pageNav_AX_"+this.pageNo).removeClass("on"),this.modalObj.modalFoot.find("#"+this.modalID+"_AX_pageNav_AX_"+absPage).addClass("on"),this.pageNo=absPage,this.touchStartXY=null}},cancelEvent:function(event){return event.stopPropagation(),!1}}),AXTopDownMenu=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.tree=[],this.poi="",this.config.openType="over",this.config.easing={open:{duraing:200,easing:"expoOut"},close:{duration:200,easing:"expoOut"}},this.config.parentMenu={className:"parentMenu"},this.config.childMenu={className:"childMenu",arrowClassName:"varrow",align:"center",valign:"top",margin:{top:10,left:0,bottom:0},arrowMargin:{top:10,left:0,bottom:0}},this.config.childsMenu={className:"childsMenu",arrowClassName:"harrow",align:"left",valign:"top",margin:{top:10,left:0,bottom:0},arrowMargin:{top:10,left:0,bottom:0}},this.config.parentOutResetChild=!0,this.config.childOutClose=!0,this.config.childOutCloseTime=700},init:function(){var cfg=this.config;cfg.menuBoxID?(this.menuBox=axdom("#"+cfg.menuBoxID),this.menuBox.find("."+cfg.childMenu.className).hide(),this.menuBox.find("."+cfg.childsMenu.className).hide(),this.initParents(),this.initChild(),cfg.onComplete&&cfg.onComplete.call(this)):cfg.targetID,axdom(window).bind("resize",this.windowResize.bind(this))},windowResizeApply:function(){var menuBoxWidth=(this.config,0);axf.each(this.tree,function(){this.width=axdom("#"+this.id).outerWidth(),this.height=axdom("#"+this.id).outerHeight(),menuBoxWidth+=axdom("#"+this.id).parent().outerWidth().number()+2})},setTree:function(tree){var cfg=this.config;cfg.menuBoxID=cfg.targetID,_this=this,this.menuBox||(this.menuBox=axdom("#"+cfg.menuBoxID));var po=[],treeFn=function(subTree){axdom.each(subTree,function(pi,T){po.push("<li>");var addClass=T.cn&&T.cn.length>0?' class = "'+cfg.childsMenu.hasChildClassName+'"':"";cfg.onclick?po.push('<a data-href="'+(T.url||cfg.href)+'"'+addClass+' data-id="'+(T._id||"")+'" id="'+(T._id||"")+'" data-label="'+(T.label||"").dec().delHtml()+'">'+(T.label||"").dec()+"</a>"):po.push('<a href="'+(T.url||cfg.href)+'"'+addClass+' id="'+(T._id||"")+'">'+(T.label||"").dec()+"</a>"),T.cn&&T.cn.length>0&&(po.push('<div class="'+cfg.childsMenu.className+'">'),po.push("\t<ul>"),po.push(treeFn(T.cn)),po.push("\t</ul>"),po.push("</div>")),po.push("</li>")})};po.push("<ul>"),axdom.each(tree,function(pi,T){var addClass=[];T.addClass&&addClass.push(T.addClass),po.push("<li>"),po.push('\t<div class="'+cfg.parentMenu.className+" "+addClass.join(" ")+'">');var addClass=T.cn?' class = "'+cfg.childMenu.hasChildClassName+'"':"";cfg.onclick?po.push('<a data-href="'+(T.url||cfg.href)+'"'+addClass+" data-is-top='true' data-id=\""+(T._id||"")+'" id="'+(T._id||"")+'" data-label="'+(T.label||"").dec().delHtml()+'">'+(T.label||"").dec()+"</a>"):po.push('<a href="'+(T.url||cfg.href)+'"'+addClass+' id="'+(T._id||"")+'">'+(T.label||"").dec()+"</a>"),T.cn&&T.cn.length>0&&(po.push('<div class="'+cfg.childMenu.className+'">'),po.push("\t<ul>"),po.push(treeFn(T.cn)),po.push("\t</ul>"),po.push("</div>")),po.push("\t</div>"),po.push("</li>")}),po.push("</ul>"),po.push('<div class="clear"></div>'),this.menuBox.empty(),this.menuBox.append(po.join("")),cfg.onclick&&this.menuBox.find("[data-href]").bind("click",function(){cfg.onclick({id:this.getAttribute("data-id"),href:this.getAttribute("data-href"),label:this.getAttribute("data-label"),isTop:this.getAttribute("data-is-top")}),"#"!=this.getAttribute("data-href")&&_this.outChild()}),this.menuBox.find("."+cfg.childMenu.className).hide(),this.menuBox.find("."+cfg.childsMenu.className).hide(),setTimeout(function(){_this.initParents(),_this.initChild(),cfg.onComplete&&cfg.onComplete.call(this)},300)},initParents:function(){var cfg=this.config,parents=[],menuBoxWidth=0;if(this.menuBox.find("."+cfg.parentMenu.className).each(function(pi,EL){EL.id=cfg.menuBoxID+"_PM_"+pi;var _id="",ELA=axdom(EL).children("A");ELA.get(0).id&&(_id=axdom(EL).children("A").get(0).id),ELA.get(0).id=cfg.menuBoxID+"_PMA_"+pi,ELA.attr("data-axmenuid",_id),parents.push({_id:_id,id:EL.id,width:axdom(EL).outerWidth(),height:axdom(EL).outerHeight(),cn:[],coi:""}),menuBoxWidth+=axdom(EL).parent().outerWidth().number()+2}),this.tree=parents,"over"==cfg.openType){if(this.menuBox.find("."+cfg.parentMenu.className+">a").bind("mouseover",this.onoverParent.bind(this)),this.menuBox.find("."+cfg.parentMenu.className+">a").bind("focus",this.onoverParent.bind(this)),this.menuBox.find("."+cfg.parentMenu.className+">a").bind("click",this.onclickParent.bind(this)),cfg.childOutClose){var onoutChild=this.onoutChild.bind(this);this.menuBox.find("."+cfg.parentMenu.className+">a").bind("mouseout",onoutChild)}}else"click"==cfg.openType&&(this.menuBox.find("."+cfg.parentMenu.className+">a").bind("mouseover",this.onoverParent.bind(this)),this.menuBox.find("."+cfg.parentMenu.className+">a").bind("click",this.onclickParent.bind(this)))},onoverParent:function(event){if(!this.active&&"click"==this.config.openType)return this;this.childObserver&&clearTimeout(this.childObserver);var _this=this,cfg=this.config,target=axf.get_event_target(event.target,{tagname:"a"}),poi=target.id.split(/\_/g).last();""!=this.poi&&this.poi!=poi&&(axdom("#"+cfg.menuBoxID+"_PMA_"+this.poi).removeClass("on"),axdom("#"+cfg.menuBoxID+"_PMC_"+this.poi).hide(),cfg.parentOutResetChild&&this.closeSubMenu(this.tree[this.poi])),void 0!=this.dfPoi&&axdom("#"+cfg.menuBoxID+"_PMA_"+this.dfPoi).removeClass("on"),axdom("#"+cfg.menuBoxID+"_PMA_"+poi).addClass("on");var tgDiv=axdom("#"+cfg.menuBoxID+"_PMC_"+poi);if(this.tree[poi]&&!this.tree[poi].divDim){if(tgDiv.show(),this.tree[poi].divDim={width:tgDiv.outerWidth(),height:tgDiv.outerHeight()},null==this.tree[poi].height)for(var index=0;index<this.tree.length;index++)this.tree[index].height=axdom("#"+this.tree[index].id).outerHeight();var topDim={width:this.tree[poi].width,height:this.tree[poi].height};if("center"==cfg.childMenu.align)var posLeft=topDim.width/2-this.tree[poi].divDim.width/2+cfg.childMenu.margin.left;else if("left"==cfg.childMenu.align)var posLeft=0+cfg.childMenu.margin.left;else if("right"==cfg.childMenu.align)var posLeft=topDim.width-this.tree[poi].divDim.width+cfg.childMenu.margin.left;if("top"==cfg.childMenu.valign){var posTop=topDim.height+cfg.childMenu.margin.top;cfg.childMenu.float?tgDiv.css({top:posTop,left:posLeft}):tgDiv.css({top:posTop,left:posLeft,width:this.tree[poi].divDim.width})}else if("bottom"==cfg.childMenu.valign){var posTop=topDim.height+cfg.childMenu.margin.bottom;cfg.childMenu.float?tgDiv.css({top:posTop,left:posLeft}):tgDiv.css({top:"auto",bottom:posTop,left:posLeft,width:this.tree[poi].divDim.width})}if(cfg.childMenu.arrowClassName){var arrow=tgDiv.find("."+cfg.childMenu.arrowClassName);if("center"==cfg.childMenu.align)var aLeft=tgDiv.outerWidth()/2-arrow.outerWidth()/2+cfg.childMenu.arrowMargin.left;else if("left"==cfg.childMenu.align)var aLeft=0+cfg.childMenu.arrowMargin.left;else if("right"==cfg.childMenu.align)var aLeft=tgDiv.outerWidth()-arrow.outerWidth()+cfg.childMenu.arrowMargin.left;if("top"==cfg.childMenu.valign){var aTop=-arrow.outerHeight()+cfg.childMenu.arrowMargin.top;arrow.css({top:aTop,left:aLeft})}else if("bottom"==cfg.childMenu.valign){var aTop=-arrow.outerHeight()+cfg.childMenu.arrowMargin.bottom;arrow.css({bottom:aTop,left:aLeft})}}tgDiv.hide(),topDim=null,posTop=null,posLeft=null}_this.overParentAnimate=!0,tgDiv.show(),this.poi=poi},onclickParent:function(event){var cfg=this.config,target=axf.get_event_target(event.target,{tagname:"a"}),poi=target.id.split(/\_/g).last();if(this.active){if(poi!=this.activePoi)return this.active=!0,this.activePoi=poi,this.onoverParent(event),this;this.active=!1,axdom("#"+cfg.menuBoxID+"_PMA_"+this.poi).removeClass("on"),axdom("#"+cfg.menuBoxID+"_PMC_"+this.poi).hide()}else this.active=!0,this.activePoi=poi,this.onoverParent(event)},initChild:function(){var cfg=this.config,initChilds=this.initChilds.bind(this),tree=this.tree;this.menuBox.find("."+cfg.parentMenu.className).each(function(pi,EL){var child=axdom(EL).children("."+cfg.childMenu.className).get(0);if(child){if(child.id=cfg.menuBoxID+"_PMC_"+pi,cfg.childMenu.arrowClassName){var arrow=axdom('<div class="'+cfg.childMenu.arrowClassName+'"></div>');axdom(child).prepend(arrow)}initChilds(child.id,tree[pi])}})},initChilds:function(cid,rTree){var initChilds=this.initChilds.bind(this),cfg=this.config,tree=rTree.cn,onoverChild=this.onoverChild.bind(this),onoutChild=this.onoutChild.bind(this);axdom("#"+cid+">ul>li").each(function(pi,EL){var linkA=axdom(EL).children("A"),_id="";linkA.get(0).id&&(_id=linkA.get(0).id),linkA.get(0).id=cid.replace("PMC","PMA")+"_"+pi,linkA.attr("data-axmenuid",_id),linkA.bind("mouseover",onoverChild),cfg.childOutClose&&"over"==cfg.openType&&linkA.bind("mouseout",onoutChild);var childDiv=axdom(EL).children("."+cfg.childsMenu.className).get(0);if(childDiv){if(childDiv.id=cid+"_"+pi,cfg.childsMenu.arrowClassName){var arrow=axdom('<div class="'+cfg.childsMenu.arrowClassName+'"></div>');axdom(childDiv).prepend(arrow)}tree.push({_id:_id,id:cid+"_"+pi,cn:[],coi:""}),initChilds(cid+"_"+pi,tree[pi])}else tree.push({_id:_id,id:cid+"_"+pi,cn:[],coi:""})})},closeSubMenu:function(pitem){if(pitem&&""!=pitem.coi){var cfg=this.config;axdom("#"+pitem.coi).slideUp({duration:cfg.easing.close.duration,easing:cfg.easing.close.easing,complete:function(){}}),pitem.coi="";var closeAllSubMenu=function(stree){axdom.each(stree,function(){""!=this.coi&&axdom("#"+this.coi).hide(),closeAllSubMenu(this.cn)})};closeAllSubMenu(pitem.cn)}},onoverChild:function(event){this.childObserver&&clearTimeout(this.childObserver);for(var cfg=this.config,target=axf.get_event_target(event.target,{tagname:"a"}),eid=target.id,ids=target.id.split(/\_/g),tree=this.tree,item={},pitem={},a=2;a<ids.length;a++)a==ids.length-2&&(pitem=tree[ids[a]]),tree[ids[a]]&&tree[ids[a]].cn&&(item=tree[ids[a]],tree=tree[ids[a]].cn);if(pitem&&""!=pitem.coi&&pitem.coi!=item.id&&this.closeSubMenu(pitem),item&&item.id){var tgDiv=axdom("#"+item.id);if(!item.divDim){axdom("#"+item.id).show(),item.divDim={width:tgDiv.outerWidth(),height:tgDiv.outerHeight()};var pDim={width:axdom("#"+eid).outerWidth(),height:axdom("#"+eid).outerHeight(),pos:axdom("#"+eid).position()};if("left"==cfg.childsMenu.align)var posLeft=pDim.width+cfg.childsMenu.margin.left;else var posLeft=-item.divDim.width+cfg.childsMenu.margin.left;if("top"==cfg.childsMenu.valign){var posTop=pDim.pos.top+cfg.childsMenu.margin.top;tgDiv.css({top:posTop,left:posLeft,width:item.divDim.width})}else{var posTop=pitem.divDim.height-pDim.pos.top-pDim.height+cfg.childsMenu.margin.bottom;tgDiv.css({bottom:posTop,left:posLeft,width:item.divDim.width})}if(cfg.childsMenu.arrowClassName){var arrow=tgDiv.find("."+cfg.childsMenu.arrowClassName);if("left"==cfg.childsMenu.align)var aLeft=-arrow.outerWidth()+cfg.childsMenu.arrowMargin.left;else var aLeft=tgDiv.outerWidth()-arrow.outerWidth()+cfg.childsMenu.arrowMargin.left;if("top"==cfg.childsMenu.valign){var aTop=0+cfg.childsMenu.arrowMargin.top;arrow.css({top:aTop,left:aLeft})}else if("bottom"==cfg.childsMenu.valign){var aTop=0+cfg.childsMenu.arrowMargin.bottom;arrow.css({bottom:aTop,left:aLeft})}}tgDiv.hide(),pDim=null,posTop=null,posLeft=null}tgDiv.fadeIn({duration:cfg.easing.open.duration,easing:cfg.easing.open.easing,complete:function(){}}),pitem&&(pitem.coi=item.id.replace("PMA","PMC"))}},onoutChild:function(event){var cfg=this.config,outChild=this.outChild.bind(this);this.childObserver=setTimeout(function(){outChild()},cfg.childOutCloseTime)},outChild:function(){this.active=!1;var cfg=this.config;this.closeSubMenu(this.tree[this.poi]),axdom("#"+cfg.menuBoxID+"_PMA_"+this.poi).removeClass("on"),void 0!=this.dfPoi&&axdom("#"+cfg.menuBoxID+"_PMA_"+this.dfPoi).addClass("on"),axdom("#"+cfg.menuBoxID+"_PMC_"+this.poi).slideUp({duration:cfg.easing.close.duration,easing:cfg.easing.close.easing,complete:function(){}})},setHighLightMenu:function(poi){var cfg=this.config;if(this.menuBox.find(".parentMenu").removeClass("on"),this.menuBox.find(".parentMenu a").removeClass("on"),this.menuBox.find(".childMenu a").removeClass("on"),axdom.isArray(poi)){this.poi=this.dfPoi=poi;var tree=this.tree;axdom.each(poi,function(idx,T){(tree=0==idx?tree[T.number()]:tree.cn[T.number()])&&(0==idx?(axdom("#"+tree.id).addClass("on"),axdom("#"+tree.id).children("A").addClass("on")):axdom("#"+tree.id.replace("_PMC_","_PMA_")).addClass("on"))})}else this.poi=this.dfPoi=poi,axdom("#"+cfg.menuBoxID+"_PMA_"+this.dfPoi).addClass("on")},setHighLightOriginID:function(_id){var findedID=(this.config,this.tree,""),treeFn=function(subTree){axdom.each(subTree,function(idx,T){if(T._id==_id)return findedID=T.id,!1;T.cn&&treeFn(T.cn)})};if(axdom.each(this.tree,function(idx,T){if(T._id==_id)return findedID=T.id,!1;T.cn&&treeFn(T.cn)}),findedID){this.findedID=findedID;var pos=findedID.split(/_PM[C]?_/g).last(),selectedMenus=pos.split(/_/g);return this.setHighLightMenu(selectedMenus),selectedMenus}this.menuBox.find(".parentMenu").removeClass("on"),this.menuBox.find(".parentMenu a").removeClass("on"),this.menuBox.find(".childMenu a").removeClass("on")},setHighLightID:function(_id){var tree=(this.config,this.tree),findedID="",treeFn=function(subTree){axdom.each(subTree,function(idx,T){if(T.id==_id)return findedID=T.id,!1;T.cn&&treeFn(T.cn)})};if(axdom.each(tree,function(idx,T){if(T.id==_id)return findedID=T.id,!1;T.cn&&treeFn(T.cn)}),findedID){this.findedID=findedID;var pos=findedID.split(/_PM[C]?_/g).last(),selectedMenus=pos.split(/_/g);return this.setHighLightMenu(selectedMenus),selectedMenus}}}),AXModal=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.config.maskCss="AXMask",this.config.windowBoxCss="AXModalBox",this.config.padding="0",this.config.defaultTop=10,this.config.animateDuration=300,this.config.autoHide=!1,this.config.windowID="AXModal"+AXUtil.timekey(),this.config.contentDivClass=AXConfig.AXModal?AXConfig.AXModal.contentDivClass:"bodyHeightDiv",this.config.displayLoading=!0,this.config.viewMode="dx",this.config.opendModalID="",this.config.scrollLock=!1,this.config.closeButton=!0},init:function(){var cfg=this.config;if(this.mask=axdom('<div class="'+cfg.maskCss+'"></div>'),cfg.mediaQuery){var _viewMode="",clientWidth=axf.clientWidth();axf.each(cfg.mediaQuery,function(k,v){if(Object.isObject(v))if(void 0!=v.min&&void 0!=v.max){if(v.min<=clientWidth&&clientWidth<=v.max)return _viewMode="dx"==k?"dx":"mx",!1}else if(v.min<=clientWidth)return _viewMode="dx"==k?"dx":"mx",!1}),""!=_viewMode&&(cfg.viewMode=_viewMode)}},setWidth:function(width){var cfg=this.config;width?(cfg.width=width,this.config.fixedWidth=!0):(cfg.width=void 0,this.config.fixedWidth=!1),axdom("#"+cfg.windowID).css({width:width});var maskWidth=axdom("#"+cfg.windowID).outerWidth(),maskLeft=axdom(document.body).width()/2-maskWidth/2;maskLeft<0&&(maskLeft=0),axdom("#"+cfg.windowID).css({left:maskLeft})},open:function(http){var cfg=this.config;if(!this._windowOpend){mask.open(),this.winID="mdw"+AXUtil.timekey(),this.frmID="frm"+AXUtil.timekey();var maskWidth,maskLeft;this.config.width?(maskWidth=this.config.width,maskLeft=axdom(document.body).width()/2-this.config.width/2,this.config.fixedWidth=!0):(maskWidth=axdom(document.body).width()-50,maskLeft=10,this.config.fixedWidth=!1),http.width&&(maskWidth=http.width,maskLeft=axdom(document.body).width()/2-http.width/2,this.config.fixedWidth=!0);var maskTop=this.config.defaultTop;maskTop=void 0!=http.top?http.top:axdom(window).scrollTop()+100,maskLeft<0&&(maskLeft=0);var po=[];po.push("<div id='"+this.config.windowID+"' class='"+this.config.windowBoxCss+"' style='top:"+maskTop+"px;left:"+maskLeft+"px;width:"+maskWidth+"px;'>"),po.push("\t<div class='windowbox' id='"+this.winID+"_box' style='padding:"+this.config.padding+"px'>"),cfg.displayLoading&&(po.push("\t\t<div id='"+this.config.windowID+"_loading' style='position:absolute;left:0px;top:0px;width:100%;padding:50px 0px 0px 0px;' align='center'>"),po.push('\t\t<div class="AXLoading"></div>'),po.push("\t\t<br/><br><span class='blue'>페이지를 로딩 중입니다. 잠시만 기다려 주세요.</span></div>"));if((void 0==http.closeButton?cfg.closeButton:http.closeButton)&&po.push("\t\t<a id='"+this.config.windowID+"_close' class='closeBtn'>닫기</a>"),po.push("\t\t<form name='"+this.frmID+"' method='"+(http.method||"post")+"' target='"+this.winID+"' action='"+http.url+"'>"),po.push("\t\t<input type='hidden' name='winID' value='"+this.winID+"' />"),isNaN(http.pars.length)?axdom.each(http.pars,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")}):axdom.each(http.pars,function(){axdom.each(this,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")})}),AXConfig.AXModal.pars){var appendPars={};Object.isString(AXConfig.AXModal.pars)&&(appendPars=AXConfig.AXModal.pars.queryToObject()),axdom.each(appendPars,function(key,val){po.push("<input type='hidden' name='"+key+"' value='"+val+"' />")})}po.push("\t\t</form>"),po.push("\t\t<iframe src='' name='"+this.winID+"' id='"+this.winID+"' frameborder='0' class='windowboxFrame' style='width:100%;overflow:-y:hidden;' scrolling='no'></iframe>"),po.push("\t</div>"),po.push("</div>"),this.config.appendTargetID?axdom("#"+this.config.appendTargetID).append(po.join("")):axdom(document.body).append(po.join("")),axdom("#"+cfg.windowID).data("width",maskWidth),axdom("#"+cfg.windowID).data("top",maskTop),"mx"==cfg.viewMode&&axdom("#"+cfg.windowID).css({left:0,top:axdom(window).scrollTop(),width:"100%"});var loadingID=this.config.windowID+"_loading",_winID=this.winID,_frmID=this.frmID;document[_frmID].submit();var keydown=this.keydown.bind(this);axdom("#"+this.winID).bind("load",function(){var myIframe=window[_winID],bodyHeight=axdom(myIframe.document).innerHeight();axdom(myIframe.document.body).find("."+cfg.contentDivClass).get(0)&&(bodyHeight=axdom(myIframe.document.body).find("."+cfg.contentDivClass).outerHeight()),axdom(this).css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),axdom("#"+_winID+"_box").css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),cfg.displayLoading&&axdom("#"+loadingID).fadeOut("slow"),axdom("#"+_winID).addClass("loaded"),http.closeByEscKey&&axdom(myIframe.document.body).bind("keydown.AXModal",keydown)}),axdom("#"+this.config.windowID+"_close").bind("click",this.close.bind(this)),http.closeByEscKey&&axdom(document.body).bind("keydown.AXModal",keydown),this._windowOpend=!0,axdom(window).unbind("resize.AXModal"),axdom(window).bind("resize.AXModal",this.onDocResize.bind(this)),1==cfg.scrollLock&&axdom(document.body).css({overflow:"hidden"})}},openI:function(http){var cfg=this.config;if(!this._windowOpend){mask.open(),this.winID="mdw"+AXUtil.timekey(),this.frmID="frm"+AXUtil.timekey();var maskWidth,maskLeft;this.config.width?(maskWidth=this.config.width,maskLeft=axdom(document.body).width()/2-this.config.width/2,this.config.fixedWidth=!0):(maskWidth=axdom(document.body).width()-50,maskLeft=10,this.config.fixedWidth=!1),http.width&&(maskWidth=http.width,maskLeft=axdom(document.body).width()/2-http.width/2,this.config.fixedWidth=!0);var maskTop=this.config.defaultTop;maskTop=void 0!=http.top?http.top:axdom(window).scrollTop()+100,maskLeft<0&&(maskLeft=0);var po=[];po.push("<div id='"+this.config.windowID+"' class='"+this.config.windowBoxCss+"' style='top:"+maskTop+"px;left:"+maskLeft+"px;width:"+maskWidth+"px;'>"),po.push("\t<div class='windowbox' id='"+this.winID+"_box' style='padding:"+this.config.padding+"px'>"),po.push("\t\t<div id='"+this.config.windowID+"_loading' style='position:absolute;left:0px;top:0px;width:"+maskWidth+"px;padding:50px 0px 0px 0px;' align='center'>"),po.push('\t\t<div class="AXLoading"></div>'),po.push("\t\t<br/><br><span class='blue'>페이지를 로딩 중입니다. 잠시만 기다려 주세요.</span></div>");if((void 0==http.closeButton?cfg.closeButton:http.closeButton)&&po.push("\t\t<a href='#modsExecption' id='"+this.config.windowID+"_close' class='closeBtn'>닫기</a>"),po.push("\t\t<form name='"+this.frmID+"' method='post' target='"+this.winID+"' action='"+http.url+"'>"),po.push("\t\t<input type='hidden' name='winID' value='"+this.winID+"' />"),isNaN(http.pars.length)?axdom.each(http.pars,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")}):axdom.each(http.pars,function(){axdom.each(this,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")})}),AXConfig.AXModal.pars){var appendPars={};Object.isString(AXConfig.AXModal.pars)&&(appendPars=AXConfig.AXModal.pars.queryToObject()),axdom.each(appendPars,function(key,val){po.push("<input type='hidden' name='"+key+"' value='"+val+"' />")})}po.push("\t\t</form>"),http.maxHeight?po.push("\t\t<iframe src='' name='"+this.winID+"' id='"+this.winID+"' frameborder='0' class='windowboxFrame' style='width:100%;overflow:-y:hidden;' scrolling='auto'></iframe>"):po.push("\t\t<iframe src='' name='"+this.winID+"' id='"+this.winID+"' frameborder='0' class='windowboxFrame' style='width:100%;overflow:-y:hidden;' scrolling='no'></iframe>"),po.push("\t</div>"),po.push("</div>"),this.config.appendTargetID?axdom("#"+this.config.appendTargetID).append(po.join("")):axdom(document.body).append(po.join(""));var loadingID=this.config.windowID+"_loading",_winID=this.winID,_frmID=this.frmID;document[_frmID].submit(),axdom("#"+this.winID).bind("load",function(){var myIframe=window[_winID],bodyHeight=axdom(myIframe.document).innerHeight();axdom(myIframe.document.body).find("."+cfg.contentDivClass).get(0)&&(bodyHeight=axdom(myIframe.document.body).find("."+cfg.contentDivClass).outerHeight()),http.maxHeight&&http.maxHeight<bodyHeight.number()+maskTop.number()+10&&(bodyHeight=http.maxHeight-maskTop.number()-10),axdom(this).css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),axdom("#"+_winID+"_box").css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),axdom("#"+loadingID).fadeOut("slow"),axdom("#"+_winID).addClass("loaded")}),axdom("#"+this.config.windowID+"_close").bind("click",this.close.bind(this)),this._windowOpend=!0,axdom(window).unbind("resize.AXModal"),axdom(window).bind("resize.AXModal",this.onDocResize.bind(this)),1==cfg.scrollLock&&axdom(document.body).css({overflow:"hidden"})}},windowResizeApply:function(){this.onDocResize()},openDiv:function(args){var cfg=this.config;mask.open();var modalID=cfg.opendModalID=args.modalID;if(AXgetId(modalID)){var modalTarget=$("#"+modalID);modalTarget.show();var maskTop=this.config.defaultTop;if(maskTop=void 0!=args.top?axdom(window).scrollTop()+args.top:axdom(window).scrollTop()+50,"mx"==cfg.viewMode&&(maskTop=axdom(window).scrollTop()),args.verticalAlign?modalTarget.css({top:axf.clientHeight()/2-modalTarget.height()/2+axdom(window).scrollTop()}):modalTarget.css({top:maskTop}),args.closeByEscKey){var keydown=this.keydown.bind(this),keydownBind=function(){keydown(event,modalID)};axdom(document.body).bind("keydown.AXModal",keydownBind)}}else{var maskWidth,maskLeft;this.config.width?(maskWidth=this.config.width,maskLeft=axdom(document.body).width()/2-this.config.width/2,this.config.fixedWidth=!0):(maskWidth=axdom(document.body).width()-50,maskLeft=10,this.config.fixedWidth=!1),args.width&&(maskWidth=args.width,maskLeft=axdom(document.body).width()/2-args.width/2,this.config.fixedWidth=!0);var maskTop=this.config.defaultTop;maskTop=void 0!=args.top?axdom(window).scrollTop()+args.top:axdom(window).scrollTop()+50,maskLeft<0&&(maskLeft=0);var po=[];po.push("<div id='"+modalID+"' class='"+this.config.windowBoxCss+"' style='top:"+maskTop+"px;left:"+maskLeft+"px;width:"+maskWidth+"px;'>"),po.push("\t<div class='windowbox' style='padding:"+this.config.padding+"px'>");(void 0==args.closeButton?cfg.closeButton:args.closeButton)&&po.push("\t\t<a href='#modsExecption' id='"+modalID+"_close' class='closeBtn'>닫기</a>"),po.push("\t\t<div id='"+modalID+"_content'></div>"),po.push("\t</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),axdom("#"+modalID+"_content").append(axdom("#"+args.targetID)),axdom("#"+cfg.opendModalID).data("width",maskWidth),axdom("#"+cfg.opendModalID).data("top",maskTop),"mx"==cfg.viewMode&&axdom("#"+cfg.opendModalID).css({left:0,top:axdom(window).scrollTop(),width:"100%"});var closeBind=this.close.bind(this),closeModal=function(event){closeBind(event,modalID)};if(axdom("#"+modalID+"_close").bind("click",closeModal),args.closeByEscKey){var keydown=this.keydown.bind(this),keydownBind=function(){keydown(event,modalID)};axdom(document.body).bind("keydown.AXModal",keydownBind)}if(axdom(window).unbind("resize.AXModal"),axdom(window).bind("resize.AXModal",this.onDocResize.bind(this)),1==cfg.scrollLock&&axdom(document.body).css({overflow:"hidden"}),args.verticalAlign){var modalTarget=$("#"+modalID);$("#"+modalID).css({top:axf.clientHeight()/2-modalTarget.height()/2+axdom(window).scrollTop()})}}},openNew:function(http){this.winID="mdw"+AXUtil.timekey(),this.frmID="frm"+AXUtil.timekey(),this.openWindow&&this.openWindow.close(),this.openWindow=window.open("",http.name||this.winID,http.options),this.openWindow.focus(),void 0!=http.title&&(this.openWindow.document.title=http.title),AXgetId(this.config.windowID)&&axdom("#"+this.config.windowID).remove();var po=[];po.push("<div id='"+this.config.windowID+"'>"),po.push("\t\t<form name='"+this.frmID+"' method='"+(http.method||"post")+"' target='"+(http.name||this.winID)+"' action='"+http.url+"'>"),po.push("\t\t<input type='hidden' name='winID' value='"+this.winID+"' />"),isNaN(http.pars.length)?axdom.each(http.pars,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")}):axdom.each(http.pars,function(){axdom.each(this,function(key,val){po.push("\t\t<input type='hidden' name='"+key+"' value='"+val+"' />")})}),po.push("\t\t</form>"),po.push("</div>"),axdom(document.body).append(po.join("")),document[this.frmID].submit(),axdom("#"+this.config.windowID).remove()},keydown:function(event,modalID){event.keyCode==AXUtil.Event.KEY_ESC&&this.close(event,modalID)},close:function(event,modalID){var cfg=this.config;if(this.openWindow&&this.openWindow.close(),event&&void 0==event.type&&(modalID=event),modalID)axdom("#"+modalID).hide(),this.config.opendModalID="",mask.close();else if(window[this.winID]){window[this.winID].location.href="about:blank";var windowID=this.config.windowID;setTimeout(function(){axdom("#"+windowID).remove()},1),mask.close(),this._windowOpend=!1}axdom(document.body).unbind("keydown.AXModal"),this.config.onclose&&this.config.onclose.call({winID:this.winID,windowID:this.config.windowID,modalID:modalID}),1==cfg.scrollLock&&axdom(document.body).css({overflow:"auto"})},remove:function(event){var windowID=this.config.windowID;setTimeout(function(){axdom("#"+windowID).remove()},1),mask.close(),axdom(document.body).css({overflow:"auto"}),this._windowOpend=!1},resize:function(event){var cfg=this.config,_winID=this.winID;setTimeout(function(){try{var myIframe=window[_winID],doc=myIframe.contentDocument?myIframe.contentDocument:myIframe.contentWindow.document,bodyHeight=axdom(doc).innerHeight();doc.body&&axdom(doc.body).find("."+cfg.contentDivClass).get(0)&&(bodyHeight=axdom(doc.body).find("."+cfg.contentDivClass).outerHeight()),axdom("#"+_winID).css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),axdom("#"+_winID+"_box").css({height:bodyHeight},cfg.animateDuration,"cubicInOut")}catch(e){}try{parent.fcObj.contentResetHeight()}catch(e){}try{parent.fnObj.contentResetHeight(null,bodyHeight+100)}catch(e){}},50)},onDocResize:function(){var cfg=this.config;if(cfg.mediaQuery){var _viewMode="",clientWidth=axf.clientWidth();axf.each(cfg.mediaQuery,function(k,v){if(Object.isObject(v))if(void 0!=v.min&&void 0!=v.max){if(v.min<=clientWidth&&clientWidth<=v.max)return _viewMode="dx"==k?"dx":"mx",!1}else if(v.min<=clientWidth)return _viewMode="dx"==k?"dx":"mx",!1}),""!=_viewMode&&(cfg.viewMode=_viewMode)}if("dx"==cfg.viewMode)try{if(cfg.fixedWidth){var maskWidth,maskLeft;""!=cfg.opendModalID?(maskWidth=axdom("#"+cfg.opendModalID).outerWidth(),maskWidth!=axdom("#"+cfg.opendModalID).data("width")&&axdom("#"+cfg.opendModalID).css({top:axdom("#"+cfg.opendModalID).data("top"),width:axdom("#"+cfg.opendModalID).data("width")}),maskLeft=axdom(document.body).width()/2-maskWidth/2,maskLeft<0&&(maskLeft=0),axdom("#"+cfg.opendModalID).css({left:maskLeft})):(maskWidth=axdom("#"+cfg.windowID).outerWidth(),maskWidth!=axdom("#"+cfg.windowID).data("width")&&axdom("#"+cfg.windowID).css({top:axdom("#"+cfg.windowID).data("top"),width:axdom("#"+cfg.windowID).data("width")}),maskLeft=axdom(document.body).width()/2-maskWidth/2,maskLeft<0&&(maskLeft=0),axdom("#"+cfg.windowID).css({left:maskLeft}))}else""!=cfg.opendModalID?(maskWidth=axdom(".container").width()-50,axdom("#"+cfg.opendModalID).css({width:maskWidth})):(maskWidth=axdom(".container").width()-50,axdom("#"+cfg.windowID).css({width:maskWidth}))}catch(e){}else"mx"==cfg.viewMode&&(""!=cfg.opendModalID?axdom("#"+cfg.opendModalID).css({left:0,top:axdom(window).scrollTop(),width:"100%"}):axdom("#"+cfg.windowID).css({left:0,top:axdom(window).scrollTop(),width:"100%"}))},loaded:function(){var cfg=this.config,_winID=this.winID,loadingID=this.config.windowID+"_loading",myIframe=window[this.winID],doc=myIframe.contentDocument?myIframe.contentDocument:myIframe.contentWindow.document,bodyHeight=axdom(doc).innerHeight();doc.body&&axdom(doc.body).find("."+cfg.contentDivClass).get(0)&&(bodyHeight=axdom(doc.body).find("."+cfg.contentDivClass).outerHeight()),axdom(this).css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),axdom("#"+_winID+"_box").css({height:bodyHeight},cfg.animateDuration,"cubicInOut"),cfg.displayLoading&&axdom("#"+loadingID).fadeOut("slow"),axdom("#"+_winID).addClass("loaded")}}),AXSearch=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.formbindMethod="script",this.config.theme="AXSearch",this.config.viewMode="dx"},init:function(){var cfg=this.config;if(Object.isUndefined(cfg.targetID))return void trace("need targetID - setConfig({targetID:''})");if(cfg.mediaQuery){var _viewMode="",clientWidth=axf.clientWidth();axf.each(cfg.mediaQuery,function(k,v){if(Object.isObject(v))if(void 0!=v.min&&void 0!=v.max){if(v.min<=clientWidth&&clientWidth<=v.max)return _viewMode="dx"==k?"dx":"mx",!1}else if(v.min<=clientWidth)return _viewMode="dx"==k?"dx":"mx",!1}),""!=_viewMode&&(cfg.viewMode=_viewMode)}this.target=axdom("#"+cfg.targetID),cfg.rows?(this.formbindMethod="script",this.setBody(),axdom(window).bind("resize",this.windowResize.bind(this))):"form"==this.target.get(0).tagName.lcase()&&(this.formbindMethod="tag",this.target.bind("submit",function(event){return cfg.onsubmit(),!1}),cfg.onkeydown&&(cfg.keydown_check_classname?this.target.find("."+cfg.keydown_check_classname).bind("keydown.axsearch",function(event){cfg.onkeydown(event)}):this.target.bind("keydown",function(event){cfg.onkeydown(event)})),cfg.onkeyup&&(cfg.keyup_check_classname?this.target.find("."+cfg.keyup_check_classname).bind("keyup.axsearch",function(event){cfg.onkeyup(event)}):this.target.bind("keyup",function(event){cfg.onkeyup(event)})),cfg.onreturn&&(cfg.return_check_classname?this.target.find("."+cfg.return_check_classname).bind("keydown.axsearch",function(event){event.keyCode==axf.Event.KEY_RETURN&&cfg.onreturn(event)}):this.target.bind("keydown",function(event){event.keyCode==axf.Event.KEY_RETURN&&cfg.onreturn(event)})),cfg.onchange&&(cfg.change_check_classname?this.target.find("."+cfg.change_check_classname).bind("change.axsearch",function(event){cfg.onchange(event)}):this.target.find("input, select, textarea").bind("change.axsearch",function(event){cfg.onchange(event)})),cfg.onfocus&&(cfg.focus_check_classname?this.target.find("."+cfg.focus_check_classname).bind("focus.axsearch",function(event){cfg.onfocus(event)}):this.target.find("input, select, textarea").bind("focus.axsearch",function(event){cfg.onfocus(event)})))},windowResizeApply:function(){var cfg=this.config;if(cfg.mediaQuery){var _viewMode="",clientWidth=axf.clientWidth();axf.each(cfg.mediaQuery,function(k,v){if(Object.isObject(v))if(void 0!=v.min&&void 0!=v.max){if(v.min<=clientWidth&&clientWidth<=v.max)return _viewMode="dx"==k?"dx":"mx",!1}else if(v.min<=clientWidth)return _viewMode="dx"==k?"dx":"mx",!1}),""!=_viewMode&&(cfg.viewMode=_viewMode)}this.target.find("."+cfg.theme).removeClass("dx"),this.target.find("."+cfg.theme).removeClass("mx"),this.target.find("."+cfg.theme).addClass(cfg.viewMode)},getItemHtml:function(gr,itemIndex,item){var cfg=this.config,po=[],itemAddClass=[],itemAddStyles=[],poAttr=[];if(item.addClass&&itemAddClass.push(item.addClass),item.style&&itemAddStyles.push(item.style),item.addAttr&&axdom.each(item.addAttr,function(idx,attr){poAttr.push(attr.attrKey+"="+attr.attrValue)}),"label"==item.type)po.push('<div class="searchItem searchLabel ',itemAddClass.join(" "),'" style="width:',item.width||"","px;text-align:",item.align||"center",";",itemAddStyles.join(""),'">'),po.push(item.value),po.push("</div>");else if("link"==item.type)po.push('<div class="searchItem searchLink ',itemAddClass.join(" "),'" style="width:',item.width||"","px;text-align:",item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<input type="hidden" name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,'" value="',item.value,'" />'),po.push('<label class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">'),axdom.each(item.options,function(idx,Opt){idx>0&&po.push(" | ");var classOn="";item.value==Opt.optionValue&&(classOn=" on",item.selectedIndex=idx),po.push('<a href="#Axexec" class="searchLinkItem',classOn,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key+"_AX_"+idx,'" title="',Opt.title||"",'">',Opt.optionText,"</a>")}),po.push("</span>"),po.push("</label>"),po.push("</div>");else if("checkBox"==item.type){po.push('<div class="searchItem searchCheckbox ',itemAddClass.join(" "),'" style="width:',item.width||"","px;text-align:",item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<span class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">');var values=item.value.split(/,/g);axdom.each(item.options,function(idx,Opt){var isCheck=!1;axdom.each(values,function(){if(this==Opt.optionValue)return isCheck=!0,!1}),po.push('<input type="checkbox" class="searchCheckboxItem ',itemAddClass.join(" "),'" name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,"_AX_",idx,'" title="',Opt.title||"",'" value="',Opt.optionValue,'" '),isCheck&&po.push(' checked="checked" '),po.push(">"),po.push('<label for="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,"_AX_",idx,'">',Opt.optionText," </label>")}),po.push("</span>"),po.push("</span>"),po.push("</div>")}else if("radioBox"==item.type){po.push('<div class="searchItem searchCheckbox ',itemAddClass.join(" "),'" style="width:',item.width||"","px;text-align:",item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<label class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">');var values=item.value.split(/,/g);axdom.each(item.options,function(idx,Opt){var isCheck=!1;axdom.each(values,function(){if(this==Opt.optionValue)return isCheck=!0,!1}),po.push('<input type="radio" class="searchCheckboxItem ',itemAddClass.join(" "),'" name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,"_AX_",idx,'" title="',item.title||"",'" value="',Opt.optionValue,'" '),isCheck&&po.push(' checked="checked" '),po.push(">"),po.push('<label for="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,"_AX_",idx,'">',Opt.optionText," </label>")}),po.push("</span>"),po.push("</label>"),po.push("</div>")}else if("selectBox"==item.type){po.push('<div class="searchItem searchSelectbox ',itemAddClass.join(" "),'" style="text-align:',item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<label class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td selectBox" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">');var selectWidth=item.width?item.width+"px":"auto";po.push('\t<select name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,'" title="',item.title||"",'" class="AXSelect searchSelectboxItem ',itemAddClass.join(" "),'" style="width:',selectWidth,';" '+poAttr.join(" ")+" >");var values=item.value.split(/,/g);axdom.each(item.options,function(idx,Opt){var isCheck=!1;axdom.each(values,function(){if(this==Opt.optionValue)return isCheck=!0,!1}),po.push('<option value="',Opt.optionValue,'"'),isCheck&&po.push(' selected="selected"'),po.push(">",Opt.optionText,"</option>")}),po.push("\t</select>"),po.push("</span>"),po.push("</label>"),po.push("</div>")}else if("inputText"==item.type){po.push('<div class="searchItem ',itemAddClass.join(" "),'" style="text-align:',item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<label class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td inputText" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">');var inputWidth=(item.width||100).number();po.push('\t\t\t\t<input type="text" name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,'" title="',item.title||"",'" placeholder="'+(item.placeholder||"")+'" value="',item.value,'" class="AXInput searchInputTextItem ',itemAddClass.join(" "),'" style="width:',inputWidth,'px;" '+poAttr.join(" ")+" />"),po.push("</span>"),po.push("</label>"),po.push("</div>")}else if("hidden"==item.type)po.push('<input type="hidden" name="',item.key,'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,'" value="',item.value,'" />');else if("button"==item.type||"submit"==item.type){po.push('<div class="searchItem ',itemAddClass.join(" "),'" style="text-align:',item.align||"center",";",itemAddStyles.join(""),'">'),po.push('<label class="itemTable">'),item.label&&(po.push('<span class="th" style="min-width:',item.labelWidth||100,'px;">'),po.push(item.label),po.push("</span>")),po.push('<span class="td button" style="',item.valueBoxStyle||"",'" title="',item.title||"",'">');var inputWidth=(item.width||100).number();po.push('<button type="'+item.type+'" id="',cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,'" title="',item.title||"",'" placeholder="',item.placeholder||"",'" style="width:',inputWidth,'px;" class="AXButton searchButtonItem ',itemAddClass.join(" "),'">',item.value,"</button>"),po.push("</span>"),po.push("</label>"),po.push("</div>")}return po.join("")},setBody:function(){var cfg=this.config,getItemHtml=this.getItemHtml.bind(this),po=[],AXBinds=[];po.push('<div class="'+cfg.theme+" "+cfg.viewMode+'">'),po.push('<form name="',cfg.targetID+"_AX_form",'" onsubmit="return false;">');for(var gr=0,hasHide=!1;gr<cfg.rows.length;){var styles=[],classs=[];cfg.rows[gr].display||(styles.push("display:none;"),classs.push("expandGroup"),hasHide=!0),cfg.rows[gr].addClass&&classs.push(cfg.rows[gr].addClass),po.push('<div class="searchGroup ',classs.join(" "),'" style="',styles.join(";"),'">'),axdom.each(cfg.rows[gr].list,function(itemIndex,item){po.push(getItemHtml(gr,itemIndex,item)),item.AXBind&&AXBinds.push({display:cfg.rows[gr].display,gr:gr,itemIndex:itemIndex,item:item}),po.push('<div class="itemClear"></div>')}),po.push('<div class="groupClear"></div>'),po.push("</div>"),gr++}hasHide&&(po.push('<a href="#axexec" class="expandHandle" id="',cfg.targetID,'_AX_expandHandle">'),po.push("상세검색"),po.push("</a>")),po.push("</form>"),po.push("</div>"),this.target.html(po.join("")),cfg.onsubmit&&(document[cfg.targetID+"_AX_form"].onsubmit=function(){return cfg.onsubmit(),!1}),axdom("#"+cfg.targetID+"_AX_expandHandle").bind("click",this.expandToggle.bind(this)),this.target.find(".searchLinkItem").bind("click",this.onclickLinkItem.bind(this)),this.target.find(".searchCheckboxItem").bind("click",this.onclickCheckboxItem.bind(this)),this.target.find(".searchSelectboxItem").bind("change",this.onChangeSelect.bind(this)),this.target.find(".searchInputTextItem").bind("change",this.onChangeInput.bind(this)),this.target.find(".searchButtonItem").bind("click",this.onclickButton.bind(this)),this.target.find(".searchInputTextItem").bind("focus",this.onFocusInput.bind(this)),this.target.find(".searchInputTextItem").bind("keydown",this.onKeyDownInput.bind(this)),this.target.find(".searchInputTextItem").bind("keyup",this.onKeyUpInput.bind(this)),this.AXBinds=AXBinds;var _this=this;setTimeout(function(){_this.AXBindItems()},10)},AXBindItems:function(){var cfg=this.config;axdom.each(this.AXBinds,function(){var gr=this.gr,itemIndex=this.itemIndex,item=this.item,display=this.display,itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key;if(display)if("selector"==item.AXBind.type)axdom("#"+itemID).bindSelector(item.AXBind.config);else if("select"==item.AXBind.type)try{axdom("#"+itemID).bindSelect(item.AXBind.config)}catch(e){}else if("date"==item.AXBind.type)axdom("#"+itemID).bindDate(item.AXBind.config);else if("twinDate"==item.AXBind.type){var startTargetID=item.AXBind.config.startTargetID,findItemID="";axdom.each(cfg.rows,function(gidx,G){axdom.each(this.list,function(itemIndex,item){item.key==startTargetID&&(findItemID=cfg.targetID+"_AX_"+gidx+"_AX_"+itemIndex+"_AX_"+item.key)})}),item.AXBind.config.startTargetID=findItemID,axdom("#"+itemID).bindTwinDate(item.AXBind.config)}})},expandToggle:function(){var cfg=this.config;this.expanded?(axdom("#"+cfg.targetID+"_AX_expandHandle").html("상세검색"),this.target.find(".expandGroup").hide(),this.expanded=!1):(axdom("#"+cfg.targetID+"_AX_expandHandle").html("상세검색창 닫기"),this.target.find(".expandGroup").show(),this.expanded=!0,axdom.each(this.AXBinds,function(){var gr=this.gr,itemIndex=this.itemIndex,item=this.item,display=this.display,itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key;if(!display)if("selector"==item.AXBind.type)axdom("#"+itemID).bindSelector(item.AXBind.config);else if("select"==item.AXBind.type)axdom("#"+itemID).bindSelect(item.AXBind.config);else if("date"==item.AXBind.type)axdom("#"+itemID).bindDate(item.AXBind.config);else if("twinDate"==item.AXBind.type){var startTargetID=item.AXBind.config.startTargetID.split(/_AX_/g).last(),findItemID="";axdom.each(cfg.rows,function(gidx,G){axdom.each(this.list,function(itemIndex,item){item.key==startTargetID&&(findItemID=cfg.targetID+"_AX_"+gidx+"_AX_"+itemIndex+"_AX_"+item.key)})}),item.AXBind.config.startTargetID=findItemID,axdom("#"+itemID).bindTwinDate(item.AXBind.config)}}))},onclickLinkItem:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),index=ids.pop(),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],targetID="";axdom.each(ids,function(ii,io){ii>0&&(targetID+="_AX_"),targetID+=this}),void 0!=item.selectedIndex&&axdom("#"+targetID+"_AX_"+item.selectedIndex).removeClass("on"),item.selectedIndex=index,item.value=item.options[index].optionValue,axdom("#"+targetID+"_AX_"+index).addClass("on"),axdom("#"+targetID).val(item.options[index].optionValue),item.onChange&&item.onChange.call(item,item.options[index],item.options[index].optionValue)},onclickCheckboxItem:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),index=ids.pop(),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],selectedValue="";if(isNaN(frm[item.key].length))frm[item.key].checked&&(selectedValue=frm[item.key].value);else for(var i=0;i<frm[item.key].length;i++)frm[item.key][i].checked&&(selectedValue+=""==selectedValue?frm[item.key][i].value:","+frm[item.key][i].value);item.selectedIndex=index,item.value=selectedValue,item.onChange&&item.onChange.call(item,item.options[index],selectedValue)},onChangeSelect:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],selectedIndex=frm[item.key].selectedIndex,selectedValue=frm[item.key].options[selectedIndex].value;item.onChange&&item.onChange.call(item,item.options[selectedIndex],selectedValue)},onChangeInput:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],changeValue=frm[item.key].value;item.onChange&&item.onChange.call(item,changeValue)},onFocusInput:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],focusValue=frm[item.key].value;item.onFocus&&item.onFocus.call(item,focusValue,frm[item.key])},onclickButton:function(event){var cfg=this.config,target=axf.get_event_target(event.target,function(el){if("BUTTON"==(el.tagName||"").ucase())return!0});if(target){var ids=target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex];item.onclick&&item.onclick.call(item)}},onKeyDownInput:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],changeValue=frm[item.key].value;item.onkeydown&&item.onkeydown.call(item,event,changeValue)},onKeyUpInput:function(event){var cfg=this.config,ids=event.target.id.split(/_AX_/g),gr=ids[ids.length-3],itemIndex=ids[ids.length-2],item=cfg.rows[gr].list[itemIndex],frm=document[cfg.targetID+"_AX_form"],changeValue=frm[item.key].value;item.onkeyup&&item.onkeyup.call(item,event,changeValue)},getParam:function(){var cfg=this.config,frm="script"==this.formbindMethod?document[cfg.targetID+"_AX_form"]:this.target;return axdom(frm).serialize()},reset:function(){var cfg=this.config,frm="script"==this.formbindMethod?document[cfg.targetID+"_AX_form"]:this.target;return axdom(frm).get(0).reset(),axdom(frm).find("[data-axbind=select]").bindSelectUpdate(),this},getItemId:function(key,value){for(var itemID,cfg=this.config,gr=0;gr<cfg.rows.length;)axdom.each(cfg.rows[gr].list,function(itemIndex,item){if(item.key==key){if("checkBox"!=item.type&&"radioBox"!=item.type)return itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,!1;itemID=[],axdom.each(item.options,function(idx,Opt){itemID.push(cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key+"_AX_"+idx)})}}),gr++;return itemID},setItemValue:function(key,value){for(var cfg=this.config,gr=0;gr<cfg.rows.length;)axdom.each(cfg.rows[gr].list,function(itemIndex,item){if(item.key==key)if("checkBox"==item.type||"radioBox"==item.type){var values=[];Object.isArray(value)?values=value:""==value||values.push(value),axdom.each(item.options,function(idx,Opt){var itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key+"_AX_"+idx,isCheck=!1;axdom.each(values,function(){if(this==Opt.optionValue)return isCheck=!0,!1}),AXgetId(itemID).checked=isCheck,itemID=null})}else if("selectBox"==item.type){var itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key,item_dom=axdom("#"+itemID);item_dom.attr("data-axbind")?item_dom.bindSelectSetValue(value||""):item_dom.val(value||"")}else{var itemID=cfg.targetID+"_AX_"+gr+"_AX_"+itemIndex+"_AX_"+item.key;axdom("#"+itemID).val(value||""),itemID=null}}),gr++},submit:function(){var cfg=this.config;return cfg.onsubmit&&cfg.onsubmit(),this}}),AXTabClass=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.objects=[],this.config.handleWidth=22,this.config.responsiveMobile=AXConfig.mobile.responsiveWidth,this.config.bounces=!0,this.config.closable=!!(AXConfig&&AXConfig.AXTab&&AXConfig.AXTab.closable)&&AXConfig.AXTab.closable},init:function(){axdom(window).bind("resize",this.windowResize.bind(this))},windowResize:function(){var windowResizeApply=this.windowResizeApply.bind(this);this.windowResizeObserver&&clearTimeout(this.windowResizeObserver),this.windowResizeObserver=setTimeout(function(){windowResizeApply()},500)},windowResizeApply:function(){this.resizeCheck()},bind:function(obj){this.config;if(!obj.id)return void trace("bind 대상 ID가 없어 bind 처리할 수 없습니다.");if(!AXgetId(obj.id))return void trace("bind 대상이 없어 bind 처리할 수 없습니다.");var objID=obj.id,objSeq=null;obj.theme=obj.theme||"AXTabs",obj.overflow=obj.overflow||"visible",obj.scrollAmount=obj.scrollAmount||5,obj.options=obj.options||[{optionValue:"null",optionText:"빈 탭"}],axdom.each(this.objects,function(idx,O){if(this.id==objID)return objSeq=idx,!1}),null==objSeq?(objSeq=this.objects.length,this.objects.push({id:objID,config:obj})):(this.objects[objSeq].isDel=void 0,this.objects[objSeq].config=obj),null!=objSeq?this.initTab(objID,objSeq):trace("object find error")},initTab:function(objID,objSeq){var cfg=this.config,_this=this,obj=this.objects[objSeq],po=[],subOptions=[];po.push('<div class="'+obj.config.theme+'" id="'+objID+'_AX_tabContainer">'),po.push('<div class="AXTabsTray" id="'+objID+'_AX_tabTray">'),"visible"!=obj.config.overflow&&po.push('\t<div class="trayScroll" id="'+objID+'_AX_tabScroll">'),po.push('\t<div class="clear"></div>'),"visible"!=obj.config.overflow&&(po.push("\t</div>"),po.push('\t<div class="leftArrowHandleBox" style="display:none;"><a href="javascript:;" class="tabArrow" id="'+objID+'_AX_Arrow_AX_Left">arrow</a></div>'),po.push('\t<div class="rightArrowHandleBox" style="display:none;"><a href="javascript:;" class="tabArrow" id="'+objID+'_AX_Arrow_AX_Right">arrow</a></div>'),po.push('\t<div class="rightArrowMoreBox" style="display:none;"><a href="javascript:;" class="tabArrow" id="'+objID+'_AX_Arrow_AX_More">arrow</a></div>')),po.push("</div>"),subOptions.length,po.push("</div>"),obj.jQueryObjID=axdom("#"+objID),obj.jQueryObjID.html(po.join("")),obj.jQueryObjID.data("objSeq",objSeq),obj.tabTray=axdom("#"+objID+"_AX_tabTray"),obj.tabScroll=axdom("#"+objID+"_AX_tabScroll"),obj.tabContainer=axdom("#"+objID+"_AX_tabContainer"),AXContextMenu.bind({id:objID+"_AX_tabMore",theme:"AXContextMenu",width:"200",menu:[]}),this.addTabs(objID,obj.config.options);var bindTabMove=this.bindTabMove.bind(this),bindTabMoveClick=this.bindTabMoveClick.bind(this),bindTabMoreClick=this.bindTabMoreClick.bind(this);axdom("#"+objID+"_AX_Arrow_AX_Left").bind("mouseover",function(event){bindTabMove(objID,objSeq,"left",event)}),axdom("#"+objID+"_AX_Arrow_AX_Right").bind("mouseover",function(event){bindTabMove(objID,objSeq,"right",event)}),axdom("#"+objID+"_AX_Arrow_AX_Left, #"+objID+"_AX_Arrow_AX_Right").bind("mouseout",function(event){obj.moveobj&&clearTimeout(obj.moveobj)}),axdom("#"+objID+"_AX_Arrow_AX_Left").bind("mousedown",function(event){bindTabMoveClick(objID,objSeq,"left",event)}),axdom("#"+objID+"_AX_Arrow_AX_Right").bind("mousedown",function(event){bindTabMoveClick(objID,objSeq,"right",event)}),axdom("#"+objID+"_AX_Arrow_AX_More").bind("click",function(event){bindTabMoreClick(objID,objSeq,"right",event)}),"visible"!=obj.overflow&&setTimeout(function(){var tabsWidth=axf.clientWidth()<cfg.responsiveMobile?40:30,tabsMargin=(axf.clientWidth(),cfg.responsiveMobile,5);obj.tabContainer.find(".AXTab").each(function(){tabsWidth+=axdom(this).outerWidth().number()+axdom(this).css("marginLeft").number()+axdom(this).css("marginRight").number()+tabsMargin}),obj.tabScroll.css({width:tabsWidth,left:cfg.handleWidth}),obj.tabTray.css({height:obj.tabScroll.outerHeight()});var trayWidth=obj.tabTray.outerWidth(),scrollWidth=obj.tabScroll.outerWidth();trayWidth>scrollWidth?(obj.tabContainer.find(".leftArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowMoreBox").hide(),obj.tabScroll.css({left:0})):null!=obj.config.selectedIndex&&(obj.tabContainer.find(".leftArrowHandleBox").show(),obj.tabContainer.find(".rightArrowHandleBox").show(),obj.tabContainer.find(".rightArrowMoreBox").show(),_this.focusingItem(objID,objSeq,obj.config.selectedIndex)),trayWidth<scrollWidth&&AXUtil.clientWidth()<cfg.responsiveMobile&&(obj.tabContainer.find(".leftArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowHandleBox").hide(),obj.tabScroll.css({left:0}));var touchstart=_this.touchstart.bind(_this);if(AXUtil.browser.mobile){var touchBodyID=obj.tabTray.get(0).id;_this.touchstartBind=function(){touchstart(objID,objSeq)},document.addEventListener&&AXgetId(touchBodyID).addEventListener("touchstart",_this.touchstartBind,!1)}else _this.touchstartBind=function(event){touchstart(objID,objSeq,event)},obj.tabTray.unbind("mousedown.AXMobileTouch").bind("mousedown.AXMobileTouch",_this.touchstartBind);obj.tabTray.attr("onselectstart","return false"),obj.tabTray.addClass("AXUserSelectNone"),obj.tabTray.unbind("dragstart.AXMobileTouch").bind("dragstart.AXMobileTouch",_this.cancelEvent.bind(_this))},50)},addTabs:function(objID,options){var target,cfg=this.config,objSeq=axdom("#"+objID).data("objSeq"),obj=this.objects[objSeq],po=[];target=axdom("visible"==obj.config.overflow?"#"+objID+"_AX_tabTray div.clear":"#"+objID+"_AX_tabScroll div.clear");var tabsCnt=obj.tabContainer.find(".AXTab").length,selectedIndex=null;axdom.each(options,function(oidx,O){var closable=O.closable||obj.config.closable||cfg.closable;oidx+=tabsCnt,po.push('<a href="javascript:;" id="'+objID+"_AX_Tabs_AX_"+oidx+'" class="AXTab '+(O.addClass||"")),closable&&po.push(" closable"),O.optionValue==obj.config.value&&(selectedIndex=oidx,po.push(" on")),po.push('">'),po.push(O.optionText.dec()),closable&&po.push('<span class="AXTabClose"></span>'),po.push("</a>"),po.push("<span class='AXTabSplit'></span>")}),null!=selectedIndex&&(obj.config.selectedIndex=selectedIndex),target.before(po.join(""));var tabsWidth=axf.clientWidth()<cfg.responsiveMobile?40:30,tabsMargin=(axf.clientWidth(),cfg.responsiveMobile,5);obj.tabContainer.find(".AXTab").each(function(){tabsWidth+=axdom(this).outerWidth().number()+axdom(this).css("marginLeft").number()+axdom(this).css("marginRight").number()+tabsMargin}),obj.tabScroll.css({width:tabsWidth});var setValueTab=this.setValueTab.bind(this),myMenu=[];axdom.each(obj.config.options,function(oidx,O){myMenu.push({label:O.optionText,value:O.optionValue,className:"",onclick:function(){setValueTab(objID,this.menu.value)}})});var tabMoreID=objID+"_AX_tabMore";axdom.each(AXContextMenu.objects,function(oidx,O){if(O.id==tabMoreID)return O.menu=myMenu,!1});var bindTabClick=this.bindTabClick.bind(this);obj.tabContainer.find(".AXTab").unbind("click").bind("click",function(event){bindTabClick(objID,objSeq,event)});var closeTab=this.closeTab.bind(this);obj.tabContainer.find(".AXTabClose").unbind("click").bind("click",function(event){var tabIndex=obj.tabContainer.find(".AXTab").index(axdom(event.target).parent());-1!==tabIndex&&closeTab(objID,tabIndex,event)}),this.resizeCheck()},closeTab:function(objID,tabIndex,event){var objSeq=axdom("#"+objID).data("objSeq"),obj=this.objects[objSeq];if(obj.config.options){tabIndex=void 0===tabIndex?obj.config.options.length-1:tabIndex,"number"!=typeof tabIndex&&axdom.each(obj.config.options,function(oidx,O){if(O.optionValue===tabIndex)return tabIndex=oidx,!1});var removeTargetOption=obj.config.options.splice(tabIndex,1)[0];if(obj.config.selectedIndex==tabIndex){var selectedIndex=tabIndex-1;selectedIndex>-1?this.setValueTab(objID,obj.config.options[selectedIndex].optionValue):this.setValueTab(objID,obj.config.options[0].optionValue)}else if(obj.config.selectedIndex>tabIndex){var selectedIndex=obj.config.selectedIndex-1;selectedIndex>-1&&(obj.config.selectedIndex=selectedIndex)}this.initTab(objID,objSeq),axdom.isFunction(obj.config.onclose)&&obj.config.onclose.call({options:obj.config.options,item:removeTargetOption,index:tabIndex},removeTargetOption,removeTargetOption.optionValue)}},bindTabClick:function(objID,objSeq,event){var obj=(this.config,this.objects[objSeq]),eid=event.target.id.split(/_AX_/g),eventTarget=event.target,myTarget=this.getEventTarget({evt:eventTarget,evtIDs:eid,until:function(evt,evtIDs){return!!axdom(evt.parentNode).hasClass("AXTabsTray")},find:function(evt,evtIDs){return!!axdom(evt).hasClass("AXTab")}});if(myTarget){var targetID=myTarget.id,itemIndex=targetID.split(/_AX_/g).last(),selectedObject=obj.config.options[itemIndex];selectedObject&&obj.config.value!=selectedObject.optionValue?(axdom("#"+objID+"_AX_Tabs_AX_"+obj.config.selectedIndex).removeClass("on"),axdom("#"+objID+"_AX_Tabs_AX_"+itemIndex).addClass("on"),obj.config.value=selectedObject.optionValue,obj.config.selectedIndex=itemIndex,this.focusingItem(objID,objSeq,obj.config.selectedIndex),obj.config.onclick&&obj.config.onclick.call({options:obj.config.options,item:obj.config.options[itemIndex],index:itemIndex},obj.config.options[itemIndex],obj.config.options[itemIndex].optionValue),obj.config.onchange&&obj.config.onchange.call({options:obj.config.options,item:obj.config.options[itemIndex],index:itemIndex},obj.config.options[itemIndex],obj.config.options[itemIndex].optionValue)):obj.config.onclick&&obj.config.onclick.call({options:obj.config.options,item:obj.config.options[itemIndex],index:itemIndex},obj.config.options[itemIndex],obj.config.options[itemIndex].optionValue)}},setValueTab:function(objID,value){var objSeq=(this.config,null);if(axdom.each(this.objects,function(index,O){if(O.id==objID)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq],itemIndex=null;if(axdom.each(obj.config.options,function(oidx,O){if(O.optionValue==value)return itemIndex=oidx,!1}),null!=itemIndex){var selectedObject=obj.config.options[itemIndex];if(obj.config.value!=selectedObject.optionValue){var tabs=obj.tabContainer.find(".AXTab");tabs.eq(obj.config.selectedIndex).removeClass("on"),tabs.eq(itemIndex).addClass("on"),this.focusingItem(objID,objSeq,itemIndex),obj.config.value=selectedObject.optionValue,obj.config.selectedIndex=itemIndex,obj.config.onchange&&obj.config.onchange.call({options:obj.config.options,item:obj.config.options[itemIndex],index:itemIndex},obj.config.options[itemIndex],obj.config.options[itemIndex].optionValue)}}}},bindTabMove:function(objID,objSeq,direction,event){var cfg=this.config,obj=this.objects[objSeq],trayWidth=obj.tabTray.outerWidth();if(AXUtil.clientWidth()<cfg.responsiveMobile)var rightMargin=40;else var rightMargin=29+cfg.handleWidth;trayWidth-=rightMargin;var scrollWidth=obj.tabScroll.outerWidth(),scrollLeft=obj.tabScroll.position().left,animateStyles={};if("left"==direction){if(!(scrollLeft<cfg.handleWidth))return;scrollLeft+=obj.config.scrollAmount,animateStyles={left:scrollLeft},scrollLeft>cfg.handleWidth&&(scrollLeft=cfg.handleWidth,animateStyles={left:scrollLeft})}else trayWidth<scrollWidth+scrollLeft&&(scrollLeft-=obj.config.scrollAmount,animateStyles={left:scrollLeft}),trayWidth>scrollWidth+scrollLeft&&(scrollLeft=trayWidth-scrollWidth-cfg.handleWidth,animateStyles={left:scrollLeft});obj.tabScroll.css(animateStyles);var bindTabMove=this.bindTabMove.bind(this);obj.moveobj&&clearTimeout(obj.moveobj),obj.moveobj=setTimeout(function(){bindTabMove(objID,objSeq,direction,event)},20)},bindTabMoveClick:function(objID,objSeq,direction,event){var cfg=this.config,obj=this.objects[objSeq];obj.moveobj&&clearTimeout(obj.moveobj);var scrollAmount=500,trayWidth=obj.tabTray.outerWidth();if(AXUtil.clientWidth()<cfg.responsiveMobile)var rightMargin=40;else var rightMargin=29+cfg.handleWidth;trayWidth-=rightMargin;var scrollWidth=obj.tabScroll.outerWidth(),scrollLeft=obj.tabScroll.position().left,animateStyles={};if("left"==direction){if(!(scrollLeft<cfg.handleWidth))return;scrollLeft+=scrollAmount,animateStyles={left:scrollLeft},scrollLeft>cfg.handleWidth&&(scrollLeft=cfg.handleWidth,animateStyles={left:scrollLeft})}else trayWidth<scrollWidth+scrollLeft&&(scrollLeft-=scrollAmount,animateStyles={left:scrollLeft}),trayWidth-cfg.handleWidth>scrollWidth+scrollLeft&&(scrollLeft=trayWidth-scrollWidth-cfg.handleWidth,animateStyles={left:scrollLeft});return obj.tabScroll.stop(),obj.tabScroll.animate(animateStyles,500,"sineInOut",function(){}),event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),event.cancelBubble=!0,!1},bindTabMoreClick:function(objID,objSeq,direction,event){var cfg=this.config;this.objects[objSeq];axf.clientWidth()<cfg.responsiveMobile&&AXContextMenu.setConfig({responsiveMobile:640}),AXContextMenu.open({id:objID+"_AX_tabMore",title:AXConfig.AXContextMenu.title},event)},resizeCheck:function(){var cfg=this.config,focusingItem=this.focusingItem.bind(this);axdom.each(this.objects,function(objSeq,O){var objID=this.id,obj=this;obj.tabTray.outerWidth()>obj.tabScroll.outerWidth()?(obj.tabContainer.find(".leftArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowMoreBox").hide(),obj.tabScroll.css({left:0})):(AXUtil.clientWidth()<cfg.responsiveMobile?(obj.tabContainer.find(".leftArrowHandleBox").hide(),obj.tabContainer.find(".rightArrowHandleBox").hide()):(obj.tabContainer.find(".leftArrowHandleBox").show(),obj.tabContainer.find(".rightArrowHandleBox").show()),obj.tabContainer.find(".rightArrowMoreBox").show(),AXUtil.isEmpty(obj.config.selectedIndex)||focusingItem(objID,objSeq,obj.config.selectedIndex)),obj.tabTray.css({height:obj.tabScroll.outerHeight()})})},focusingItem:function(objID,objSeq,optionIndex){var cfg=this.config,obj=this.objects[objSeq];if(obj.tabScroll.position()&&!(obj.tabTray.outerWidth()>obj.tabScroll.outerWidth())){var tabs=obj.tabContainer.find(".AXTab"),targetTab=tabs.eq(optionIndex);if(AXUtil.clientWidth()<cfg.responsiveMobile)var scrollLeft=targetTab.position().left,itemWidth=targetTab.outerWidth(),handleWidth=0,rightMargin=40;else var scrollLeft=targetTab.position().left-cfg.handleWidth,itemWidth=targetTab.outerWidth(),handleWidth=cfg.handleWidth,rightMargin=29+cfg.handleWidth;scrollLeft>obj.tabScroll.position().left.abs()&&scrollLeft+itemWidth<=obj.tabScroll.position().left.abs()+obj.tabTray.outerWidth()-rightMargin-handleWidth||(obj.tabTray.outerWidth()-handleWidth>obj.tabScroll.outerWidth()-scrollLeft&&(scrollLeft=obj.tabScroll.outerWidth()-obj.tabTray.outerWidth()+rightMargin),setTimeout(function(){obj.tabScroll.css({left:-scrollLeft})},10))}},touchstart:function(objID,objSeq,e){this.touhEndObserver&&clearTimeout(this.touhEndObserver),this.touhMoveObserver&&clearTimeout(this.touhMoveObserver);var obj=(this.config,this.objects[objSeq]);if(!(obj.tabTray.outerWidth()>obj.tabScroll.outerWidth())){var touch,event=window.event;if(AXUtil.browser.mobile){if(touch=event.touches[0],!touch.pageX)return}else{var event=e;touch={pageX:e.pageX,pageY:e.pageY}}this.touchStartXY={sTime:(new Date).getTime()/1e3,sLeft:obj.tabScroll.position().left,x:touch.pageX,y:touch.pageY};var touchEnd=this.touchEnd.bind(this),touchMove=this.touchMove.bind(this);if(AXUtil.browser.mobile){var event=window.event;this.touchEndBind=function(){touchEnd(objID,objSeq)},this.touchMoveBind=function(){touchMove(objID,objSeq)},document.addEventListener&&(document.addEventListener("touchend",this.touchEndBind,!1),document.addEventListener("touchmove",this.touchMoveBind,!1))}else this.touchEndBind=function(event){touchEnd(objID,objSeq,event)},this.touchMoveBind=function(event){touchMove(objID,objSeq,event)},axdom(document.body).bind("mouseup.AXMobileTouch",this.touchEndBind),axdom(document.body).bind("mousemove.AXMobileTouch",this.touchMoveBind);var maxLeft=-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth),scrollPosition=obj.tabScroll.position();scrollPosition.left<0&&scrollPosition.left>maxLeft&&obj.tabScroll.stop()}},touchMove:function(objID,objSeq,e){this.touhEndObserver&&clearTimeout(this.touhEndObserver),this.touhMoveObserver&&clearTimeout(this.touhMoveObserver);var touch,event=(this.config,this.objects[objSeq],window.event);if(AXUtil.browser.mobile){if(touch=event.touches[0],!touch.pageX)return}else{var event=e;touch={pageX:e.pageX,pageY:e.pageY}}if((this.touchStartXY.x-touch.pageX).abs()<(this.touchStartXY.y-touch.pageY).abs());else if((this.touchStartXY.x-touch.pageX).abs()>(this.touchStartXY.y-touch.pageY).abs()){if(this.moveBlock(objID,objSeq,touch.pageX-this.touchStartXY.x),!event.preventDefault)return!1;event.preventDefault()}((this.touchStartXY.x-touch.pageX).abs()-(this.touchStartXY.y-touch.pageY).abs()).abs();var touchMoveAfter=this.touchMoveAfter.bind(this);this.touhMoveObserver=setTimeout(function(){touchMoveAfter(touch,objID,objSeq)},50)},touchMoveAfter:function(touch,objID,objSeq){var obj=(this.config,this.objects[objSeq]);try{this.touchStartXY.sTime=(new Date).getTime()/1e3,this.touchStartXY.sLeft=obj.tabScroll.position().left,this.touchStartXY.x=touch.pageX,this.touchStartXY.y=touch.pageY}catch(e){}},touchEnd:function(objID,objSeq,e){this.config,this.objects[objSeq],window.event;AXUtil.browser.mobile?document.removeEventListener&&(document.removeEventListener("touchend",this.touchEndBind,!1),document.removeEventListener("touchmove",this.touchMoveBind,!1)):(axdom(document.body).unbind("mouseup.AXMobileTouch"),axdom(document.body).unbind("mousemove.AXMobileTouch"));var moveEndBlock=this.moveEndBlock.bind(this);this.touhEndObserver=setTimeout(function(){moveEndBlock(objID,objSeq)},10)},moveBlock:function(objID,objSeq,moveX){var cfg=this.config,obj=this.objects[objSeq],newLeft=this.touchStartXY.sLeft+moveX,newLeft=this.touchStartXY.sLeft+moveX,minLeft=0,maxLeft=-(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth);cfg.bounces&&(minLeft=.4*this.touchStartXY.targetWidth,maxLeft=-1.2*(this.touchStartXY.scrollWidth-this.touchStartXY.targetWidth)),newLeft>minLeft?newLeft=minLeft:newLeft<maxLeft&&(newLeft=maxLeft),obj.tabScroll.css({left:newLeft})},moveEndBlock:function(objID,objSeq){var cfg=this.config,obj=this.objects[objSeq];if(this.touchStartXY){var sTime=this.touchStartXY.sTime,eTime=(new Date).getTime()/1e3,dTime=eTime-sTime,eLeft=obj.tabScroll.position().left,dLeft=eLeft-this.touchStartXY.sLeft,velocity=Math.ceil(dLeft/dTime/5),endLeft=Math.ceil(eLeft+velocity);endLeft>0&&(endLeft=0);var newLeft=endLeft.abs();if(AXUtil.clientWidth()<cfg.responsiveMobile)var handleWidth=0,rightMargin=40;else var handleWidth=cfg.handleWidth,rightMargin=29+cfg.handleWidth;obj.tabTray.outerWidth()-handleWidth>obj.tabScroll.outerWidth()-newLeft&&(newLeft=obj.tabScroll.outerWidth()-obj.tabTray.outerWidth()+rightMargin),this.touchStartXY.sLeft=-newLeft,obj.tabScroll.animate({left:-newLeft},(obj.tabScroll.position().left+newLeft).abs(),"cubicOut",function(){}),this.touchStartXY=null}},cancelEvent:function(event){return event.stopPropagation(),!1},updateTabOption:function(objID,value,option){var objSeq=(this.config,null);if(axdom.each(this.objects,function(index,O){if(O.id==objID)return objSeq=index,!1}),null!=objSeq){var obj=this.objects[objSeq],itemIndex=null;if(axdom.each(obj.config.options,function(oidx,O){if(O.optionValue==value)return itemIndex=oidx,!1}),null!=itemIndex){var OriginalOption=obj.config.options[itemIndex];for(var idx in option)OriginalOption[idx]=option[idx];this.initTab(objID,objSeq)}}}}),AXTab=new AXTabClass;AXTab.setConfig({}),axdom.fn.unbindTab=function(config){return axdom.each(this,function(){void 0==config&&(config={}),config.id=this.id,AXTab.unbind(config)}),this},axdom.fn.bindTab=function(config){return axdom.each(this,function(){void 0==config&&(config={}),config.id=this.id,AXTab.bind(config)}),this},axdom.fn.setValueTab=function(value){return axdom.each(this,function(){AXTab.setValueTab(this.id,value)}),this},axdom.fn.addTabs=function(options){return axdom.each(this,function(){var objSeq=axdom("#"+this.id).data("objSeq");if(null!=objSeq){var obj=AXTab.objects[objSeq];obj.config.options=obj.config.options.concat(options),AXTab.addTabs(this.id,options)}}),this},axdom.fn.closeTab=function(tabValue){return axdom.each(this,function(){AXTab.closeTab(this.id,tabValue)}),this},axdom.fn.updateTabs=function(options){return axdom.each(this,function(){var objSeq=axdom("#"+this.id).data("objSeq");if(null!=objSeq){var obj=AXTab.objects[objSeq];obj.config.options=options,obj.config.value=options[0].optionValue,AXTab.initTab(this.id,objSeq)}}),this},axdom.fn.updateTabOption=function(value,option){return axdom.each(this,function(){AXTab.updateTabOption(this.id,value,option)}),this},axdom.fn.getOptions=function(){var returnValue=null;return axdom.each(this,function(){var objSeq=axdom("#"+this.id).data("objSeq");if(null!=objSeq){var obj=AXTab.objects[objSeq];returnValue=obj.config.options}}),returnValue};var AXMultiSelector=Class.create(AXJ,{version:"AXMultiSelector v1.21",author:"tom@axisj.com",logs:["2013-08-01 오후 3:08:07","2014-03-21 오후 2:19:52 : tom multiselect 기본값 설정 함수 추가"],initialize:function(AXJ_super){AXJ_super()},init:function(){var cfg=this.config;axdom("#"+cfg.targetID).bind("click",this.expandOptionBox.bind(this))},expandOptionBox:function(){var cfg=this.config;axdom.each(cfg.optionGroup,function(gidx,G){G.getOptionValue&&axdom.each(cfg.optionGroup[gidx].options,function(oidx,O){cfg.optionGroup[gidx].options[oidx].selected=!1})});var po=[];po.push('<div id="'+cfg.targetID+'_AX_expandBox" class="AXMultiSelector_expandBox">');var boxWidth=0;axdom.each(cfg.optionGroup,function(gidx,G){po.push('<div id="'+cfg.targetID+"_AX_expandScrollBox_AX_"+gidx+'" class="AXMultiSelector_scrollBox" style="width:'+this.width+'px;">'),po.push('\t<div id="'+cfg.targetID+"_AX_expandScroll_AX_"+gidx+'" class="AXMultiSelector_scroll">'),axdom.each(this.options,function(index,O){var selectedClass=O.selected?" on":"";po.push('<a href="#AXexec" id="'+cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+index+'" class="bindSelectorNodes '+selectedClass+'">'+O.optionText+"</a>")}),po.push("\t</div>"),po.push("</div>"),boxWidth+=this.width+2}),po.push('<div style="clear:both"></div>'),po.push('<div align="center" style="padding-top:5px;">'),po.push('\t<input type="button" value="확인" class="AXButton" id="'+cfg.targetID+'_AX_expandScrollBox_AX_confirm" />'),po.push('\t<input type="button" value="취소" class="AXButton" id="'+cfg.targetID+'_AX_expandScrollBox_AX_cancel" />'),po.push("</div>"),po.push("</div>"),axdom(document.body).append(po.join("")),boxWidth=boxWidth+5*cfg.optionGroup.length+5,axdom("#"+cfg.targetID+"_AX_expandBox").css({width:boxWidth});var css={},offset=axdom("#"+cfg.targetID).offset();css.top=offset.top,css.left=offset.left,axdom("#"+cfg.targetID+"_AX_expandBox").css(css),axdom.each(cfg.optionGroup,function(gidx,G){G.myUIScroll=new AXScroll,G.myUIScroll.setConfig({CT_className:"AXScrollSmall",targetID:cfg.targetID+"_AX_expandScrollBox_AX_"+gidx,scrollID:cfg.targetID+"_AX_expandScroll_AX_"+gidx,touchDirection:!1});var selectedValue="";G.getOptionValue&&(selectedValue=G.getOptionValue.call(G)),axdom.each(cfg.optionGroup[gidx].options,function(oidx,O){G.getOptionValue?O.optionValue==selectedValue&&(O.selected=!0,axdom("#"+cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+oidx).addClass("on"),G.myUIScroll.focusElement(cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+oidx)):O.selected?(O.selected=!0,axdom("#"+cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+oidx).addClass("on"),G.myUIScroll.focusElement(cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+oidx)):cfg.optionGroup[gidx].options[oidx].selected=!1})}),axdom("#"+cfg.targetID+"_AX_expandScrollBox_AX_confirm").bind("click",function(){if(cfg.onChange){var selectObj={};axdom.each(cfg.optionGroup,function(gidx,G){selectObj[G.name]={},axdom.each(cfg.optionGroup[gidx].options,function(oidx,O){O.selected&&(selectObj[G.name]=O)})}),cfg.onChange.call(selectObj)}axdom("#"+cfg.targetID+"_AX_expandBox").remove()}),axdom("#"+cfg.targetID+"_AX_expandScrollBox_AX_cancel").bind("click",function(){axdom("#"+cfg.targetID+"_AX_expandBox").remove()}),axdom("#"+cfg.targetID+"_AX_expandBox").find(".bindSelectorNodes").bind("click",function(event){var idx=event.target.id.split(/_AX_/g),gidx=idx[idx.length-3],index=idx[idx.length-1];axdom("#"+cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+index).addClass("on"),axdom.each(cfg.optionGroup[gidx].options,function(oidx,O){O.selected&&(axdom("#"+cfg.targetID+"_AX_"+gidx+"_AX_option_AX_"+oidx).removeClass("on"),delete O.selected)}),cfg.optionGroup[gidx].options[index].selected=!0})},setValue:function(obj){var cfg=this.config;axdom.each(cfg.optionGroup,function(gidx,G){axdom.each(obj,function(k,v){G.name==k&&axdom.each(G.options,function(){this.optionValue+""==v+""?this.selected=!0:delete this.selected})})})}}),AXProgress=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.Observer=null,this.config.duration=50,this.config.theme="AXlineProgress"},init:function(){},start:function(callBack,options){var config=this.config;config.callBack=callBack,config.options=options;var totalCount=config.totalCount||100;this.loadedCount=0;var loadedCount=this.loadedCount,loadedRate=(loadedCount/totalCount*100).round(1),progressWidth=config.width||200,progressTitle=config.title||"",progressTop=config.top||0;this.progressID="progress_AX_"+AXUtil.timekey();var progressID=this.progressID;this.progressStop=!1;var theme=config.theme,hasCancel=!1;config.options&&(config.options.totalCount&&(totalCount=config.options.totalCount),config.options.width&&(progressWidth=config.options.width),config.options.top&&(progressTop=config.options.top),config.options.title&&(progressTitle=config.options.title),config.options.cancel&&(hasCancel=config.options.cancel),config.options.theme&&(theme=config.options.theme));var po=[];po.push('<div class="AXprogressTray '+theme+'" id="'+progressID+'_AX_tray" align="center" style="top:'+progressTop+'px;">'),""!=progressTitle&&po.push('\t<div class="AXprogressTitle" id="'+progressID+'_AX_title" style="width:'+progressWidth+'px;" align="left">'+progressTitle+"</div>"),po.push('<div class="AXprogress" id="'+progressID+'" style="width:'+progressWidth+'px;">'),po.push('\t<div class="AXprogressContainer" id="'+progressID+'_AX_container" align="left" style="overflow:hidden;">'),"AXlineProgress"==theme?po.push('\t\t<div class="AXprogressBar" id="'+progressID+'_AX_bar" style="width:'+loadedRate+'%;"></div>'):po.push('\t\t<div class="AXprogressBar" id="'+progressID+'_AX_bar"></div>'),po.push("\t</div>"),po.push('    <div class="AXprogressLoadedText" id="'+progressID+'_AX_loadedText">'+loadedRate+"%</div>"),hasCancel&&po.push(' <a href="#axexec" id="'+progressID+'_AX_cancel" class="AXprogressCancel">Cancel</a>'),po.push("</div>"),po.push("</div>"),this.progress=axdom(po.join("")),axdom(document.body).append(this.progress),axdom("#"+progressID+"_AX_cancel").bind("click",this.cancel.bind(this)),this.loadedCount=1,this.update()},update:function(){var config=this.config,theme=config.theme;if(!this.progressStop){var totalCount=config.totalCount||100;config.options&&(config.options.totalCount&&(totalCount=config.options.totalCount),config.options.theme&&(theme=config.options.theme));var loadedCount=this.loadedCount,progressID=this.progressID,loadedRate=((loadedCount-1)/totalCount.number()*100).round(1);loadedRate>100&&(loadedRate=100),axdom("#"+progressID+"_AX_loadedText").html(loadedRate+"%<span>"+(loadedCount-1).money()+"/"+totalCount.money()+"</span>"),"AXlineProgress"==theme?axdom("#"+progressID+"_AX_bar").animate({width:loadedRate+"%"},config.duration,"",function(){config.callBack&&config.callBack.call({totalCount:totalCount,loadedCount:loadedCount,loadedRate:(loadedCount/(totalCount.number()+1)*100).round(1),isEnd:loadedCount-1==totalCount})}):setTimeout(function(){axdom("#"+progressID+"_AX_bar").addClass("percent"+5*((loadedCount/totalCount.number()*100).round(0)/5).round()),config.callBack&&config.callBack.call({totalCount:totalCount,loadedCount:loadedCount-1,loadedRate:(loadedCount/(totalCount.number()+1)*100).round(1),isEnd:loadedCount-1==totalCount})},config.duration),this.loadedCount++}},cancel:function(){var config=this.config,cancelMSg=(this.progressID,AXConfig.AXProgress.cancelMsg);if(config.options){var cancel=config.options.cancel;if(cancel.confirmMsg&&(cancelMSg=cancel.confirmMsg),confirm(cancelMSg)){this.progressStop=!0;var totalCount=config.totalCount||100,loadedCount=this.loadedCount;cancel.oncancel.call({totalCount:totalCount,loadedCount:loadedCount,loadedRate:(loadedCount/totalCount*100).round(1),isEnd:loadedCount==totalCount})}}},restart:function(){this.progressStop=!1,this.update()},close:function(){var progressID=(this.config,this.progressID);axdom("#"+progressID+"_AX_tray").remove()}}),SWFUpload,swfobject;!function(){void 0==SWFUpload&&(SWFUpload=function(settings){this.initSWFUpload(settings)}),SWFUpload.prototype.initSWFUpload=function(userSettings){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(userSettings),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(ex){throw delete SWFUpload.instances[this.movieName],ex}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.5.0 2010-01-15 Beta 2",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"transparent",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2},SWFUpload.completeURL=function(url){try{var indexSlash=-1;return"string"!=typeof url||url.match(/^https?:\/\//i)||url.match(/^\//)||""===url?url:(indexSlash=window.location.pathname.lastIndexOf("/"),(indexSlash<=0?"/":window.location.pathname.substr(0,indexSlash)+"/")+url)}catch(ex){return url}},SWFUpload.onload=function(){},SWFUpload.prototype.initSettings=function(userSettings){this.ensureDefault=function(settingName,defaultValue){var setting=userSettings[settingName];this.settings[settingName]=void 0!=setting?setting:defaultValue},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name",userSettings.uploadFileName),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types",userSettings.file_types),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("flash9_url","swfupload_fp9.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.ensureDefault("fileSelectAutoUpload",userSettings.fileSelectAutoUpload),this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_preload_handler",null),this.ensureDefault("swfupload_load_failed_handler",null),this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_resize_start_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("mouse_click_handler",null),this.ensureDefault("mouse_out_handler",null),this.ensureDefault("mouse_over_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime(),this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}},SWFUpload.prototype.loadFlash=function(){var targetElement,tempParent,wrapperType,flashHTML,els;if(!this.support.loading)return void this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"]);if(null!==document.getElementById(this.movieName))return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);if(void 0==(targetElement=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder))return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["button place holder not found"]);wrapperType="block"!==(targetElement.currentStyle&&targetElement.currentStyle.display||window.getComputedStyle&&document.defaultView.getComputedStyle(targetElement,null).getPropertyValue("display"))?"span":"div",tempParent=document.createElement(wrapperType),flashHTML=this.getFlashHTML();try{tempParent.innerHTML=flashHTML}catch(ex){return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"])}if(!(els=tempParent.getElementsByTagName("object"))||els.length>1||0===els.length)return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"]);1===els.length&&(this.movieElement=els[0]),targetElement.parentNode.replaceChild(tempParent.firstChild,targetElement),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(flashVersion){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" />','<param name="quality" value="high" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var httpSuccessString,paramString;return paramString=this.buildParamString(),httpSuccessString=this.settings.http_success.join(","),["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(httpSuccessString),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(paramString),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var name,postParams,paramStringPairs=[];if("object"==typeof(postParams=this.settings.post_params))for(name in postParams)postParams.hasOwnProperty(name)&&paramStringPairs.push(encodeURIComponent(name.toString())+"="+encodeURIComponent(postParams[name].toString()));return paramStringPairs.join("&amp;")},SWFUpload.prototype.destroy=function(){var movieElement;try{if(this.cancelUpload(null,!1),movieElement=this.cleanUp())try{movieElement.parentNode.removeChild(movieElement)}catch(ex){}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(ex2){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","flash9_url:                ",this.settings.flash9_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_cursor:            ",this.settings.button_cursor.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_preload_handler assigned:  ",("function"==typeof this.settings.swfupload_preload_handler).toString(),"\n","\t","swfupload_load_failed_handler assigned:  ",("function"==typeof this.settings.swfupload_load_failed_handler).toString(),"\n","\t","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","\t","mouse_click_handler assigned:       ",("function"==typeof this.settings.mouse_click_handler).toString(),"\n","\t","mouse_over_handler assigned:        ",("function"==typeof this.settings.mouse_over_handler).toString(),"\n","\t","mouse_out_handler assigned:         ",("function"==typeof this.settings.mouse_out_handler).toString(),"\n","\t","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","\t","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","\t","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","\t","upload_resize_start_handler assigned:      ",("function"==typeof this.settings.upload_resize_start_handler).toString(),"\n","\t","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","\t","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","\t","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","\t","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","\t","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","\t","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n","Support:\n","\t","Load:                     ",this.support.loading?"Yes":"No","\n","\t","Image Resize:             ",this.support.imageResize?"Yes":"No","\n"].join(""))},SWFUpload.prototype.addSetting=function(name,value,default_value){return this.settings[name]=void 0==value?default_value:value},SWFUpload.prototype.getSetting=function(name){return void 0!=this.settings[name]?this.settings[name]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){var movieElement,returnValue,returnString;argumentArray=argumentArray||[],movieElement=this.getMovieElement();try{void 0!=movieElement?(returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)):this.debug("Can't call flash because the movie wasn't found.")}catch(ex){this.debug("Exception calling flash function '"+functionName+"': "+ex.message)}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(fileID){(this.settings.fileSelectAutoUpload||1==this.settings.allowUpload)&&this.callFlash("StartUpload",[fileID])},SWFUpload.prototype.startResizedUpload=function(fileID,width,height,encoding,quality,allowEnlarging){this.callFlash("StartUpload",[fileID,{width:width,height:height,encoding:encoding,quality:quality,allowEnlarging:allowEnlarging}])},SWFUpload.prototype.cancelUpload=function(fileID,triggerErrorEvent){!1!==triggerErrorEvent&&(triggerErrorEvent=!0),this.callFlash("CancelUpload",[fileID,triggerErrorEvent])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.requeueUpload=function(indexOrFileID){return this.callFlash("RequeueUpload",[indexOrFileID])},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(statsObject){this.callFlash("SetStats",[statsObject])},SWFUpload.prototype.getFile=function(fileID){return"number"==typeof fileID?this.callFlash("GetFileByIndex",[fileID]):this.callFlash("GetFile",[fileID])},SWFUpload.prototype.getQueueFile=function(fileID){return"number"==typeof fileID?this.callFlash("GetFileByQueueIndex",[fileID]):this.callFlash("GetFile",[fileID])},SWFUpload.prototype.addFileParam=function(fileID,name,value){return this.callFlash("AddFileParam",[fileID,name,value])},SWFUpload.prototype.removeFileParam=function(fileID,name){this.callFlash("RemoveFileParam",[fileID,name])},SWFUpload.prototype.setUploadURL=function(url){this.settings.upload_url=url.toString(),this.callFlash("SetUploadURL",[url])},SWFUpload.prototype.setPostParams=function(paramsObject){this.settings.post_params=paramsObject,this.callFlash("SetPostParams",[paramsObject])},SWFUpload.prototype.addPostParam=function(name,value){this.settings.post_params[name]=value,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(name){delete this.settings.post_params[name],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(types,description){this.settings.file_types=types,this.settings.file_types_description=description,this.callFlash("SetFileTypes",[types,description])},SWFUpload.prototype.setFileSizeLimit=function(fileSizeLimit){this.settings.file_size_limit=fileSizeLimit,this.callFlash("SetFileSizeLimit",[fileSizeLimit])},SWFUpload.prototype.setFileUploadLimit=function(fileUploadLimit){this.settings.file_upload_limit=fileUploadLimit,this.callFlash("SetFileUploadLimit",[fileUploadLimit])},SWFUpload.prototype.setFileQueueLimit=function(fileQueueLimit){this.settings.file_queue_limit=fileQueueLimit,this.callFlash("SetFileQueueLimit",[fileQueueLimit])},SWFUpload.prototype.setFilePostName=function(filePostName){this.settings.file_post_name=filePostName,this.callFlash("SetFilePostName",[filePostName])},SWFUpload.prototype.setUseQueryString=function(useQueryString){this.settings.use_query_string=useQueryString,this.callFlash("SetUseQueryString",[useQueryString])},SWFUpload.prototype.setRequeueOnError=function(requeueOnError){this.settings.requeue_on_error=requeueOnError,this.callFlash("SetRequeueOnError",[requeueOnError])},SWFUpload.prototype.setHTTPSuccess=function(http_status_codes){"string"==typeof http_status_codes&&(http_status_codes=http_status_codes.replace(" ","").split(",")),this.settings.http_success=http_status_codes,this.callFlash("SetHTTPSuccess",[http_status_codes])},SWFUpload.prototype.setAssumeSuccessTimeout=function(timeout_seconds){this.settings.assume_success_timeout=timeout_seconds,this.callFlash("SetAssumeSuccessTimeout",[timeout_seconds])},SWFUpload.prototype.setDebugEnabled=function(debugEnabled){this.settings.debug_enabled=debugEnabled,this.callFlash("SetDebugEnabled",[debugEnabled])},SWFUpload.prototype.setButtonImageURL=function(buttonImageURL){void 0==buttonImageURL&&(buttonImageURL=""),this.settings.button_image_url=buttonImageURL,this.callFlash("SetButtonImageURL",[buttonImageURL])},SWFUpload.prototype.setButtonDimensions=function(width,height){this.settings.button_width=width,this.settings.button_height=height;var movie=this.getMovieElement();void 0!=movie&&(movie.style.width=width+"px",movie.style.height=height+"px"),this.callFlash("SetButtonDimensions",[width,height])},SWFUpload.prototype.setButtonText=function(html){this.settings.button_text=html,this.callFlash("SetButtonText",[html])},SWFUpload.prototype.setButtonTextPadding=function(left,top){this.settings.button_text_top_padding=top,this.settings.button_text_left_padding=left,this.callFlash("SetButtonTextPadding",[left,top])},SWFUpload.prototype.setButtonTextStyle=function(css){this.settings.button_text_style=css,this.callFlash("SetButtonTextStyle",[css])},SWFUpload.prototype.setButtonDisabled=function(isDisabled){this.settings.button_disabled=isDisabled,this.callFlash("SetButtonDisabled",[isDisabled])},SWFUpload.prototype.setButtonAction=function(buttonAction){this.settings.button_action=buttonAction,this.callFlash("SetButtonAction",[buttonAction])},SWFUpload.prototype.setButtonCursor=function(cursor){this.settings.button_cursor=cursor,this.callFlash("SetButtonCursor",[cursor])},SWFUpload.prototype.queueEvent=function(handlerName,argumentArray){var self=this;if(void 0==argumentArray?argumentArray=[]:argumentArray instanceof Array||(argumentArray=[argumentArray]),"function"==typeof this.settings[handlerName])this.eventQueue.push(function(){this.settings[handlerName].apply(this,argumentArray)}),setTimeout(function(){self.executeNextEvent()},0);else if(null!==this.settings[handlerName])throw"Event handler "+handlerName+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var f=this.eventQueue?this.eventQueue.shift():null;"function"==typeof f&&f.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(file){var uk,k,match,reg=/[$]([0-9a-f]{4})/i,unescapedPost={};if(void 0!=file){for(k in file.post)if(file.post.hasOwnProperty(k)){for(uk=k;null!==(match=reg.exec(uk));)uk=uk.replace(match[0],String.fromCharCode(parseInt("0x"+match[1],16)));unescapedPost[uk]=file.post[k]}file.post=unescapedPost}return file},SWFUpload.prototype.swfuploadPreload=function(){var returnValue;if("function"==typeof this.settings.swfupload_preload_handler)returnValue=this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";return void 0===returnValue&&(returnValue=!0),!!returnValue},SWFUpload.prototype.flashReady=function(){if(!this.cleanUp())return void this.debug("Flash called back ready but the flash movie can't be found.");this.queueEvent("swfupload_loaded_handler")},SWFUpload.prototype.cleanUp=function(){var key,movieElement=this.getMovieElement();try{if(movieElement&&"unknown"==typeof movieElement.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(key in movieElement)try{"function"==typeof movieElement[key]&&(movieElement[key]=null)}catch(ex){}}}catch(ex1){}return window.__flash__removeCallback=function(instance,name){try{instance&&(instance[name]=null)}catch(flashEx){}},movieElement},SWFUpload.prototype.mouseClick=function(){this.queueEvent("mouse_click_handler")},SWFUpload.prototype.mouseOver=function(){this.queueEvent("mouse_over_handler")},SWFUpload.prototype.mouseOut=function(){this.queueEvent("mouse_out_handler")},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(file){file=this.unescapeFilePostParams(file),this.queueEvent("file_queued_handler",file)},SWFUpload.prototype.fileQueueError=function(file,errorCode,message){file=this.unescapeFilePostParams(file),this.queueEvent("file_queue_error_handler",[file,errorCode,message])},SWFUpload.prototype.fileDialogComplete=function(numFilesSelected,numFilesQueued,numFilesInQueue){this.queueEvent("file_dialog_complete_handler",[numFilesSelected,numFilesQueued,numFilesInQueue])},SWFUpload.prototype.uploadResizeStart=function(file,resizeSettings){file=this.unescapeFilePostParams(file),this.queueEvent("upload_resize_start_handler",[file,resizeSettings.width,resizeSettings.height,resizeSettings.encoding,resizeSettings.quality])},SWFUpload.prototype.uploadStart=function(file){file=this.unescapeFilePostParams(file),this.queueEvent("return_upload_start_handler",file)},SWFUpload.prototype.returnUploadStart=function(file){var returnValue;if("function"==typeof this.settings.upload_start_handler)file=this.unescapeFilePostParams(file),returnValue=this.settings.upload_start_handler.call(this,file);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===returnValue&&(returnValue=!0),returnValue=!!returnValue,this.callFlash("ReturnUploadStart",[returnValue])},SWFUpload.prototype.uploadProgress=function(file,bytesComplete,bytesTotal){file=this.unescapeFilePostParams(file),this.queueEvent("upload_progress_handler",[file,bytesComplete,bytesTotal])},SWFUpload.prototype.uploadError=function(file,errorCode,message){file=this.unescapeFilePostParams(file),this.queueEvent("upload_error_handler",[file,errorCode,message])},SWFUpload.prototype.uploadSuccess=function(file,serverData,responseReceived){file=this.unescapeFilePostParams(file),this.queueEvent("upload_success_handler",[file,serverData,responseReceived])},SWFUpload.prototype.uploadComplete=function(file){file=this.unescapeFilePostParams(file),this.queueEvent("upload_complete_handler",file)},SWFUpload.prototype.debug=function(message){this.queueEvent("debug_handler",message)},SWFUpload.prototype.debugMessage=function(message){var exceptionMessage,exceptionValues,key;if(this.settings.debug)if(exceptionValues=[],"object"==typeof message&&"string"==typeof message.name&&"string"==typeof message.message){for(key in message)message.hasOwnProperty(key)&&exceptionValues.push(key+": "+message[key]);exceptionMessage=exceptionValues.join("\n")||"",exceptionValues=exceptionMessage.split("\n"),exceptionMessage="EXCEPTION: "+exceptionValues.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(exceptionMessage)}else SWFUpload.Console.writeLine(message)},SWFUpload.Console={},SWFUpload.Console.writeLine=function(message){var console,documentForm;try{console=document.getElementById("SWFUpload_Console"),console||(documentForm=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(documentForm),console=document.createElement("textarea"),console.id="SWFUpload_Console",console.style.fontFamily="monospace",console.setAttribute("wrap","off"),console.wrap="off",console.style.overflow="auto",console.style.width="700px",console.style.height="350px",console.style.margin="5px",documentForm.appendChild(console)),console.value+=message+"\n",console.scrollTop=console.scrollHeight-console.clientHeight}catch(ex){alert("Exception: "+ex.name+" Message: "+ex.message)}},swfobject=function(){function f(){if(!J){try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=!0;for(var X=U.length,Y=0;Y<X;Y++)U[Y]()}}function K(X){J?X():U[U.length]=X}function s(Y){if(typeof O.addEventListener!=D)O.addEventListener("load",Y,!1);else if(typeof j.addEventListener!=D)j.addEventListener("load",Y,!1);else if(typeof O.attachEvent!=D)i(O,"onload",Y);else if("function"==typeof O.onload){var X=O.onload;O.onload=function(){X(),Y()}}else O.onload=Y}function h(){T?V():H()}function V(){var X=j.getElementsByTagName("body")[0],aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;!function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");ab&&(ab=ab.split(" ")[1].split(","),M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)])}else if(Y<10)return Y++,void setTimeout(arguments.callee,10);X.removeChild(aa),Z=null,H()}()}else H()}function H(){var ag=o.length;if(ag>0)for(var af=0;af<ag;af++){var Y=o[af].id,ab=o[af].callbackFn,aa={success:!1,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae)if(!F(o[af].swfVersion)||M.wk&&M.wk<312)if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall,ai.width=ae.getAttribute("width")||"0",ai.height=ae.getAttribute("height")||"0",ae.getAttribute("class")&&(ai.styleclass=ae.getAttribute("class")),ae.getAttribute("align")&&(ai.align=ae.getAttribute("align"));for(var ah={},X=ae.getElementsByTagName("param"),ac=X.length,ad=0;ad<ac;ad++)"movie"!=X[ad].getAttribute("name").toLowerCase()&&(ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value"));P(ai,ah,Y,ab)}else p(ae),ab&&ab(aa);else w(Y,!0),ab&&(aa.success=!0,aa.ref=z(Y),ab(aa))}else if(w(Y,!0),ab){var Z=z(Y);Z&&typeof Z.SetVariable!=D&&(aa.success=!0,aa.ref=Z),ab(aa)}}}function z(aa){var X=null,Y=c(aa);if(Y&&"OBJECT"==Y.nodeName)if(typeof Y.SetVariable!=D)X=Y;else{var Z=Y.getElementsByTagName(r)[0];Z&&(X=Z)}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=!0,E=Z||null,B={success:!1,id:X};var ae=c(X);if(ae){"OBJECT"==ae.nodeName?(l=g(ae),Q=null):(l=ae,Q=X),aa.id=R,(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)&&(aa.width="310"),(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)&&(aa.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D?ab.flashvars+="&"+ac:ab.flashvars=ac,M.ie&&M.win&&4!=ae.readyState){var Y=C("div");X+="SWFObjectNew",Y.setAttribute("id",X),ae.parentNode.insertBefore(Y,ae),ae.style.display="none",function(){4==ae.readyState?ae.parentNode.removeChild(ae):setTimeout(arguments.callee,10)}()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&4!=Y.readyState){var X=C("div");Y.parentNode.insertBefore(X,Y),X.parentNode.replaceChild(g(Y),X),Y.style.display="none",function(){4==Y.readyState?Y.parentNode.removeChild(Y):setTimeout(arguments.callee,10)}()}else Y.parentNode.replaceChild(g(Y),Y)}function g(ab){var aa=C("div");if(M.win&&M.ie)aa.innerHTML=ab.innerHTML;else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad)for(var X=ad.length,Z=0;Z<X;Z++)1==ad[Z].nodeType&&"PARAM"==ad[Z].nodeName||8==ad[Z].nodeType||aa.appendChild(ad[Z].cloneNode(!0))}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312)return X;if(aa)if(typeof ai.id==D&&(ai.id=Y),M.ie&&M.win){var ah="";for(var ae in ai)ai[ae]!=Object.prototype[ae]&&("data"==ae.toLowerCase()?ag.movie=ai[ae]:"styleclass"==ae.toLowerCase()?ah+=' class="'+ai[ae]+'"':"classid"!=ae.toLowerCase()&&(ah+=" "+ae+'="'+ai[ae]+'"'));var af="";for(var ad in ag)ag[ad]!=Object.prototype[ad]&&(af+='<param name="'+ad+'" value="'+ag[ad]+'" />');aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>",N[N.length]=ai.id,X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai)ai[ac]!=Object.prototype[ac]&&("styleclass"==ac.toLowerCase()?Z.setAttribute("class",ai[ac]):"classid"!=ac.toLowerCase()&&Z.setAttribute(ac,ai[ac]));for(var ab in ag)ag[ab]!=Object.prototype[ab]&&"movie"!=ab.toLowerCase()&&e(Z,ab,ag[ab]);aa.parentNode.replaceChild(Z,aa),X=Z}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X),aa.setAttribute("value",Y),Z.appendChild(aa)}function y(Y){var X=c(Y);X&&"OBJECT"==X.nodeName&&(M.ie&&M.win?(X.style.display="none",function(){4==X.readyState?b(Y):setTimeout(arguments.callee,10)}()):X.parentNode.removeChild(X))}function b(Z){var Y=c(Z);if(Y){for(var X in Y)"function"==typeof Y[X]&&(Y[X]=null);Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y),I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");return X[0]=parseInt(X[0],10),X[1]=parseInt(X[1],10)||0,X[2]=parseInt(X[2],10)||0,Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]}function v(ac,Y,ad,ab){if(!M.ie||!M.mac){var aa=j.getElementsByTagName("head")[0];if(aa){var X=ad&&"string"==typeof ad?ad:"screen";if(ab&&(n=null,G=null),!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css"),Z.setAttribute("media",X),n=aa.appendChild(Z),M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0&&(n=j.styleSheets[j.styleSheets.length-1]),G=X}M.ie&&M.win?n&&typeof n.addRule==r&&n.addRule(ac,Y):n&&typeof j.createTextNode!=D&&n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(m){var Y=X?"visible":"hidden";J&&c(Z)?c(Z).style.visibility=Y:v("#"+Z,"visibility:"+Y)}}function L(Y){return null!=/[\\\"<>\.;]/.exec(Y)&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var l,Q,E,B,n,G,D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=!1,U=[h],o=[],N=[],I=[],J=!1,a=!1,m=!0,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=/win/.test(Y?Y:ah),ac=/mac/.test(Y?Y:ah),af=!!/webkit/.test(ah)&&parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),X=!1,ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r)!(ab=t.plugins[S].description)||typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin||(T=!0,X=!1,ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10),ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10),ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=D)try{var ad=new ActiveXObject(W);ad&&(ab=ad.GetVariable("$version"))&&(X=!0,ab=ab.split(" ")[1].split(","),ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)])}catch(Z){}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}();(function(){M.w3&&((typeof j.readyState!=D&&"complete"==j.readyState||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))&&f(),J||(typeof j.addEventListener!=D&&j.addEventListener("DOMContentLoaded",f,!1),M.ie&&M.win&&(j.attachEvent(x,function(){"complete"==j.readyState&&(j.detachEvent(x,arguments.callee),f())}),O==top&&function(){if(!J){try{j.documentElement.doScroll("left")}catch(X){return void setTimeout(arguments.callee,0)}f()}}()),M.wk&&function(){if(!J)/loaded|complete/.test(j.readyState)?f():setTimeout(arguments.callee,0)}(),s(f)))})(),function(){M.ie&&M.win&&window.attachEvent("onunload",function(){for(var ac=I.length,ab=0;ab<ac;ab++)I[ab][0].detachEvent(I[ab][1],I[ab][2]);for(var Z=N.length,aa=0;aa<Z;aa++)y(N[aa]);for(var Y in M)M[Y]=null;M=null;for(var X in swfobject)swfobject[X]=null;swfobject=null})}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab,Y.swfVersion=X,Y.expressInstall=aa,Y.callbackFn=Z,o[o.length]=Y,w(ab,!1)}else Z&&Z({success:!1,id:ab})},getObjectById:function(X){if(M.w3)return z(X)},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:!1,id:ah};M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y?(w(ah,!1),K(function(){ae+="",ag+="";var aj={};if(af&&typeof af===r)for(var al in af)aj[al]=af[al];aj.data=ab,aj.width=ae,aj.height=ag;var am={};if(ad&&typeof ad===r)for(var ak in ad)am[ak]=ad[ak];if(Z&&typeof Z===r)for(var ai in Z)typeof am.flashvars!=D?am.flashvars+="&"+ai+"="+Z[ai]:am.flashvars=ai+"="+Z[ai];if(F(Y)){var an=u(aj,am,ah);aj.id==ah&&w(ah,!0),X.success=!0,X.ref=an}else{if(aa&&A())return aj.data=aa,void P(aj,am,ah,ac);w(ah,!0)}ac&&ac(X)})):ac&&ac(X)},switchOffAutoHideShow:function(){m=!1},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){return M.w3?u(Z,Y,X):void 0},showExpressInstall:function(Z,aa,X,Y){M.w3&&A()&&P(Z,aa,X,Y)},removeSWF:function(X){M.w3&&y(X)},createCSS:function(aa,Z,Y,X){M.w3&&v(aa,Z,Y,X)},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)&&(Z=Z.split("?")[1]),null==aa)return L(Z);for(var Y=Z.split("&"),X=0;X<Y.length;X++)if(Y[X].substring(0,Y[X].indexOf("="))==aa)return L(Y[X].substring(Y[X].indexOf("=")+1))}return""},expressInstallCallback:function(){if(a){var X=c(R);X&&l&&(X.parentNode.replaceChild(l,X),Q&&(w(Q,!0),M.ie&&M.win&&(l.style.display="block")),E&&E(B)),a=!1}}}}(),swfobject.addDomLoadEvent(function(){"function"==typeof SWFUpload.onload&&SWFUpload.onload.call(window)})}();var AXUpload5=Class.create(AXJ,{initialize:function(AXJ_super){AXJ_super(),this.uploadedList=[],this.uploadingObj=null,this.queue=[],this.queueLive=!1,this.isSingleUpload=!1,this.config.uploadFileName="fileData",this.config.file_types="*.*",this.config.fileSelectAutoUpload=!0,this.supportHtml5=!1,window.File&&window.FileReader&&window.FileList&&window.Blob&&(this.supportHtml5=!0),AXConfig.AXUpload5||(AXConfig.AXUpload5={buttonTxt:"Upload files"}),this.config.buttonTxt=AXConfig.AXUpload5.buttonTxt,this.fileKeys={_id_:"_id_",name:"name",type:"type",saveName:"saveName",fileSize:"fileSize",uploadedPath:"uploadedPath",thumbPath:"thumbPath"},this.config.flash_url="/_AXJ/lib/swfupload.swf",this.config.flash9_url="/_AXJ/lib/swfupload_fp9.swf",this.config.uploadPars={},this.config.deletePars={},this.config.queueBoxAppendType="append"},init:function(reset){var cfg=this.config;for(k in this.fileKeys)void 0!==this.config.fileKeys&&void 0!==this.config.fileKeys[k]||(this.config.fileKeys[k]=this.fileKeys[k]);if(void 0==reset){if(!this.supportHtml5)return cfg.onError&&cfg.onError("html5Support"),void this.swfinit(reset)}else if(!this.supportHtml5)return;var baseUrl=axdom("base").attr("href");axf.isEmpty(baseUrl)&&(baseUrl=""),"/"==cfg.uploadUrl.left(1)&&(cfg.uploadUrl=baseUrl+cfg.uploadUrl),"/"==cfg.deleteUrl.left(1)&&(cfg.deleteUrl=baseUrl+cfg.deleteUrl),cfg.dropBoxTarget&&(void 0===cfg.dropBoxTarget.id||""==cfg.dropBoxTarget.id?axdom(cfg.dropBoxTarget).attr("id",cfg.dropBoxTarget.id=cfg.dropBoxID="AXJUnique_dropBox_"+axf.getUniqueId()):axf.isEmpty(cfg.dropBoxID)&&(cfg.dropBoxID=cfg.dropBoxTarget.id)),cfg.queueBoxTarget&&(void 0===cfg.queueBoxTarget.id||""==cfg.queueBoxTarget.id?(axdom(cfg.queueBoxTarget).attr("id",cfg.queueBoxTarget.id=cfg.queueBoxID="AXJUnique_queueBox_"+axf.getUniqueId()),alert(cfg.queueBoxID)):axf.isEmpty(cfg.queueBoxID)&&(cfg.queueBoxID=cfg.queueBoxTarget.id)),this.target=axdom("#"+cfg.targetID),void 0==reset&&(this.target.empty(),this.uploadedList=[]);var inputFileMultiple='multiple="multiple"',inputFileAccept=cfg.file_types;cfg.isSingleUpload&&(inputFileMultiple=""),this.supportHtml5||(inputFileMultiple="");var po=[];po.push('<div style="position:relative;">'),po.push('   <div style="float:left;">'),po.push('\t    <input type="file" id="'+cfg.targetID+'_AX_files" '+inputFileMultiple+' accept="'+inputFileAccept+'" style="position:absolute;left:0px;top:0px;margin:0px;padding:0px;-moz-opacity: 0.0;opacity:.00;filter: alpha(opacity=0);" />'),po.push('\t    <button type="button" class="AXButton '+cfg.targetButtonClass+'" id="'+cfg.targetID+'_AX_selector"><span class="AXFileSelector">'+cfg.buttonTxt+"</span></button>"),po.push("   </div>"),cfg.isSingleUpload&&1!=cfg.fileDisplayHide&&(po.push('   <div style="float:left;">'),po.push('       <div class="AXFileDisplay" style="padding:3px; 5px;" id="'+cfg.targetID+'_AX_display">'+AXConfig.AXUpload5.uploadSelectTxt+"</div>"),po.push("   </div>")),po.push('   <div style="clear:both;"></div>'),po.push("</div>"),this.target.empty(),this.target.append(po.join("")),axdom("#"+cfg.targetID+"_AX_selectorTD").css({width:axdom("#"+cfg.targetID+"_AX_selector").outerWidth()+5}),axdom("#"+cfg.targetID+"_AX_files").css({width:axdom("#"+cfg.targetID+"_AX_selector").outerWidth(),height:axdom("#"+cfg.targetID+"_AX_selector").outerHeight()});var pauseQueue=this.pauseQueue.bind(this),_this=this;axdom("#"+cfg.targetID+"_AX_selector").click(function(event){return!(cfg.onbeforeFileSelect&&!cfg.onbeforeFileSelect.call({uploadedList:_this.uploadedList,uploadMaxFileSize:cfg.uploadMaxFileSize,uploadMaxFileCount:cfg.uploadMaxFileCount}))&&(!cfg.isSingleUpload&&0!=cfg.uploadMaxFileCount&&_this.uploadedList.length>=cfg.uploadMaxFileCount?(cfg.onError("fileCount"),!1):(pauseQueue(),void axdom("#"+cfg.targetID+"_AX_files").click()))});var onFileSelect=this.onFileSelect.bind(this),fileSelector=document.getElementById(cfg.targetID+"_AX_files");if("ie"==axf.browser.name&&axf.browser.version<9||fileSelector.addEventListener("change",onFileSelect,!1),void 0==reset){if(cfg.dropBoxID&&this.supportHtml5){axdom("#"+cfg.dropBoxID).addClass("allowDrop").html('<div class="dropZoneBox" id="'+cfg.dropBoxID+'_dropZoneBox" style="border:3px dashed #d7d7d7;display:none;"></div>');var onFileDragOver=this.onFileDragOver.bind(this),onFileDrop=this.onFileDrop.bind(this);document.getElementById(cfg.dropBoxID).addEventListener("dragover",function(evt){onFileDragOver(evt)},!1);document.getElementById(cfg.dropBoxID+"_dropZoneBox").addEventListener("drop",function(evt){return cfg.onbeforeFileSelect&&!cfg.onbeforeFileSelect.call({uploadedList:_this.uploadedList,uploadMaxFileSize:cfg.uploadMaxFileSize,uploadMaxFileCount:cfg.uploadMaxFileCount})?(evt.stopPropagation(),evt.preventDefault(),axdom("#"+cfg.dropBoxID).removeClass("onDrop"),axdom("#"+cfg.dropBoxID+"_dropZoneBox").hide(),!1):!cfg.isSingleUpload&&0!=cfg.uploadMaxFileCount&&_this.uploadedList.length>=cfg.uploadMaxFileCount?(evt.stopPropagation(),evt.preventDefault(),axdom("#"+cfg.dropBoxID).removeClass("onDrop"),axdom("#"+cfg.dropBoxID+"_dropZoneBox").hide(),cfg.onError("fileCount"),!1):void onFileDrop(evt)},!1)}cfg.queueBoxID&&(this.multiSelector=new AXMultiSelect,this.multiSelector.setConfig({selectStage:cfg.queueBoxID,selectClassName:"readyselect",beselectClassName:"beSelected",selectingClassName:"AX_selecting"}))}},swfinit:function(reset){var cfg=this.config;this.target=axdom("#"+cfg.targetID);var po=[];po.push('<div style="position:relative;">'),po.push('\t<table style="table-layout:fixed;width:100%;"><tbody><tr><td id="'+cfg.targetID+'_AX_selectorTD">'),po.push('\t<button type="button" class="AXButton '+cfg.targetButtonClass+'" id="'+cfg.targetID+'_AX_selector"><span class="AXFileSelector">'+cfg.buttonTxt+"</span></button>"),po.push('\t<span id="spanButtonPlaceholder" class="AXUpload5flashUploadButton"></span>'),po.push("\t</td>"),cfg.isSingleUpload&&(po.push("<td>"),po.push('<div class="AXFileDisplay" id="'+cfg.targetID+'_AX_display">'+AXConfig.AXUpload5.uploadSelectTxt+"</div>"),po.push("</td>")),po.push("\t<tr></tbody></table>"),po.push("</div>"),this.target.empty(),this.target.append(po.join("")),axdom("#"+cfg.targetID+"_AX_selectorTD").css({width:axdom("#"+cfg.targetID+"_AX_selector").outerWidth()+5});var btnW=axdom("#"+cfg.targetID+"_AX_selector").outerWidth(),btnH=axdom("#"+cfg.targetID+"_AX_selector").outerHeight(),uploadSuccess=this.uploadSuccess.bind(this),onClickDeleteButton=this.onClickDeleteButton.bind(this),onClickFileTitle=this.onClickFileTitle.bind(this),file_dialog_complete_handler=function(numFilesSelected,numFilesQueued){numFilesSelected>0&&this.swfu.getStats().files_queued>0&&cfg.onStart&&cfg.onStart.call(this.queue),this.swfu.startUpload()},file_dialog_complete_handler_bind=file_dialog_complete_handler.bind(this),file_queued_handler=function(file){if(cfg.isSingleUpload){var myFile=this.uploadedList.first();if(myFile){confirm(AXConfig.AXUpload5.deleteConfirm)||this.cancelUpload();var uploadFn=function(){var itemID="AX_"+file[cfg.fileKeys._id_];this.queue.push({_id_:itemID,file:file}),axdom("#"+cfg.targetID+"_AX_display").empty(),axdom("#"+cfg.targetID+"_AX_display").append(this.getItemTag(itemID,file))};return void this.deleteFile(myFile,uploadFn.bind(this))}var itemID="AX_"+file[cfg.fileKeys._id_];this.queue.push({_id_:itemID,file:file}),axdom("#"+cfg.targetID+"_AX_display").empty(),axdom("#"+cfg.targetID+"_AX_display").append(this.getItemTag(itemID,file))}else{if(0!=cfg.uploadMaxFileCount&&this.uploadedList.length>=cfg.uploadMaxFileCount)return cfg.onError("fileCount"),void this.cancelUpload();var itemID="AX_"+file[cfg.fileKeys._id_];this.queue.push({_id_:itemID,file:file}),"prepend"==cfg.queueBoxAppendType?axdom("#"+cfg.queueBoxID).prepend(this.getItemTag(itemID,file)):axdom("#"+cfg.queueBoxID).append(this.getItemTag(itemID,file)),axdom("#"+cfg.queueBoxID).find("#"+itemID).fadeIn()}},file_queued_handler_bind=file_queued_handler.bind(this),file_queue_error_handler=function(file,errorCode,message){try{if(errorCode===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED)return void alert("You have attempted to queue too many files.\n"+(0===message?"You have reached the upload limit.":"You may select "+(message>1?"up to "+message+" files.":"one file.")));switch(this.cancelUpload(),cfg.onComplete&&cfg.onComplete.call(this.uploadedList,this.uploadedList),errorCode){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.showMSG("File is too big."),this.swfu.debug("Error Code: File too big, File name: "+file.name+", File size: "+file.size+", Message: "+message);break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:this.showMSG("Cannot upload Zero Byte files."),this.swfu.debug("Error Code: Zero byte file, File name: "+file.name+", File size: "+file.size+", Message: "+message);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:this.showMSG("Invalid File Type."),this.swfu.debug("Error Code: Invalid File Type, File name: "+file.name+", File size: "+file.size+", Message: "+message);break;default:null!==file&&this.showMSG("Unhandled Error"),this.swfu.debug("Error Code: "+errorCode+", File name: "+file.name+", File size: "+file.size+", Message: "+message)}}catch(ex){this.debug(ex)}},file_queue_error_handler_bind=file_queue_error_handler.bind(this),upload_start_handler=function(){this.isSingleUpload||0!=cfg.uploadMaxFileCount&&cfg.uploadMaxFileCount<=this.uploadedList.length&&this.cancelUpload()},upload_start_handler_bind=upload_start_handler.bind(this),upload_progress_handler=function(file,bytesLoaded,bytesTotal){var itemID="AX_"+file[cfg.fileKeys._id_];cfg.isSingleUpload?axdom("#"+itemID).find(".AXUploadProcessBar").width((bytesLoaded/bytesTotal*100).round(2)+"%"):axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadProcessBar").width((bytesLoaded/bytesTotal*100).round(2)+"%")},upload_progress_handler_bind=upload_progress_handler.bind(this),upload_error_handler=function(file,errorCode,message){cfg.onError&&(errorCode==SWFUpload.UPLOAD_ERROR.HTTP_ERROR&&413==message&&(errorCode="fileSize"),cfg.onError(errorCode,file))},upload_error_handler_bind=upload_error_handler.bind(this),upload_success_handler=function(file,res){var itemID="AX_"+file[cfg.fileKeys._id_];try{"string"==typeof res&&(res=res.object())}catch(e){trace(e)}cfg.isSingleUpload?(axdom("#"+itemID+" .AXUploadBtns").show(),axdom("#"+itemID+" .AXUploadLabel").show(),axdom("#"+itemID+" .AXUploadTit").show(),axdom("#"+itemID+" .AXUploadProcess").hide(),uploadSuccess(file,itemID,res),axdom("#"+itemID+" .AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&axdom("#"+itemID+" .AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)})):(axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadBtns").show(),axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadLabel").show(),axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadProcess").hide(),res[cfg.fileKeys.thumbPath]?axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadIcon").css({"background-image":"url('"+(res[cfg.fileKeys.thumbPath]||"").dec()+"')"}).addClass("AXUploadPreview").find("img.preview").remove():(axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadIcon").css({"background-image":"url()"}),axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadIcon").html((res[cfg.fileKeys.type]||"").dec().replace(".",""))),uploadSuccess(file,itemID,res),axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&axdom("#"+cfg.queueBoxID).find("#"+itemID+" .AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)}));var updateQueue=[];axdom.each(this.queue,function(){this.id!=itemID&&updateQueue.push(this)}),this.queue=updateQueue},upload_success_handler_bind=upload_success_handler.bind(this),upload_complete_handler=function(){this.isSingleUpload?this.uploadComplete():0===this.swfu.getStats().files_queued?(this.uploadComplete(),this.swfu.settings.allowUpload=!1):this.swfu.startUpload()},upload_complete_handler_bind=upload_complete_handler.bind(this),queue_complete_handler=function(){},queue_complete_handler_bind=queue_complete_handler.bind(this),settings={flash_url:cfg.flash_url,flash9_url:cfg.flash9_url,upload_url:cfg.uploadUrl,file_post_name:cfg.uploadFileName,post_params:cfg.uploadPars,file_size_limit:cfg.uploadMaxFileSize,fileSelectAutoUpload:cfg.fileSelectAutoUpload,file_types:cfg.flash_file_types||"*.*",file_types_description:cfg.flash_file_types_description||"all",file_upload_limit:0,file_queue_limit:0,debug:!1,button_image_url:"null",button_placeholder_id:"spanButtonPlaceholder",button_width:btnW,button_height:btnH,swfupload_preload_handler:function(){},swfupload_load_failed_handler:function(){},swfupload_loaded_handler:function(){},file_queued_handler:file_queued_handler_bind,file_queue_error_handler:file_queue_error_handler_bind,file_dialog_complete_handler:file_dialog_complete_handler_bind,upload_start_handler:upload_start_handler_bind,upload_progress_handler:upload_progress_handler_bind,upload_error_handler:upload_error_handler_bind,upload_success_handler:upload_success_handler_bind,upload_complete_handler:upload_complete_handler_bind,queue_complete_handler:queue_complete_handler_bind};this.swfu=new SWFUpload(settings),cfg.queueBoxID&&(this.multiSelector=new AXMultiSelect,this.multiSelector.setConfig({selectStage:cfg.queueBoxID,selectClassName:"readyselect",beselectClassName:"beSelected"}))},getItemTag:function(itemID,f){var cfg=this.config,po=[];if(cfg.isSingleUpload)po.push('<div class="AXUploadItem '+(cfg.openMode||"")+'" id="'+itemID+'">'),po.push('\t<div class="AXUploadBtns" style="display:none;">'),po.push('\t\t<a href="#AXExecption" class="AXUploadBtnsA" id="'+itemID+'_AXUploadBtns_deleteFile">del</a>'),po.push("\t</div>"),po.push('\t<div class="AXUploadLabel '+(cfg.openMode||"")+'" style="display:none;">'),"view"!=cfg.openMode&&po.push('\t\t<a href="#AXExecption" id="'+itemID+'_AXUploadLabel_download" class="AXUploadDownload">download</a>'),po.push("\t</div>"),po.push('\t<div class="AXUploadProcess">'),po.push('\t\t<div class="AXUploadProcessBar"></div>'),po.push("\t</div>"),po.push('\t<div class="AXUploadTit" title="'+f.name.dec()+'" style="display:none;">'+f.name.dec()+"</div>"),po.push("</div>");else{if(po.push('<div class="AXUploadItem '+cfg.openMode+'" id="'+itemID+'" style="display:none;">'),po.push('\t<div class="AXUploadIcon">'),po.push('\t\t<img id="'+itemID+'_preview" class="preview" src="" />'),po.push("\t</div>"),po.push('\t<div class="AXUploadType"><span class="AXUploadSize">'+f.size.number().byte()+"</span></div>"),"view"==cfg.openMode?(po.push('    <a href="#AXExecption" id="'+itemID+'_AXUploadLabel_download" class="AXUploadDownload">'),po.push('    <div class="AXUploadTit" title="'+f.name.dec()+'">'+f.name.dec()),po.push("    </div>"),po.push("    </a>")):po.push('\t<div class="AXUploadTit" title="'+f.name.dec()+'">'+f.name.dec()+"</div>"),po.push('\t<div class="AXUploadProcess">'),po.push('\t\t<div class="AXUploadProcessBar"></div>'),po.push("\t</div>"),po.push('\t<div class="AXUploadBtns" style="display:none;">'),"view"!=cfg.openMode&&po.push('\t\t<a href="#AXExecption" class="AXUploadBtnsA" id="'+itemID+'_AXUploadBtns_deleteFile">del</a>'),po.push("\t</div>"),po.push('\t<div class="AXUploadLabel '+cfg.openMode+'" style="display:none;">'),cfg.formatter){var uf={};uf.id=itemID,uf.name=f.name,uf.type=f.type,uf.size=f.size;var returnStr=cfg.formatter.call(uf,uf);returnStr&&po.push(returnStr)}po.push('\t\t<a href="#AXExecption" id="'+itemID+'_AXUploadLabel_download" class="AXUploadDownload">download</a>'),po.push("\t</div>")}return po.join("")},onFileSelect:function(evt){var cfg=this.config,_this=this;if(this.supportHtml5){var files=evt.target.files;if(files&&files.length>0)if(cfg.isSingleUpload){var myFile=this.uploadedList.first();if(myFile){if(this.__tempFiles=files[0],!confirm(AXConfig.AXUpload5.deleteConfirm))return;var uploadFn=function(){var itemID="AX"+AXUtil.timekey()+"_AX_0";this.queue.push({_id_:itemID,file:_this.__tempFiles}),axdom("#"+cfg.targetID+"_AX_display").empty(),axdom("#"+cfg.targetID+"_AX_display").append(_this.getItemTag(itemID,_this.__tempFiles)),_this.queueLive=!0,cfg.onStart&&cfg.onStart.call(_this.queue,_this.queue),_this.uploadQueue(),itemID=null,_this.__tempFiles=null};return void this.deleteFile(myFile,uploadFn.bind(this))}var i=0,f=files[i],itemID="AX"+AXUtil.timekey()+"_AX_"+i;this.queue.push({_id_:itemID,file:f}),axdom("#"+cfg.targetID+"_AX_display").empty(),axdom("#"+cfg.targetID+"_AX_display").append(this.getItemTag(itemID,f))}else{var sizeOverFile,hasSizeOverFile=!1;cfg.file_types||(cfg.file_types="."),"*.*"==cfg.file_types&&(cfg.file_types="*/*");for(var i=0;i<files.length;i++){var f=files[i];if(f.size>cfg.uploadMaxFileSize){hasSizeOverFile=!0,sizeOverFile=f;break}}hasSizeOverFile&&cfg.onError("fileSize",{name:sizeOverFile.name,size:sizeOverFile.size});for(var uploadedCount=this.uploadedList.length,queueCount=this.queue.length,i=0;i<files.length;i++){var f=files[i];if(f.size<=cfg.uploadMaxFileSize&&(new RegExp(cfg.file_types.replace(/\*/g,"[a-z]"),"ig").test(f.type.toString())||"*/*"==cfg.file_types&&""==f.type)){if(!(uploadedCount+queueCount<cfg.uploadMaxFileCount||0==cfg.uploadMaxFileCount)){cfg.onError("fileCount");break}var itemID="AX"+AXUtil.timekey()+"_AX_"+i;this.queue.push({_id_:itemID,file:f}),"prepend"==cfg.queueBoxAppendType?axdom("#"+cfg.queueBoxID).prepend(this.getItemTag(itemID,f)):axdom("#"+cfg.queueBoxID).append(this.getItemTag(itemID,f)),this.setLocalPreview(itemID,f),axdom("#"+cfg.queueBoxID).find("#"+itemID).fadeIn(),uploadedCount++}}}}else alert("not support HTML5");this.queueLive=!0,cfg.onStart&&cfg.onStart.call(this.queue,this.queue),this.uploadQueue()},onFileDragOver:function(evt){var cfg=this.config;axdom("#"+cfg.dropBoxID).addClass("onDrop"),axdom("#"+cfg.dropBoxID+"_dropZoneBox").show(),axdom("#"+cfg.dropBoxID+"_dropZoneBox").css({height:axdom("#"+cfg.dropBoxID).prop("scrollHeight")-6,width:axdom("#"+cfg.dropBoxID).innerWidth()-6}),document.getElementById(cfg.dropBoxID+"_dropZoneBox").addEventListener("dragleave",function(evt){axdom("#"+cfg.dropBoxID).removeClass("onDrop"),axdom("#"+cfg.dropBoxID+"_dropZoneBox").hide()},!1),evt.stopPropagation(),evt.preventDefault(),evt.dataTransfer.dropEffect="copy"},onFileDrop:function(evt){var cfg=this.config,quebox=axdom("#"+cfg.queueBoxID);evt.stopPropagation(),evt.preventDefault(),axdom("#"+cfg.dropBoxID).removeClass("onDrop"),axdom("#"+cfg.dropBoxID+"_dropZoneBox").hide();for(var sizeOverFile,f,files=evt.dataTransfer.files,hasSizeOverFile=!1,i=0;f=files[i];i++)if(f.size>cfg.uploadMaxFileSize){hasSizeOverFile=!0,sizeOverFile=f;break}hasSizeOverFile&&cfg.onError("fileSize",{name:sizeOverFile.name,size:sizeOverFile.size}),cfg.file_types||(cfg.file_types="."),"*.*"==cfg.file_types&&(cfg.file_types="*/*");for(var f,uploadedCount=(new RegExp(cfg.file_types.replace(/\*/g,"[a-z]"),"ig"),this.uploadedList.length),queueCount=this.queue.length,i=0;f=files[i];i++)if(f.size<=cfg.uploadMaxFileSize&&(new RegExp(cfg.file_types.replace(/\*/g,"[a-z]"),"ig").test(f.type.toString())||"*/*"==cfg.file_types&&""==f.type)){if(!(uploadedCount+queueCount<cfg.uploadMaxFileCount||0==cfg.uploadMaxFileCount)){cfg.onError("fileCount");break}uploadedCount++;var itemID="AX"+AXUtil.timekey()+"_AX_"+i;this.queue.push({_id_:itemID,file:f}),"prepend"==cfg.queueBoxAppendType?quebox.prepend(this.getItemTag(itemID,f)):quebox.append(this.getItemTag(itemID,f)),this.setLocalPreview(itemID,f),quebox.find("#"+itemID).fadeIn()}this.queueLive=!0,cfg.onStart&&cfg.onStart.call(this.queue),this.uploadQueue()},pauseQueue:function(){this.queueLive=!1},uploadQueue:function(fileUpload){var cfg=this.config;if((0!=cfg.fileSelectAutoUpload||void 0!=fileUpload)&&(0==cfg.fileSelectAutoUpload&&void 0!=fileUpload&&this.swfu&&(this.swfu.settings.allowUpload=!0,this.swfu.startUpload()),this.queueLive)){if(0==this.queue.length)return void this.uploadComplete();var uploadQueue=this.uploadQueue.bind(this),cancelUpload=this.cancelUpload.bind(this),uploadSuccess=this.uploadSuccess.bind(this),onClickDeleteButton=this.onClickDeleteButton.bind(this),onClickFileTitle=this.onClickFileTitle.bind(this),obj=this.queue.shift();this.uploadingObj=obj;var formData=new FormData;axdom.each(cfg.uploadPars,function(k,v){formData.append(k,v)}),formData.append(cfg.uploadFileName,obj.file);var itemID=obj._id_,itembox=(axdom("#"+cfg.queueBoxID),axdom("#"+itemID));this.xhr=new XMLHttpRequest,this.xhr.open("POST",cfg.uploadUrl,!0),this.xhr.onload=function(e){var res=e.target.response;try{"string"==typeof res&&(res=res.object())}catch(e){return trace(e),void cancelUpload()}if("err"==res.result||res.error)return alert("파일전송에 실패 하였습니다. 서버에서 에러가 리턴되었습니다. 콘솔창을 확인 하세요."),trace(res),axdom("#"+itemID).fadeOut("slow"),void cancelUpload();if(cfg.isSingleUpload)itembox.find(".AXUploadBtns").show(),itembox.find(".AXUploadLabel").show(),itembox.find(".AXUploadTit").show(),itembox.find(".AXUploadProcess").hide(),uploadSuccess(obj.file,itemID,res),itembox.find(".AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&itembox.find(".AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)});else{itembox.find(".AXUploadBtns").show(),itembox.find(".AXUploadLabel").show(),itembox.find(".AXUploadProcess").hide();var _res=Object.isArray(res)?res[0]:res;_res[cfg.fileKeys.thumbPath]?itembox.find(".AXUploadIcon").css({"background-image":"url('"+(_res[cfg.fileKeys.thumbPath]||"").dec()+"')"}).addClass("AXUploadPreview").find("img.preview").remove():(itembox.find(".AXUploadIcon").css({"background-image":"url()"}),itembox.find(".AXUploadIcon").html((_res[cfg.fileKeys.type]||"").dec().replace(".",""))),uploadSuccess(obj.file,itemID,_res),itembox.find(".AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&itembox.find(".AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)})}uploadQueue(fileUpload)};var setUploadingObj=function(){this.uploadingObj=null},setUploadingObjBind=setUploadingObj.bind(this);this.xhr.upload.onprogress=function(e){cfg.isSingleUpload,e.lengthComputable&&itembox.find(".AXUploadProcessBar").width((e.loaded/e.total*100).round(2)+"%"),e.lengthComputable&&e.loaded>.9*e.total&&setUploadingObjBind()},this.xhr.send(formData)}},uploadSuccess:function(file,itemID,res){var cfg=this.config,uploadedItem={};uploadedItem[cfg.fileKeys._id_]=itemID;var _res=Object.isArray(res)?res[0]:res;axdom.each(_res,function(k,v){uploadedItem[k]=v}),"prepend"==cfg.queueBoxAppendType?this.uploadedList.splice(0,0,uploadedItem):this.uploadedList.push(uploadedItem),axdom("#"+itemID).addClass("readyselect"),cfg.onUpload&&cfg.onUpload.call(uploadedItem,uploadedItem)},clearQueue:function(){axdom.each(this.queue,function(){axdom("#"+this.id).hide(function(){axdom(this).remove()})}),this.queue=[]},uploadComplete:function(){var cfg=this.config;AXgetId(cfg.targetID+"_AX_files")&&(document.getElementById(cfg.targetID+"_AX_files").value=""),cfg.queueBoxID&&this.multiSelector.collect(),cfg.onComplete&&cfg.onComplete.call(this.uploadedList,this.uploadedList)},cancelUpload:function(){var cfg=this.config;if(this.swfu){this.swfu.stopUpload();for(var stats=this.swfu.getStats();stats.files_queued>0;)this.swfu.cancelUpload(),stats=this.swfu.getStats();stats=null,this.pauseQueue(),this.clearQueue()}else this.uploadingObj&&(this.xhr.abort(),axdom("#"+this.uploadingObj.id).remove(),this.uploadingObj=null),this.pauseQueue(),this.clearQueue();cfg.onComplete&&cfg.onComplete.call(this.uploadedList,this.uploadedList)},onClickDeleteButton:function(itemID){var cfg=this.config;if(cfg.isSingleUpload){var myFile;axdom.each(this.uploadedList,function(){if(this[cfg.fileKeys._id_]==itemID)return myFile=this,!1}),myFile&&0!=this.deleteFile(myFile)&&this.init("reset"),myFile=null}else{var myFile;axdom.each(this.uploadedList,function(){if(this[cfg.fileKeys._id_]==itemID)return myFile=this,!1}),myFile&&(this.deleteFile(myFile),cfg.queueBoxID&&this.multiSelector.clearSelects()),myFile=null}},onClickFileTitle:function(itemID){var cfg=this.config;if(cfg.onClickUploadedItem){var myFile;axdom.each(this.uploadedList,function(){if(this[cfg.fileKeys._id_]==itemID)return myFile=this,!1}),cfg.onClickUploadedItem.call(myFile,myFile)}},deleteFile:function(file,onEnd,withOutServer){var cfg=this.config;if(!onEnd&&!confirm(AXConfig.AXUpload5.deleteConfirm))return!1;var removeUploadedList=this.removeUploadedList.bind(this);if(void 0!=file){if("withOutServer"==withOutServer)return cfg.isSingleUpload?axdom("#"+cfg.targetID+"_AX_display").html(AXConfig.AXUpload5.uploadSelectTxt):axdom("#"+file[cfg.fileKeys._id_]).hide(function(){axdom(this).remove()}),removeUploadedList(file[cfg.fileKeys._id_]),cfg.onDelete&&cfg.onDelete.call({file:file,response:withOutServer},file),void(onEnd&&onEnd());var pars=[],sendPars="";axdom.each(file,function(k,v){"downloadPath"!=k&&pars.push(k+"="+v)}),"object"==typeof cfg.deletePars?(axdom.each(cfg.deletePars,function(k,v){pars.push(k+"="+v)}),sendPars=pars.join("&")):sendPars=pars.join("&")+"&"+cfg.deletePars,cfg.isSingleUpload?axdom("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").hide():axdom("#"+cfg.queueBoxID).find("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").hide(),new AXReq(cfg.deleteUrl,{method:cfg.deleteMethod||"POST",debug:!1,pars:sendPars,onsucc:function(res){res.result&&res.result==AXConfig.AXReq.okCode||void 0==res.result&&!res.error?(onEnd&&setTimeout(onEnd,1),cfg.isSingleUpload?axdom("#"+cfg.targetID+"_AX_display").html(AXConfig.AXUpload5.uploadSelectTxt):axdom("#"+file[cfg.fileKeys._id_]).hide(function(){axdom(this).remove()}),cfg.onDelete&&cfg.onDelete.call({file:file,response:res},file),removeUploadedList(file[cfg.fileKeys._id_])):cfg.isSingleUpload?axdom("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").show():axdom("#"+cfg.queueBoxID).find("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").show()},onerr:function(){cfg.isSingleUpload?axdom("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").show():axdom("#"+cfg.queueBoxID).find("#"+file[cfg.fileKeys._id_]+" .AXUploadBtns").show()}})}else trace("file undefined")},deleteSelect:function(arg,withOutServer){var cfg=this.config;if("all"==arg){var deleteQueue=[];axdom.each(this.uploadedList,function(){deleteQueue.push(this[cfg.fileKeys._id_])}),this.ccDelete(deleteQueue,0,withOutServer),deleteQueue=null}else{if(!this.multiSelector)return;var selectObj=this.multiSelector.getSelects();if(selectObj.length>0){var deleteQueue=[];axdom.each(selectObj,function(){deleteQueue.push(this.id)}),this.ccDelete(deleteQueue,0,withOutServer),deleteQueue=null}else alert("삭제하실 파일을 선택해 주세요")}},ccDelete:function(deleteQueue,index,withOutServer){var cfg=this.config;if(deleteQueue.length>index){var myFile;axdom.each(this.uploadedList,function(){if(this[cfg.fileKeys._id_]==deleteQueue[index])return myFile=this,!1});var ccDelete=this.ccDelete.bind(this);this.deleteFile(myFile,function(){ccDelete(deleteQueue,index+1,withOutServer)},withOutServer)}},removeUploadedList:function(fid){var cfg=this.config,newUploadedList=[];axdom.each(this.uploadedList,function(){this[cfg.fileKeys._id_]!=fid&&newUploadedList.push(this)}),this.uploadedList=newUploadedList,newUploadedList=null,this.config.onDeleteAll&&this.uploadedList.length<1&&this.config.onDeleteAll.call(),this.multiSelector.collect()},showMSG:function(msg){dialog.push(msg)},setUploadedList:function(files){var cfg=this.config,getItemTag=this.getItemTag.bind(this),onClickDeleteButton=this.onClickDeleteButton.bind(this),onClickFileTitle=this.onClickFileTitle.bind(this);if(cfg.isSingleUpload){this.uploadedList=[];var f;if(axdom.isArray(files)?Object.isObject(files[0])&&(f=files[0]):Object.isObject(files)&&(f=files),!f)return;if(!f[cfg.fileKeys._id_]){if(!f.id)return;f[cfg.fileKeys._id_]=f.id}this.uploadedList.push(f);var itembox,itemID=f[cfg.fileKeys._id_]||f.id,uf={id:itemID,name:f[cfg.fileKeys.name],size:f[cfg.fileKeys.fileSize]};itembox=axdom("#"+cfg.targetID+"_AX_display"),"prepend"==cfg.queueBoxAppendType?itembox.empty().prepend(this.getItemTag(itemID,uf)):itembox.empty().append(this.getItemTag(itemID,uf)),itembox.find(".AXUploadBtns").show(),itembox.find(".AXUploadLabel").show(),itembox.find(".AXUploadTit").show(),itembox.find(".AXUploadProcess").hide(),itembox.find(".AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&itembox.find(".AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)})}else{this.uploadedList=[];var uploadedList=[];if(axf.each(files,function(){this&&uploadedList.push(this)}),this.uploadedList=uploadedList,cfg.queueBoxID){var quebox=axdom("#"+cfg.queueBoxID);quebox.find(".dropZoneBox").empty(),quebox.remove(".AXUploadItem"),axdom.each(this.uploadedList,function(fidx,f){if(void 0==f[cfg.fileKeys._id_]){if(!f.id)return trace([cfg.fileKeys._id_]+" key는 필수 항목 입니다."),!1;f[cfg.fileKeys._id_]=f.id}var itembox,itemID=f[cfg.fileKeys._id_],uf={id:itemID,name:f[cfg.fileKeys.name],size:f[cfg.fileKeys.fileSize]};"prepend"==cfg.queueBoxAppendType?quebox.prepend(getItemTag(itemID,uf)):quebox.append(getItemTag(itemID,uf)),itembox=axdom("#"+itemID),itembox.fadeIn(),itembox.find(".AXUploadBtns").show(),itembox.find(".AXUploadLabel").show(),itembox.find(".AXUploadProcess").hide(),f[cfg.fileKeys.thumbPath]?itembox.find(".AXUploadIcon").css({"background-image":"url('"+(f[cfg.fileKeys.thumbPath]||"").dec()+"')"}).addClass("AXUploadPreview").find("img.preview").remove():(itembox.find(".AXUploadIcon").css({"background-image":"none"}),itembox.find(".AXUploadIcon").html((f[cfg.fileKeys.type]||"").dec().replace(".",""))),itembox.find(".AXUploadBtnsA").bind("click",function(){onClickDeleteButton(itemID)}),cfg.onClickUploadedItem&&itembox.find(".AXUploadDownload").bind("click",function(){onClickFileTitle(itemID)}),f.mainImage&&$("#"+f.id+"_AXUploadLabel_mainImageFile").show(),itembox.addClass("readyselect")}),this.multiSelector.collect()}}},getUploadedList:function(arg){var cfg=this.config;if(cfg.uploadedListSort&&(this.uploadedList=cfg.uploadedListSort.call(this,this.uploadedList)),"param"!=arg)return this.uploadedList;try{var pars=[];return this.uploadedList&&axdom.each(this.uploadedList,function(){""!=this&&pars.push(axdom.param(this))}),pars.join("&")}catch(e){trace(e)}},getSelectUploadedList:function(arg){if(this.multiSelector){var selectObj=this.multiSelector.getSelects();if("param"==arg){var pars=[];return axdom.each(this.uploadedList,function(){for(var a=0;a<selectObj.length;a++)this.id==selectObj[a].id&&pars.push(axdom.param(this))}),pars.join("&")}var pars=[];return axdom.each(this.uploadedList,function(){for(var a=0;a<selectObj.length;a++)this.id==selectObj[a].id&&pars.push(this)}),pars}},setUploadedFile:function(file){if(file&&file[this.config.fileKeys.id]){this.uploadedList=[],this.uploadedList.push(file),fileNameMaxLen=this.settings.fileNameMaxLen;var po=[],UploadDisplay_id=(this.settings.dfileicon,this.settings.UploadDisplay_id),onClickButton=this.onClickButton.bind(this),AXfile=this.uploadedList.first(),po=[];if(po.push("<div class='AXFileTitleBlock'>"),po.push("<a href='#AXexec' class='AXFileTitle'>"+AXfile.ti.dec()+"</a>"),po.push("<a href='#AXexec' class='AXFileDelete'>X</a>"),po.push("</div>"),axdom("#"+UploadDisplay_id).html(po.join("")),axdom("#"+UploadDisplay_id).find(".AXFileDelete").bind("click",onClickButton),this.settings.onclick){var onclick=this.settings.onclick.bind(this);axdom("#"+UploadDisplay_id).find(".AXFileTitle").bind("click",function(){onclick(AXfile)})}po=null,fileNameMaxLen=null}},getUploadedFile:function(){return this.uploadedList.first()},addKeyInUploadedListItem:function(objID,obj){var uploadedList=this.uploadedList;axdom.each(uploadedList,function(idx,o){o.id==objID?axdom.each(obj,function(k,v){o[k]=v}):axdom.each(obj,function(k,v){o[k]=""})})},setLocalPreview:function(itemID,file){if(this.supportHtml5&&!this.config.isSingleUpload&&this.supportHtml5&&!this.config.isSingleUpload)try{var previewId=itemID+"_preview",preview=axf.getId(previewId),reader=new FileReader(previewId);reader.onloadend=function(){try{preview.src=reader.result}catch(ex){trace(ex)}},file&&reader.readAsDataURL(file)}catch(e){trace(e)}},nothing:function(){}});